\n2025-08-04 12:49:39,998 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 12:49:40,050 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:49:40,056 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:49:40,056 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:49:43,598 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 12:49:43,638 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:49:43,645 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:49:43,645 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:49:43,837 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 12:50:15,602 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 12:50:15,728 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-04 12:50:15,728 - INFO - HYBRID design request from suakbenli@gmail.com: salon - modern
\n2025-08-04 12:50:15,728 - INFO - Generating HYBRID design suggestion: salon - modern
\n2025-08-04 12:50:15,728 - INFO - Added room dimensions to context: 400x4000x300 cm
\n2025-08-04 12:50:15,728 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 12:50:15,728 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 12:50:24,666 - WARNING - Unknown function call: 
\n2025-08-04 12:50:24,667 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 12:50:24,667 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 12:50:25,724 - INFO - Found 0 products for category=koltuk
\n2025-08-04 12:50:25,725 - INFO - Product marked as fake: Köşe Koltuk Takımı
\n2025-08-04 12:50:25,727 - INFO - Searching products: category=sehpa, style=modern, color=beyaz
\n2025-08-04 12:50:25,790 - INFO - Found 0 products for category=sehpa
\n2025-08-04 12:50:25,790 - INFO - Product marked as fake: Orta Sehpa
\n2025-08-04 12:50:25,790 - INFO - Searching products: category=kitaplik, style=modern, color=dogal
\n2025-08-04 12:50:25,852 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 12:50:25,853 - INFO - Product marked as fake: Duvara Monte Kitaplık
\n2025-08-04 12:50:25,853 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-04 12:50:25,914 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 12:50:25,915 - INFO - Product marked as fake: Ayaklı Lambader
\n2025-08-04 12:50:25,915 - INFO - Searching products: category=tv_unitesi, style=modern, color=beyaz
\n2025-08-04 12:50:25,977 - INFO - Found 0 products for category=tv_unitesi
\n2025-08-04 12:50:25,977 - INFO - Product marked as fake: Duvara Monte TV Ünitesi
\n2025-08-04 12:50:25,977 - INFO - Searching products: category=halı, style=modern, color=bej
\n2025-08-04 12:50:26,039 - INFO - Found 0 products for category=halı
\n2025-08-04 12:50:26,040 - INFO - Product marked as fake: Yün Halı
\n2025-08-04 12:50:26,040 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-04 12:50:26,102 - INFO - Found 0 products for category=perde
\n2025-08-04 12:50:26,102 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 12:50:26,102 - INFO - Searching products: category=dekoratif_aksesuar, style=modern, color=toprak
\n2025-08-04 12:50:26,164 - INFO - Found 0 products for category=dekoratif_aksesuar
\n2025-08-04 12:50:26,164 - INFO - Product marked as fake: Seramik Vazo
\n2025-08-04 12:50:26,165 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-04 12:50:26,165 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 12:50:26,165 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Salon Tasarımı: Huzurlu ve Fonksiyonel Yaşam Alanı
\n2025-08-04 12:50:26,165 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-04 12:50:26,165 - INFO - Starting HYBRID background room visualization generation for connection: 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb
\n2025-08-04 12:50:26,165 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 12:50:26,610 - INFO - Design saved to database for suakbenli@gmail.com with ID: b0f63baf-3556-4db8-935c-54faed2de2f4
\n2025-08-04 12:50:26,610 - INFO - Hashtags from Gemini for design b0f63baf-3556-4db8-935c-54faed2de2f4: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk'], 'unknown': []}
\n2025-08-04 12:50:26,611 - INFO - Saving hashtags for design b0f63baf-3556-4db8-935c-54faed2de2f4: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk'], 'unknown': []}
\n2025-08-04 12:50:26,799 - INFO - Saved 10 hashtags for design b0f63baf-3556-4db8-935c-54faed2de2f4
\n2025-08-04 12:50:26,799 - INFO - Hashtags saved for design b0f63baf-3556-4db8-935c-54faed2de2f4: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk']
\n2025-08-04 12:50:26,799 - INFO - Hashtags saved for design b0f63baf-3556-4db8-935c-54faed2de2f4: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#oturma_odasi', '#tv_unitesi', '#beyaz_mobilya', '#dogal_ahsap', '#konforlu_koltuk']
\n2025-08-04 12:50:26,800 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-04 12:50:26,800 - INFO - Hybrid mood board generation - Design ID: b0f63baf-3556-4db8-935c-54faed2de2f4 (type: <class 'str'>)
\n2025-08-04 12:50:26,801 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: preparing_prompt
\n2025-08-04 12:50:26,801 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: preparing_prompt
\n2025-08-04 12:50:26,801 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: optimizing_prompt
\n2025-08-04 12:50:26,801 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:26,816 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 12:50:26,816 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:26,817 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:28,006 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:28,007 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:28,317 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'b0f63baf-3556-4db8-935c-54faed2de2f4'}]
\n2025-08-04 12:50:28,536 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'b0f63baf-3556-4db8-935c-54faed2de2f4'}]
\n2025-08-04 12:50:28,822 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:50:28,827 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:50:28,828 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:50:29,521 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:29,793 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:50:29,798 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:50:29,798 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:50:31,036 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:32,541 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:34,043 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:35,246 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'b0f63baf-3556-4db8-935c-54faed2de2f4'}]
\n2025-08-04 12:50:35,346 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:50:35,351 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:50:35,352 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:50:35,473 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'b0f63baf-3556-4db8-935c-54faed2de2f4'}]
\n2025-08-04 12:50:35,557 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:35,880 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:50:35,887 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:50:35,888 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:50:37,063 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:37,494 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:37,495 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: generating_image
\n2025-08-04 12:50:37,841 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 12:50:37,843 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: processing_image
\n2025-08-04 12:50:37,843 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: processing_image
\n2025-08-04 12:50:37,854 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_125037_9487aa47.png
\n2025-08-04 12:50:37,856 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: finalizing
\n2025-08-04 12:50:37,856 - INFO - Hybrid mood board data structure for 9487aa47-03d2-4d25-a87d-ce02688ea93c:
\n2025-08-04 12:50:37,857 - INFO -   - mood_board_id: 9487aa47-03d2-4d25-a87d-ce02688ea93c
\n2025-08-04 12:50:37,857 - INFO -   - created_at: 2025-08-04T12:50:37.856883
\n2025-08-04 12:50:37,857 - INFO -   - image_data.created_at: 2025-08-04T12:50:37.856883
\n2025-08-04 12:50:37,858 - INFO -   - generation_metadata.generated_at: 2025-08-04T12:50:37.856883
\n2025-08-04 12:50:37,858 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_125037_9487aa47.png
\n2025-08-04 12:50:38,252 - INFO - Mood board progress updated for 66cc25e4-5ee1-4cd8-8db4-b196fcf68dfb: completed
\n2025-08-04 12:50:38,253 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: b0f63baf-3556-4db8-935c-54faed2de2f4 (type: <class 'str'>)
\n2025-08-04 12:50:38,253 - INFO - Creating MoodBoard with:
\n2025-08-04 12:50:38,253 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-04 12:50:38,253 - INFO -   design_id: b0f63baf-3556-4db8-935c-54faed2de2f4 (type: <class 'str'>)
\n2025-08-04 12:50:38,253 - INFO -   mood_board_id: 9487aa47-03d2-4d25-a87d-ce02688ea93c (type: <class 'str'>)
\n2025-08-04 12:50:38,254 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_125037_9487aa47.png... (type: <class 'str'>)
\n2025-08-04 12:50:38,254 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in modern styl... (type: <class 'str'>)
\n2025-08-04 12:50:38,786 - INFO - Mood board 9487aa47-03d2-4d25-a87d-ce02688ea93c saved to database and linked to design b0f63baf-3556-4db8-935c-54faed2de2f4
\n2025-08-04 12:50:38,786 - INFO - Hybrid mood board generated successfully: 9487aa47-03d2-4d25-a87d-ce02688ea93c with 0 real + 8 fake products
\n2025-08-04 12:50:49,657 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'b0f63baf-3556-4db8-935c-54faed2de2f4'}]
\n2025-08-04 12:50:49,680 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:50:49,685 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:50:49,685 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:50:49,851 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': 'b0f63baf-3556-4db8-935c-54faed2de2f4'}]
\n2025-08-04 12:50:50,135 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:50:50,139 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:50:50,139 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:51:01,316 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:51:01,321 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:51:01,322 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:51:04,042 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:51:04,046 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:51:04,046 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:51:04,495 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:51:04,499 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:51:04,500 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:51:10,416 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:51:10,420 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:51:10,420 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 12:51:10,990 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 12:51:10,995 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 12:51:10,995 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:01:52,030 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:01:52,089 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:01:52,094 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:01:52,095 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:01:56,205 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:01:56,256 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:01:56,263 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:01:56,263 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:01:56,502 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:06:31,568 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:06:31,708 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:06:31,709 - INFO - HYBRID design request from suakbenli@gmail.com: salon - modern
\n2025-08-04 15:06:31,709 - INFO - Generating HYBRID design suggestion: salon - modern
\n2025-08-04 15:06:31,710 - INFO - Added room dimensions to context: 400x500x300 cm
\n2025-08-04 15:06:31,710 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 15:06:31,710 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 15:06:41,593 - WARNING - Unknown function call: 
\n2025-08-04 15:06:41,594 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 15:06:41,594 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 15:06:42,708 - INFO - Found 0 products for category=koltuk
\n2025-08-04 15:06:42,708 - INFO - Product marked as fake: Köşe Koltuk Takımı
\n2025-08-04 15:06:42,708 - INFO - Searching products: category=sehpa, style=modern, color=beyaz
\n2025-08-04 15:06:42,776 - INFO - Found 0 products for category=sehpa
\n2025-08-04 15:06:42,777 - INFO - Product marked as fake: Orta Sehpa
\n2025-08-04 15:06:42,777 - INFO - Searching products: category=kitaplik, style=modern, color=venge
\n2025-08-04 15:06:42,844 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 15:06:42,845 - INFO - Product marked as fake: Duvara Monte Kitaplık
\n2025-08-04 15:06:42,845 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-04 15:06:42,912 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 15:06:42,912 - INFO - Product marked as fake: Ayaklı Lambader
\n2025-08-04 15:06:42,912 - INFO - Searching products: category=tv_unitesi, style=modern, color=beyaz
\n2025-08-04 15:06:42,978 - INFO - Found 0 products for category=tv_unitesi
\n2025-08-04 15:06:42,979 - INFO - Product marked as fake: Modern TV Ünitesi
\n2025-08-04 15:06:42,979 - INFO - Searching products: category=halı, style=modern, color=gri
\n2025-08-04 15:06:43,046 - INFO - Found 0 products for category=halı
\n2025-08-04 15:06:43,046 - INFO - Product marked as fake: Geometrik Desenli Halı
\n2025-08-04 15:06:43,046 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-04 15:06:43,114 - INFO - Found 0 products for category=perde
\n2025-08-04 15:06:43,115 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 15:06:43,115 - INFO - Searching products: category=dekoratif_yastik, style=modern, color=çok renkli
\n2025-08-04 15:06:43,181 - INFO - Found 0 products for category=dekoratif_yastik
\n2025-08-04 15:06:43,182 - INFO - Product marked as fake: Desenli Dekoratif Yastıklar (4 adet)
\n2025-08-04 15:06:43,182 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-04 15:06:43,182 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 15:06:43,182 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Salon Tasarımı: Aile Konforu ve Şıklık
\n2025-08-04 15:06:43,182 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-04 15:06:43,183 - INFO - Starting HYBRID background room visualization generation for connection: 82acd127-7d6c-4ac9-8420-f456b8f9b76b
\n2025-08-04 15:06:43,183 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 15:06:43,639 - INFO - Design saved to database for suakbenli@gmail.com with ID: 580c8585-1346-4be3-b011-381a5e645cab
\n2025-08-04 15:06:43,639 - INFO - Hashtags from Gemini for design 580c8585-1346-4be3-b011-381a5e645cab: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-04 15:06:43,639 - INFO - Saving hashtags for design 580c8585-1346-4be3-b011-381a5e645cab: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-04 15:06:43,824 - INFO - Saved 10 hashtags for design 580c8585-1346-4be3-b011-381a5e645cab
\n2025-08-04 15:06:43,824 - INFO - Hashtags saved for design 580c8585-1346-4be3-b011-381a5e645cab: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer']
\n2025-08-04 15:06:43,825 - INFO - Hashtags saved for design 580c8585-1346-4be3-b011-381a5e645cab: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_mobilyalar', '#notr_renkler', '#dogal_isik', '#fonksiyonel_tasarim', '#sicak_atmosfer']
\n2025-08-04 15:06:43,832 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:06:43,832 - INFO - Hybrid mood board generation - Design ID: 580c8585-1346-4be3-b011-381a5e645cab (type: <class 'str'>)
\n2025-08-04 15:06:43,833 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: preparing_prompt
\n2025-08-04 15:06:43,833 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: preparing_prompt
\n2025-08-04 15:06:43,834 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: optimizing_prompt
\n2025-08-04 15:06:43,834 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:43,853 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 15:06:43,854 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:43,855 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:45,068 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:45,069 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:45,380 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': '580c8585-1346-4be3-b011-381a5e645cab'}]
\n2025-08-04 15:06:45,585 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': '580c8585-1346-4be3-b011-381a5e645cab'}]
\n2025-08-04 15:06:45,831 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:06:45,845 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:06:45,846 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:06:46,573 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:46,751 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:06:46,767 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:06:46,772 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:06:48,087 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:49,601 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:51,115 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:52,625 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:54,029 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:54,031 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: generating_image
\n2025-08-04 15:06:54,759 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 15:06:54,760 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: processing_image
\n2025-08-04 15:06:54,761 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: processing_image
\n2025-08-04 15:06:54,783 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_150654_3752a25e.png
\n2025-08-04 15:06:54,785 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: finalizing
\n2025-08-04 15:06:54,786 - INFO - Hybrid mood board data structure for 3752a25e-4f3d-4d11-9e25-03125845a3cd:
\n2025-08-04 15:06:54,786 - INFO -   - mood_board_id: 3752a25e-4f3d-4d11-9e25-03125845a3cd
\n2025-08-04 15:06:54,786 - INFO -   - created_at: 2025-08-04T15:06:54.786140
\n2025-08-04 15:06:54,787 - INFO -   - image_data.created_at: 2025-08-04T15:06:54.786140
\n2025-08-04 15:06:54,787 - INFO -   - generation_metadata.generated_at: 2025-08-04T15:06:54.786140
\n2025-08-04 15:06:54,787 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_150654_3752a25e.png
\n2025-08-04 15:06:55,534 - INFO - Mood board progress updated for 82acd127-7d6c-4ac9-8420-f456b8f9b76b: completed
\n2025-08-04 15:06:55,535 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 580c8585-1346-4be3-b011-381a5e645cab (type: <class 'str'>)
\n2025-08-04 15:06:55,535 - INFO - Creating MoodBoard with:
\n2025-08-04 15:06:55,535 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-04 15:06:55,535 - INFO -   design_id: 580c8585-1346-4be3-b011-381a5e645cab (type: <class 'str'>)
\n2025-08-04 15:06:55,536 - INFO -   mood_board_id: 3752a25e-4f3d-4d11-9e25-03125845a3cd (type: <class 'str'>)
\n2025-08-04 15:06:55,536 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_150654_3752a25e.png... (type: <class 'str'>)
\n2025-08-04 15:06:55,536 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in modern styl... (type: <class 'str'>)
\n2025-08-04 15:06:56,068 - INFO - Mood board 3752a25e-4f3d-4d11-9e25-03125845a3cd saved to database and linked to design 580c8585-1346-4be3-b011-381a5e645cab
\n2025-08-04 15:06:56,070 - INFO - Hybrid mood board generated successfully: 3752a25e-4f3d-4d11-9e25-03125845a3cd with 0 real + 8 fake products
\n2025-08-04 15:07:14,361 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': '580c8585-1346-4be3-b011-381a5e645cab'}]
\n2025-08-04 15:07:14,612 - WARNING - Validation Error: [{'type': 'int_parsing', 'loc': ('path', 'design_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': '580c8585-1346-4be3-b011-381a5e645cab'}]
\n2025-08-04 15:07:14,864 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:14,879 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:14,880 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:15,634 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:15,641 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:15,641 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:17,262 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:17,274 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:17,275 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:22,482 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:22,488 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:22,488 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:23,146 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:23,153 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:23,153 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:29,446 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:29,452 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:29,452 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:29,944 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:29,949 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:29,949 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:49,326 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:49,331 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:49,331 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:52,903 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:52,907 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:52,908 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:07:53,612 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:07:53,617 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:07:53,617 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:10:53,714 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:10:53,721 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:10:53,721 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:10:54,320 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:10:54,327 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:10:54,327 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:11:55,216 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:12:06,632 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:12:06,746 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:12:06,757 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:12:06,758 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:12:07,163 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:12:26,923 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:12:26,938 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:12:26,939 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:12:27,402 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:12:27,414 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:12:27,415 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:15:48,318 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:15:48,409 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:15:48,418 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:15:48,418 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:15:53,685 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:15:53,740 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:15:53,747 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:15:53,747 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:15:54,031 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:17:12,791 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:17:18,091 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:17:18,141 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:17:18,147 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:17:18,148 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:17:18,333 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:17:43,959 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:17:45,729 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:17:45,730 - INFO - HYBRID design request from suakbenli@gmail.com: banyo - modern
\n2025-08-04 15:17:45,730 - INFO - Generating HYBRID design suggestion: banyo - modern
\n2025-08-04 15:17:45,730 - INFO - Added room dimensions to context: 400x500x240 cm
\n2025-08-04 15:17:45,731 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 15:17:45,731 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 15:17:55,077 - WARNING - Unknown function call: 
\n2025-08-04 15:17:55,077 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 15:17:55,077 - INFO - Searching products: category=Aydınlatma, style=modern, color=beyaz
\n2025-08-04 15:17:56,126 - INFO - Product SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz: original_path=/data/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> relative_path=aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> image_url=http://localhost:8000/static/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg
\n2025-08-04 15:17:56,127 - INFO - Found 1 products for category=Aydınlatma
\n2025-08-04 15:17:56,127 - INFO - Enhanced product with real data: SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz
\n2025-08-04 15:17:56,127 - INFO - Searching products: category=Banyo Dolabı, style=modern, color=beyaz
\n2025-08-04 15:17:56,190 - INFO - Found 0 products for category=Banyo Dolabı
\n2025-08-04 15:17:56,191 - INFO - Product marked as fake: Duvara Monte Lavabo Dolabı
\n2025-08-04 15:17:56,191 - INFO - Searching products: category=Duşakabin, style=modern, color=şeffaf
\n2025-08-04 15:17:56,255 - INFO - Found 0 products for category=Duşakabin
\n2025-08-04 15:17:56,255 - INFO - Product marked as fake: Temperli Cam Duşakabin
\n2025-08-04 15:17:56,256 - INFO - Searching products: category=Lavabo, style=modern, color=beyaz
\n2025-08-04 15:17:56,320 - INFO - Product HAMNSKÄR krom kaplama 19 cm lavabo bataryası: original_path=/data/products/lavabo/hamnskar-krom-kaplama-19-cm-lavabo-bataryasi.jpg -> relative_path=lavabo/hamnskar-krom-kaplama-19-cm-lavabo-bataryasi.jpg -> image_url=http://localhost:8000/static/products/lavabo/hamnskar-krom-kaplama-19-cm-lavabo-bataryasi.jpg
\n2025-08-04 15:17:56,321 - INFO - Found 1 products for category=Lavabo
\n2025-08-04 15:17:56,321 - INFO - Enhanced product with real data: HAMNSKÄR krom kaplama 19 cm lavabo bataryası
\n2025-08-04 15:17:56,321 - INFO - Searching products: category=Ayna, style=modern, color=gümüş
\n2025-08-04 15:17:56,385 - INFO - Product TOFTBYN beyaz 75x165 cm boy aynası: original_path=/data/products/ayna/toftbyn-beyaz-75x165-cm-boy-aynasi.jpg -> relative_path=ayna/toftbyn-beyaz-75x165-cm-boy-aynasi.jpg -> image_url=http://localhost:8000/static/products/ayna/toftbyn-beyaz-75x165-cm-boy-aynasi.jpg
\n2025-08-04 15:17:56,386 - INFO - Found 1 products for category=Ayna
\n2025-08-04 15:17:56,386 - INFO - Enhanced product with real data: TOFTBYN beyaz 75x165 cm boy aynası
\n2025-08-04 15:17:56,386 - INFO - Searching products: category=Batarya, style=modern, color=gümüş
\n2025-08-04 15:17:56,450 - INFO - Found 0 products for category=Batarya
\n2025-08-04 15:17:56,451 - INFO - Product marked as fake: Paslanmaz Çelik Lavabo Bataryası
\n2025-08-04 15:17:56,451 - INFO - Searching products: category=Havlu Radyatörü, style=modern, color=beyaz
\n2025-08-04 15:17:56,514 - INFO - Found 0 products for category=Havlu Radyatörü
\n2025-08-04 15:17:56,514 - INFO - Product marked as fake: Elektrikli Havlu Isıtıcı
\n2025-08-04 15:17:56,515 - INFO - Searching products: category=Klozet, style=modern, color=beyaz
\n2025-08-04 15:17:56,577 - INFO - Found 0 products for category=Klozet
\n2025-08-04 15:17:56,578 - INFO - Product marked as fake: Asma Klozet
\n2025-08-04 15:17:56,578 - INFO - Product enhancement complete: 3 real, 5 fake products
\n2025-08-04 15:17:56,578 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 15:17:56,578 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Banyo Tasarımı
\n2025-08-04 15:17:56,579 - INFO - Product mix: 3 real + 5 fake = 8 total (38% real)
\n2025-08-04 15:17:56,579 - INFO - Starting HYBRID background room visualization generation for connection: 67a1e139-590d-42f0-b4a2-52be1599fe28
\n2025-08-04 15:17:56,579 - INFO - Mood board will use 3 real product images for visual reference
\n2025-08-04 15:17:57,097 - INFO - Design saved to database for suakbenli@gmail.com with ID: 0508ee1c-9988-43f4-ab11-9f05849d53a8
\n2025-08-04 15:17:57,097 - INFO - Hashtags from Gemini for design 0508ee1c-9988-43f4-ab11-9f05849d53a8: {'en': [], 'tr': ['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo'], 'display': ['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo'], 'unknown': []}
\n2025-08-04 15:17:57,097 - INFO - Saving hashtags for design 0508ee1c-9988-43f4-ab11-9f05849d53a8: {'en': [], 'tr': ['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo'], 'display': ['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo'], 'unknown': []}
\n2025-08-04 15:17:57,298 - INFO - Saved 10 hashtags for design 0508ee1c-9988-43f4-ab11-9f05849d53a8
\n2025-08-04 15:17:57,298 - INFO - Hashtags saved for design 0508ee1c-9988-43f4-ab11-9f05849d53a8: EN=[], TR=['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo']
\n2025-08-04 15:17:57,298 - INFO - Hashtags saved for design 0508ee1c-9988-43f4-ab11-9f05849d53a8: EN=[] TR=['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo'] DISPLAY=['#ic_tasarim', '#banyo_tasarimi', '#modern_banyo', '#ferah_banyo', '#aile_banyosu', '#işlevsel_banyo', '#nötr_renkler', '#doğal_ışık', '#konforlu_banyo', '#şık_banyo']
\n2025-08-04 15:17:57,299 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:17:57,300 - INFO - Hybrid mood board generation - Design ID: 0508ee1c-9988-43f4-ab11-9f05849d53a8 (type: <class 'str'>)
\n2025-08-04 15:17:57,300 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: preparing_prompt
\n2025-08-04 15:17:57,301 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: preparing_prompt
\n2025-08-04 15:17:57,301 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: optimizing_prompt
\n2025-08-04 15:17:57,301 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:17:57,320 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 15:17:57,321 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:17:57,322 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:17:58,478 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:17:58,479 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:17:58,749 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:17:59,241 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:17:59,407 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:17:59,415 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:17:59,416 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:17:59,985 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:00,243 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:00,253 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:00,254 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:18:01,496 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:03,009 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:03,440 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:18:03,779 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:03,788 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:03,788 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:18:03,994 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:18:04,212 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:04,221 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:04,222 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:18:04,524 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:06,034 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:07,548 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:07,856 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:07,857 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: generating_image
\n2025-08-04 15:18:08,370 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 15:18:08,372 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: processing_image
\n2025-08-04 15:18:08,373 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: processing_image
\n2025-08-04 15:18:08,391 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_151808_14fa724d.png
\n2025-08-04 15:18:08,393 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: finalizing
\n2025-08-04 15:18:08,394 - INFO - Hybrid mood board data structure for 14fa724d-9697-4357-8a20-a2283eab5dda:
\n2025-08-04 15:18:08,394 - INFO -   - mood_board_id: 14fa724d-9697-4357-8a20-a2283eab5dda
\n2025-08-04 15:18:08,395 - INFO -   - created_at: 2025-08-04T15:18:08.394553
\n2025-08-04 15:18:08,395 - INFO -   - image_data.created_at: 2025-08-04T15:18:08.394553
\n2025-08-04 15:18:08,396 - INFO -   - generation_metadata.generated_at: 2025-08-04T15:18:08.394553
\n2025-08-04 15:18:08,396 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_151808_14fa724d.png
\n2025-08-04 15:18:08,996 - INFO - Mood board progress updated for 67a1e139-590d-42f0-b4a2-52be1599fe28: completed
\n2025-08-04 15:18:08,997 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 0508ee1c-9988-43f4-ab11-9f05849d53a8 (type: <class 'str'>)
\n2025-08-04 15:18:08,997 - INFO - Creating MoodBoard with:
\n2025-08-04 15:18:08,997 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-04 15:18:08,998 - INFO -   design_id: 0508ee1c-9988-43f4-ab11-9f05849d53a8 (type: <class 'str'>)
\n2025-08-04 15:18:08,998 - INFO -   mood_board_id: 14fa724d-9697-4357-8a20-a2283eab5dda (type: <class 'str'>)
\n2025-08-04 15:18:08,998 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_151808_14fa724d.png... (type: <class 'str'>)
\n2025-08-04 15:18:08,998 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home bathroom in modern style.
... (type: <class 'str'>)
\n2025-08-04 15:18:09,529 - INFO - Mood board 14fa724d-9697-4357-8a20-a2283eab5dda saved to database and linked to design 0508ee1c-9988-43f4-ab11-9f05849d53a8
\n2025-08-04 15:18:09,530 - INFO - Hybrid mood board generated successfully: 14fa724d-9697-4357-8a20-a2283eab5dda with 3 real + 5 fake products
\n2025-08-04 15:18:11,877 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:18:12,198 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:18:12,771 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:12,781 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:12,781 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:18:13,410 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:13,417 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:13,417 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:18:41,713 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:41,718 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:41,718 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:18:42,185 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:18:42,194 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:18:42,195 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:21:58,857 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:22:05,911 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:22:05,990 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:22:05,999 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:22:06,000 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:22:06,225 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:22:23,325 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:22:28,801 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:22:28,850 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:22:28,857 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:22:28,858 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:22:29,047 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:22:35,600 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:22:40,826 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:22:40,899 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:22:40,907 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:22:40,908 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:22:41,148 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:24:15,258 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:24:17,020 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:24:17,020 - INFO - HYBRID design request from suakbenli@gmail.com: salon - klasik
\n2025-08-04 15:24:17,020 - INFO - Generating HYBRID design suggestion: salon - klasik
\n2025-08-04 15:24:17,021 - INFO - Added room dimensions to context: 400x400x300 cm
\n2025-08-04 15:24:17,021 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 15:24:17,021 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 15:24:26,397 - WARNING - Unknown function call: 
\n2025-08-04 15:24:26,398 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 15:24:26,398 - INFO - Searching products: category=koltuk, style=klasik, color=kahverengi
\n2025-08-04 15:24:27,470 - INFO - Found 0 products for category=koltuk
\n2025-08-04 15:24:27,470 - INFO - Product marked as fake: Lüks Chester Koltuk Takımı
\n2025-08-04 15:24:27,471 - INFO - Searching products: category=sehpa, style=klasik, color=doğal
\n2025-08-04 15:24:27,535 - INFO - Found 0 products for category=sehpa
\n2025-08-04 15:24:27,536 - INFO - Product marked as fake: Ahşap Oyma Detaylı Orta Sehpa
\n2025-08-04 15:24:27,536 - INFO - Searching products: category=kitaplik, style=klasik, color=ceviz
\n2025-08-04 15:24:27,599 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 15:24:27,600 - INFO - Product marked as fake: Masif Ahşap Klasik Kitaplık
\n2025-08-04 15:24:27,600 - INFO - Searching products: category=aydinlatma, style=klasik, color=şeffaf
\n2025-08-04 15:24:27,663 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 15:24:27,664 - INFO - Product marked as fake: Kristal Avize
\n2025-08-04 15:24:27,664 - INFO - Searching products: category=halı, style=klasik, color=bej
\n2025-08-04 15:24:27,727 - INFO - Found 0 products for category=halı
\n2025-08-04 15:24:27,728 - INFO - Product marked as fake: Yün El Dokuma Halı
\n2025-08-04 15:24:27,728 - INFO - Searching products: category=perde, style=klasik, color=krem
\n2025-08-04 15:24:27,792 - INFO - Found 0 products for category=perde
\n2025-08-04 15:24:27,793 - INFO - Product marked as fake: Kadife Kruvaze Perde
\n2025-08-04 15:24:27,793 - INFO - Searching products: category=dekoratif_aksesuar, style=klasik, color=altın
\n2025-08-04 15:24:27,856 - INFO - Found 0 products for category=dekoratif_aksesuar
\n2025-08-04 15:24:27,857 - INFO - Product marked as fake: Antika Görünümlü Duvar Aynası
\n2025-08-04 15:24:27,857 - INFO - Searching products: category=dekoratif_aksesuar, style=klasik, color=çok renkli
\n2025-08-04 15:24:27,920 - INFO - Found 0 products for category=dekoratif_aksesuar
\n2025-08-04 15:24:27,921 - INFO - Product marked as fake: Seramik Vazo ve Çiçek Aranjmanı
\n2025-08-04 15:24:27,921 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-04 15:24:27,921 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 15:24:27,921 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Klasik Esintili Aile Salonu
\n2025-08-04 15:24:27,921 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-04 15:24:27,922 - INFO - Starting HYBRID background room visualization generation for connection: 29b7a96b-1ce2-4862-a6de-4d66235c02ff
\n2025-08-04 15:24:27,922 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 15:24:28,452 - INFO - Design saved to database for suakbenli@gmail.com with ID: 74b517b5-1b7c-4669-87ff-1e7e636aab4d
\n2025-08-04 15:24:28,452 - INFO - Hashtags from Gemini for design 74b517b5-1b7c-4669-87ff-1e7e636aab4d: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer'], 'unknown': []}
\n2025-08-04 15:24:28,452 - INFO - Saving hashtags for design 74b517b5-1b7c-4669-87ff-1e7e636aab4d: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer'], 'unknown': []}
\n2025-08-04 15:24:28,657 - INFO - Saved 10 hashtags for design 74b517b5-1b7c-4669-87ff-1e7e636aab4d
\n2025-08-04 15:24:28,657 - INFO - Hashtags saved for design 74b517b5-1b7c-4669-87ff-1e7e636aab4d: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer']
\n2025-08-04 15:24:28,658 - INFO - Hashtags saved for design 74b517b5-1b7c-4669-87ff-1e7e636aab4d: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#şık_tasarım', '#nötr_renkler', '#doğal_ışık', '#rahat_atmosfer']
\n2025-08-04 15:24:28,659 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:24:28,659 - INFO - Hybrid mood board generation - Design ID: 74b517b5-1b7c-4669-87ff-1e7e636aab4d (type: <class 'str'>)
\n2025-08-04 15:24:28,660 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: preparing_prompt
\n2025-08-04 15:24:28,660 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: preparing_prompt
\n2025-08-04 15:24:28,661 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: optimizing_prompt
\n2025-08-04 15:24:28,661 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:28,677 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 15:24:28,678 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:28,678 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:29,810 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:29,810 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:30,035 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:24:30,261 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:24:30,632 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:24:30,641 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:24:30,642 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:24:31,320 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:31,485 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:24:31,492 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:24:31,493 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:24:32,824 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:34,331 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:35,836 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:35,922 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:24:36,240 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:24:36,857 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:24:36,866 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:24:36,866 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:24:37,340 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:37,495 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:24:37,504 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:24:37,505 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:24:38,843 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:39,041 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:39,041 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: generating_image
\n2025-08-04 15:24:39,359 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 15:24:39,360 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: processing_image
\n2025-08-04 15:24:39,361 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: processing_image
\n2025-08-04 15:24:39,374 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_152439_3e8e8896.png
\n2025-08-04 15:24:39,375 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: finalizing
\n2025-08-04 15:24:39,376 - INFO - Hybrid mood board data structure for 3e8e8896-467e-4b0f-ab9d-7de9a4fae795:
\n2025-08-04 15:24:39,376 - INFO -   - mood_board_id: 3e8e8896-467e-4b0f-ab9d-7de9a4fae795
\n2025-08-04 15:24:39,376 - INFO -   - created_at: 2025-08-04T15:24:39.376077
\n2025-08-04 15:24:39,376 - INFO -   - image_data.created_at: 2025-08-04T15:24:39.376077
\n2025-08-04 15:24:39,376 - INFO -   - generation_metadata.generated_at: 2025-08-04T15:24:39.376077
\n2025-08-04 15:24:39,377 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_152439_3e8e8896.png
\n2025-08-04 15:24:39,922 - INFO - Mood board progress updated for 29b7a96b-1ce2-4862-a6de-4d66235c02ff: completed
\n2025-08-04 15:24:39,923 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 74b517b5-1b7c-4669-87ff-1e7e636aab4d (type: <class 'str'>)
\n2025-08-04 15:24:39,923 - INFO - Creating MoodBoard with:
\n2025-08-04 15:24:39,923 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-04 15:24:39,924 - INFO -   design_id: 74b517b5-1b7c-4669-87ff-1e7e636aab4d (type: <class 'str'>)
\n2025-08-04 15:24:39,924 - INFO -   mood_board_id: 3e8e8896-467e-4b0f-ab9d-7de9a4fae795 (type: <class 'str'>)
\n2025-08-04 15:24:39,924 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_152439_3e8e8896.png... (type: <class 'str'>)
\n2025-08-04 15:24:39,924 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in klasik styl... (type: <class 'str'>)
\n2025-08-04 15:24:40,434 - INFO - Mood board 3e8e8896-467e-4b0f-ab9d-7de9a4fae795 saved to database and linked to design 74b517b5-1b7c-4669-87ff-1e7e636aab4d
\n2025-08-04 15:24:40,435 - INFO - Hybrid mood board generated successfully: 3e8e8896-467e-4b0f-ab9d-7de9a4fae795 with 0 real + 8 fake products
\n2025-08-04 15:24:49,550 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:24:58,037 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:24:58,103 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:24:58,111 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:24:58,111 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:24:58,351 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:26:03,475 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:26:04,009 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:26:04,991 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:26:04,995 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:26:04,996 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:26:05,779 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:26:05,784 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:26:05,784 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:29:01,960 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:29:07,131 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:29:07,183 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:29:07,190 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:29:07,190 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:29:07,395 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:29:21,356 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:29:26,866 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:29:26,918 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:29:26,925 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:29:26,925 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:29:27,196 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:29:32,879 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:29:38,243 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:29:38,293 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:29:38,299 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:29:38,299 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:29:38,499 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:29:58,934 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:30:04,487 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:30:04,547 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:30:04,555 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:30:04,555 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:30:04,797 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:30:15,393 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:30:20,420 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:30:20,534 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:30:20,551 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:30:20,551 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:30:20,818 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:30:23,984 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:30:29,581 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:30:29,632 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:30:29,639 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:30:29,639 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:30:29,833 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:31:22,223 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:31:27,661 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:31:27,730 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:31:27,739 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:31:27,739 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:31:27,949 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:33:49,649 - INFO - User ID: None (type: <class 'NoneType'>)
\n2025-08-04 15:33:49,650 - INFO - HYBRID design request from guest: salon - klasik
\n2025-08-04 15:33:49,650 - INFO - Generating HYBRID design suggestion: salon - klasik
\n2025-08-04 15:33:49,650 - INFO - Added room dimensions to context: 400x400x300 cm
\n2025-08-04 15:33:49,650 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 15:33:49,650 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 15:33:58,595 - WARNING - Unknown function call: 
\n2025-08-04 15:33:58,596 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 15:33:58,596 - INFO - Searching products: category=koltuk, style=klasik, color=bej
\n2025-08-04 15:34:00,787 - INFO - Found 0 products for category=koltuk
\n2025-08-04 15:34:00,787 - INFO - Product marked as fake: Kadife Kaplı Klasik Koltuk Takımı
\n2025-08-04 15:34:00,787 - INFO - Searching products: category=sehpa, style=klasik, color=kahverengi
\n2025-08-04 15:34:00,868 - INFO - Found 0 products for category=sehpa
\n2025-08-04 15:34:00,869 - INFO - Product marked as fake: Ahşap Oyma Detaylı Orta Sehpa
\n2025-08-04 15:34:00,869 - INFO - Searching products: category=kitaplik, style=klasik, color=ceviz
\n2025-08-04 15:34:01,001 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 15:34:01,002 - INFO - Product marked as fake: Masif Ahşap Klasik Kitaplık
\n2025-08-04 15:34:01,002 - INFO - Searching products: category=aydinlatma, style=klasik, color=altin
\n2025-08-04 15:34:01,077 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 15:34:01,078 - INFO - Product marked as fake: Kristal Avize
\n2025-08-04 15:34:01,078 - INFO - Searching products: category=Ev Mobilyaları, style=klasik, color=krem
\n2025-08-04 15:34:01,168 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 15:34:01,169 - INFO - Product marked as fake: Desenli Klasik Halı
\n2025-08-04 15:34:01,169 - INFO - Searching products: category=Ev Mobilyaları, style=klasik, color=altin
\n2025-08-04 15:34:01,253 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 15:34:01,253 - INFO - Product marked as fake: Dekoratif Ayna
\n2025-08-04 15:34:01,253 - INFO - Searching products: category=Ev Mobilyaları, style=klasik, color=beyaz
\n2025-08-04 15:34:01,373 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 15:34:01,373 - INFO - Product marked as fake: Şömine
\n2025-08-04 15:34:01,373 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-04 15:34:01,373 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 15:34:01,373 - INFO - HYBRID design suggestion created successfully for guest: Klasik Salon Tasarımı: Sıcak Aile Ortamı
\n2025-08-04 15:34:01,374 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-04 15:34:01,374 - INFO - Starting HYBRID background room visualization generation for connection: 6bd87975-f572-4f31-8a57-578f49490bf7
\n2025-08-04 15:34:01,374 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 15:34:01,911 - INFO - Design saved to database for guest with ID: 7c9619c4-13d4-475d-a0b2-70a9e3a2603d
\n2025-08-04 15:34:01,911 - INFO - Hashtags from Gemini for design 7c9619c4-13d4-475d-a0b2-70a9e3a2603d: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik'], 'unknown': []}
\n2025-08-04 15:34:01,911 - INFO - Saving hashtags for design 7c9619c4-13d4-475d-a0b2-70a9e3a2603d: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik'], 'unknown': []}
\n2025-08-04 15:34:02,141 - INFO - Saved 10 hashtags for design 7c9619c4-13d4-475d-a0b2-70a9e3a2603d
\n2025-08-04 15:34:02,142 - INFO - Hashtags saved for design 7c9619c4-13d4-475d-a0b2-70a9e3a2603d: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik']
\n2025-08-04 15:34:02,142 - INFO - Hashtags saved for design 7c9619c4-13d4-475d-a0b2-70a9e3a2603d: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#klasik_stil', '#aile_salonu', '#konforlu_salon', '#ahsap_detaylar', '#sicak_renkler', '#zarif_kumaslar', '#dogal_isik']
\n2025-08-04 15:34:02,143 - INFO - Hybrid mood board generation - User ID: None (type: <class 'NoneType'>)
\n2025-08-04 15:34:02,144 - INFO - Hybrid mood board generation - Design ID: 7c9619c4-13d4-475d-a0b2-70a9e3a2603d (type: <class 'str'>)
\n2025-08-04 15:34:02,144 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: preparing_prompt
\n2025-08-04 15:34:02,144 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: preparing_prompt
\n2025-08-04 15:34:02,145 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: optimizing_prompt
\n2025-08-04 15:34:02,145 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:02,158 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 15:34:02,158 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:02,159 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:03,411 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:03,411 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:03,419 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-04 15:34:03,420 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-04 15:34:03,422 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-04 15:34:03,423 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-04 15:34:04,918 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:06,433 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:07,948 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:09,457 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:11,128 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:12,631 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:12,720 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:12,720 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: generating_image
\n2025-08-04 15:34:13,040 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 15:34:13,041 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: processing_image
\n2025-08-04 15:34:13,041 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: processing_image
\n2025-08-04 15:34:13,053 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_153413_d5bc5774.png
\n2025-08-04 15:34:13,054 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: finalizing
\n2025-08-04 15:34:13,054 - INFO - Hybrid mood board data structure for d5bc5774-09de-48be-9346-80b9c70de555:
\n2025-08-04 15:34:13,054 - INFO -   - mood_board_id: d5bc5774-09de-48be-9346-80b9c70de555
\n2025-08-04 15:34:13,054 - INFO -   - created_at: 2025-08-04T15:34:13.054479
\n2025-08-04 15:34:13,055 - INFO -   - image_data.created_at: 2025-08-04T15:34:13.054479
\n2025-08-04 15:34:13,055 - INFO -   - generation_metadata.generated_at: 2025-08-04T15:34:13.054479
\n2025-08-04 15:34:13,055 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_153413_d5bc5774.png
\n2025-08-04 15:34:13,055 - INFO - Mood board progress updated for 6bd87975-f572-4f31-8a57-578f49490bf7: completed
\n2025-08-04 15:34:13,055 - INFO - Saving mood board to database - user_id: None (type: <class 'NoneType'>), design_id: 7c9619c4-13d4-475d-a0b2-70a9e3a2603d (type: <class 'str'>)
\n2025-08-04 15:34:13,056 - INFO - Creating MoodBoard with:
\n2025-08-04 15:34:13,056 - INFO -   user_id: None (type: <class 'NoneType'>)
\n2025-08-04 15:34:13,056 - INFO -   design_id: 7c9619c4-13d4-475d-a0b2-70a9e3a2603d (type: <class 'str'>)
\n2025-08-04 15:34:13,056 - INFO -   mood_board_id: d5bc5774-09de-48be-9346-80b9c70de555 (type: <class 'str'>)
\n2025-08-04 15:34:13,057 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_153413_d5bc5774.png... (type: <class 'str'>)
\n2025-08-04 15:34:13,057 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in klasik styl... (type: <class 'str'>)
\n2025-08-04 15:34:14,077 - INFO - Mood board d5bc5774-09de-48be-9346-80b9c70de555 saved to database and linked to design 7c9619c4-13d4-475d-a0b2-70a9e3a2603d
\n2025-08-04 15:34:14,077 - INFO - Hybrid mood board generated successfully: d5bc5774-09de-48be-9346-80b9c70de555 with 0 real + 7 fake products
\n2025-08-04 15:34:48,460 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:34:48,606 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:34:48,606 - INFO - HYBRID design request from suakbenli@gmail.com: yatak - modern
\n2025-08-04 15:34:48,607 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-04 15:34:48,607 - INFO - Added room dimensions to context: 500x400x220 cm
\n2025-08-04 15:34:48,607 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 15:34:48,607 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 15:34:57,043 - WARNING - Unknown function call: 
\n2025-08-04 15:34:57,043 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 15:34:57,044 - INFO - Searching products: category=yatak, style=modern, color=beyaz
\n2025-08-04 15:34:58,228 - INFO - Found 0 products for category=yatak
\n2025-08-04 15:34:58,228 - INFO - Product marked as fake: Modern Platform Yatak
\n2025-08-04 15:34:58,229 - INFO - Searching products: category=komodin, style=modern, color=beyaz
\n2025-08-04 15:34:58,303 - INFO - Found 0 products for category=komodin
\n2025-08-04 15:34:58,303 - INFO - Product marked as fake: Beyaz Komodin Seti
\n2025-08-04 15:34:58,303 - INFO - Searching products: category=aydinlatma, style=modern, color=gri
\n2025-08-04 15:34:58,370 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 15:34:58,371 - INFO - Product marked as fake: Modern Abajur
\n2025-08-04 15:34:58,371 - INFO - Searching products: category=gardrop, style=modern, color=beyaz
\n2025-08-04 15:34:58,439 - INFO - Found 0 products for category=gardrop
\n2025-08-04 15:34:58,440 - INFO - Product marked as fake: Sürgülü Gardrop
\n2025-08-04 15:34:58,440 - INFO - Searching products: category=perde, style=modern, color=bej
\n2025-08-04 15:34:58,512 - INFO - Found 0 products for category=perde
\n2025-08-04 15:34:58,513 - INFO - Product marked as fake: Güneşlik ve Tül Perde Kombinasyonu
\n2025-08-04 15:34:58,513 - INFO - Searching products: category=halı, style=modern, color=gri
\n2025-08-04 15:34:58,605 - INFO - Found 0 products for category=halı
\n2025-08-04 15:34:58,605 - INFO - Product marked as fake: Yün Halı
\n2025-08-04 15:34:58,606 - INFO - Searching products: category=aksesuar, style=modern, color=çok renkli
\n2025-08-04 15:34:58,702 - INFO - Found 0 products for category=aksesuar
\n2025-08-04 15:34:58,702 - INFO - Product marked as fake: Duvar Tabloları
\n2025-08-04 15:34:58,703 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-04 15:34:58,703 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 15:34:58,703 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Yatak Odası Tasarımı
\n2025-08-04 15:34:58,703 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-04 15:34:58,704 - INFO - Starting HYBRID background room visualization generation for connection: 18a74ae0-a18b-43d9-8e24-becea3d5f2da
\n2025-08-04 15:34:58,704 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 15:34:59,160 - INFO - Design saved to database for suakbenli@gmail.com with ID: 4b9ebeab-2836-4c3a-9262-8410091b7216
\n2025-08-04 15:34:59,161 - INFO - Hashtags from Gemini for design 4b9ebeab-2836-4c3a-9262-8410091b7216: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist'], 'unknown': []}
\n2025-08-04 15:34:59,161 - INFO - Saving hashtags for design 4b9ebeab-2836-4c3a-9262-8410091b7216: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist'], 'unknown': []}
\n2025-08-04 15:34:59,306 - INFO - Saved 10 hashtags for design 4b9ebeab-2836-4c3a-9262-8410091b7216
\n2025-08-04 15:34:59,306 - INFO - Hashtags saved for design 4b9ebeab-2836-4c3a-9262-8410091b7216: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist']
\n2025-08-04 15:34:59,306 - INFO - Hashtags saved for design 4b9ebeab-2836-4c3a-9262-8410091b7216: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik', '#minimalist']
\n2025-08-04 15:34:59,308 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-04 15:34:59,308 - INFO - Hybrid mood board generation - Design ID: 4b9ebeab-2836-4c3a-9262-8410091b7216 (type: <class 'str'>)
\n2025-08-04 15:34:59,308 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: preparing_prompt
\n2025-08-04 15:34:59,309 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: preparing_prompt
\n2025-08-04 15:34:59,309 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: optimizing_prompt
\n2025-08-04 15:34:59,309 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:34:59,309 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 15:34:59,310 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:34:59,310 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:00,320 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:00,321 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:00,599 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:35:00,827 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:35:01,367 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:35:01,374 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:35:01,375 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:35:01,832 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:02,480 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:35:02,487 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:35:02,487 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:35:03,343 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:04,852 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:06,367 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:07,881 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:09,392 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:10,977 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:10,978 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: generating_image
\n2025-08-04 15:35:11,356 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 15:35:11,357 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: processing_image
\n2025-08-04 15:35:11,359 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: processing_image
\n2025-08-04 15:35:11,375 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_153511_36e41d67.png
\n2025-08-04 15:35:11,377 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: finalizing
\n2025-08-04 15:35:11,378 - INFO - Hybrid mood board data structure for 36e41d67-215a-4aa3-9229-74e5e866ce33:
\n2025-08-04 15:35:11,379 - INFO -   - mood_board_id: 36e41d67-215a-4aa3-9229-74e5e866ce33
\n2025-08-04 15:35:11,379 - INFO -   - created_at: 2025-08-04T15:35:11.378409
\n2025-08-04 15:35:11,379 - INFO -   - image_data.created_at: 2025-08-04T15:35:11.378409
\n2025-08-04 15:35:11,379 - INFO -   - generation_metadata.generated_at: 2025-08-04T15:35:11.378409
\n2025-08-04 15:35:11,379 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_153511_36e41d67.png
\n2025-08-04 15:35:12,063 - INFO - Mood board progress updated for 18a74ae0-a18b-43d9-8e24-becea3d5f2da: completed
\n2025-08-04 15:35:12,064 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 4b9ebeab-2836-4c3a-9262-8410091b7216 (type: <class 'str'>)
\n2025-08-04 15:35:12,064 - INFO - Creating MoodBoard with:
\n2025-08-04 15:35:12,065 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-04 15:35:12,065 - INFO -   design_id: 4b9ebeab-2836-4c3a-9262-8410091b7216 (type: <class 'str'>)
\n2025-08-04 15:35:12,065 - INFO -   mood_board_id: 36e41d67-215a-4aa3-9229-74e5e866ce33 (type: <class 'str'>)
\n2025-08-04 15:35:12,066 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_153511_36e41d67.png... (type: <class 'str'>)
\n2025-08-04 15:35:12,066 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-04 15:35:12,687 - INFO - Mood board 36e41d67-215a-4aa3-9229-74e5e866ce33 saved to database and linked to design 4b9ebeab-2836-4c3a-9262-8410091b7216
\n2025-08-04 15:35:12,688 - INFO - Hybrid mood board generated successfully: 36e41d67-215a-4aa3-9229-74e5e866ce33 with 0 real + 7 fake products
\n2025-08-04 15:35:34,077 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:35:34,387 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:35:34,920 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:35:34,928 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:35:34,928 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:35:35,602 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:35:35,612 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:35:35,613 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:35:45,308 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:35:45,314 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:35:45,314 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:35:45,723 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:35:45,729 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:35:45,729 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:37:40,448 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:37:41,675 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:37:42,267 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:37:42,378 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:37:42,384 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:37:42,385 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:37:44,426 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:37:44,432 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:37:44,432 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:37:45,874 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:37:45,879 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:37:45,880 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:37:46,967 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:37:46,972 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:37:46,972 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:40:05,890 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:40:06,376 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:40:06,908 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:40:06,914 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:40:06,914 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:40:08,477 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:40:08,483 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:40:08,484 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:46:10,546 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:46:10,594 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:46:10,600 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:46:10,601 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:46:15,821 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:46:15,879 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:46:15,887 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:46:15,887 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:46:16,096 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:49:22,089 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:49:22,150 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:49:28,293 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:49:28,355 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:49:28,364 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:49:28,364 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:49:28,601 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:49:31,559 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:49:31,620 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:49:31,626 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:49:31,627 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:49:31,852 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:50:06,108 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:50:07,389 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:50:12,480 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:50:12,544 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:50:12,552 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:50:12,553 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:50:12,785 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:50:13,717 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:50:13,772 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:50:13,779 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:50:13,779 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:50:13,971 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:50:23,282 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:50:25,016 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:50:29,786 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:50:29,860 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:50:29,869 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:50:29,870 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:50:30,176 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:50:31,740 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:50:31,809 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:50:31,817 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:50:31,818 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:50:32,048 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:50:45,427 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:50:45,759 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:50:51,996 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:50:52,072 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:50:52,082 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:50:52,082 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:50:52,200 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:50:52,265 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:50:52,273 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:50:52,274 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:50:52,326 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:50:52,489 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:51:40,700 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:51:41,413 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:51:49,839 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:51:49,957 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:49,973 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:49,973 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:50,149 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:51:50,245 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:50,258 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:50,258 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:50,380 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:51:50,647 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:51:52,452 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:51:52,670 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:51:53,434 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:53,439 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:53,440 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:54,225 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:54,234 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:54,235 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:54,834 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:54,839 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:54,839 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:55,381 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:55,392 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:55,392 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:56,044 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:51:56,545 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:51:57,034 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:57,040 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:57,041 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:57,061 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:51:57,273 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:51:57,455 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:57,464 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:57,464 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:58,078 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:58,086 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:58,086 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:51:58,547 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:51:58,554 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:51:58,555 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:52:30,486 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:52:31,053 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:52:40,812 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:52:40,883 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:52:40,894 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:52:40,894 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:52:41,145 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:52:41,262 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:52:41,345 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:52:41,355 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:52:41,356 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:52:41,682 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:53:06,384 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:53:06,390 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:53:09,692 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:53:09,993 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:53:10,253 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:53:10,264 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:53:10,265 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:53:10,304 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:53:10,317 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:53:10,318 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:53:10,365 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:53:10,377 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:53:10,378 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:53:10,598 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:53:10,609 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:53:10,610 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:12,743 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:54:13,913 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:54:13,977 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:13,986 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:13,987 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:14,080 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:14,089 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:14,089 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:14,331 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:14,345 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:14,345 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:14,568 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:14,577 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:14,578 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:15,006 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:54:20,461 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:54:20,651 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:54:20,979 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:20,986 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:20,987 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:21,006 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:21,013 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:21,013 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:21,350 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:54:21,517 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:21,525 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:21,525 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:21,676 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 257, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:54:21,726 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:21,747 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:21,747 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:21,777 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:21,788 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:21,788 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:54:21,875 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:54:21,883 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:54:21,883 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:57:41,009 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:57:41,404 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:57:49,107 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:57:49,182 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:57:49,191 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:57:49,192 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:57:49,391 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:57:49,468 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:57:49,471 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:57:49,477 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:57:49,477 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:57:49,702 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:58:07,298 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:58:25,326 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:59:12,485 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:59:12,488 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 15:59:14,280 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:59:14,600 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 15:59:14,874 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:59:14,889 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:59:14,890 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:59:14,948 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:59:14,957 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:59:14,958 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:59:14,987 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:59:14,998 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:59:14,999 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:59:15,032 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:59:15,042 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:59:15,043 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:59:30,559 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:59:31,314 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 15:59:36,929 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:59:36,990 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:59:37,000 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:59:37,000 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:59:37,235 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 15:59:37,616 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 15:59:37,667 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 15:59:37,674 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 15:59:37,674 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 15:59:37,873 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 16:00:09,312 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 16:01:00,783 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 16:01:01,851 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 16:01:07,644 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 16:01:07,709 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:07,717 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:07,717 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:07,950 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 16:01:08,564 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 16:01:08,642 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:08,651 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:08,651 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:09,030 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 16:01:09,828 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 16:01:10,917 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 16:01:16,292 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 16:01:16,355 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:16,365 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:16,365 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:16,608 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 16:01:17,324 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 16:01:17,381 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:17,388 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:17,389 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:17,607 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 16:01:29,451 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:01:29,456 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:01:32,827 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:32,834 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:32,834 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:32,852 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:32,858 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:32,859 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:32,933 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 16:01:33,496 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 16:01:34,021 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:34,026 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:34,026 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:34,040 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:34,045 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:34,045 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:41,473 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:01:41,653 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 16:01:42,004 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:42,019 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:42,019 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:42,264 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:42,276 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:42,277 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:42,545 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 16:01:42,696 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:42,707 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:42,707 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:42,750 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:42,759 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:42,760 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:42,877 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:42,885 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:42,885 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:42,977 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:01:42,987 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:01:42,987 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:01:43,752 - ERROR - General Error: type object 'BlogPost' has no attribute 'user_id'
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 265, in check_publish_status
    BlogPost.user_id == current_user.id
    ^^^^^^^^^^^^^^^^
AttributeError: type object 'BlogPost' has no attribute 'user_id'
\n2025-08-04 16:02:18,354 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:02:18,647 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:02:19,478 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:19,487 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:19,487 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:19,513 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:19,522 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:19,523 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:19,616 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:19,625 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:19,626 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:20,606 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:20,614 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:20,614 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:28,345 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:28,352 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:28,353 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:28,374 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:28,384 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:28,385 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:30,280 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:02:30,282 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-04 16:02:31,309 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:31,318 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:31,319 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:31,352 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:31,368 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:31,369 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:31,615 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:31,628 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:31,628 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:32,794 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:32,802 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:32,803 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:35,952 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:35,961 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:35,962 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:02:35,999 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:02:36,008 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:02:36,008 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:35,347 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:35,356 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:35,356 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:35,377 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:35,383 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:35,383 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:37,568 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 16:03:37,570 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 16:03:38,401 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:38,409 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:38,410 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:38,434 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:38,442 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:38,443 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:38,470 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:38,478 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:38,478 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:38,494 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:38,504 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:38,504 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:44,437 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:44,447 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:44,448 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:45,932 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:45,937 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:45,937 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:46,180 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:46,185 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:46,185 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:47,482 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 16:03:47,484 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 16:03:48,353 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:48,360 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:48,360 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:48,378 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:48,384 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:48,385 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:48,586 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:48,594 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:48,595 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:03:48,685 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 16:03:48,693 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 16:03:48,693 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 16:04:06,268 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 16:04:06,978 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 22:59:00,430 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 22:59:00,489 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 22:59:00,495 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 22:59:00,495 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 22:59:07,175 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 22:59:07,239 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 22:59:07,247 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 22:59:07,247 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 22:59:07,655 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:00:23,465 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:00:23,604 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:00:23,604 - INFO - HYBRID design request from ali@gmail.com: çocuk - modern
\n2025-08-04 23:00:23,604 - INFO - Generating HYBRID design suggestion: çocuk - modern
\n2025-08-04 23:00:23,605 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:00:23,605 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:00:23,605 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:00:42,204 - WARNING - Unknown function call: 
\n2025-08-04 23:00:42,204 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:00:42,205 - INFO - Searching products: category=kitaplik, style=modern, color=beyaz
\n2025-08-04 23:00:43,293 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 23:00:43,293 - INFO - Product marked as fake: Beyaz Modern Kitaplık
\n2025-08-04 23:00:43,296 - INFO - Searching products: category=aydinlatma, style=modern, color=beyaz
\n2025-08-04 23:00:43,384 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 23:00:43,384 - INFO - Product marked as fake: Ayarlanabilir LED Masa Lambası
\n2025-08-04 23:00:43,384 - INFO - Searching products: category=sehpa, style=modern, color=doğal
\n2025-08-04 23:00:43,448 - INFO - Found 0 products for category=sehpa
\n2025-08-04 23:00:43,449 - INFO - Product marked as fake: Yuvarlak Ahşap Çocuk Sehpası
\n2025-08-04 23:00:43,449 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 23:00:43,515 - INFO - Found 0 products for category=koltuk
\n2025-08-04 23:00:43,515 - INFO - Product marked as fake: Çocuk Odası Puf Koltuk
\n2025-08-04 23:00:43,515 - INFO - Searching products: category=yatak, style=modern, color=beyaz
\n2025-08-04 23:00:43,580 - INFO - Found 0 products for category=yatak
\n2025-08-04 23:00:43,580 - INFO - Product marked as fake: Çekmeceli Çocuk Yatağı
\n2025-08-04 23:00:43,580 - INFO - Searching products: category=Ev Mobilyaları, style=modern, color=çok renkli
\n2025-08-04 23:00:43,645 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 23:00:43,646 - INFO - Product marked as fake: Duvar Sticker Seti
\n2025-08-04 23:00:43,646 - INFO - Searching products: category=Ev Mobilyaları, style=modern, color=mavi
\n2025-08-04 23:00:43,713 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 23:00:43,714 - INFO - Product marked as fake: Oyun Halısı
\n2025-08-04 23:00:43,714 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-04 23:00:43,714 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:00:43,715 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Çocuk Odası Modern Tasarım
\n2025-08-04 23:00:43,715 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-04 23:00:43,715 - INFO - Starting HYBRID background room visualization generation for connection: b7944125-54fc-484c-a0c4-799c8ae1feab
\n2025-08-04 23:00:43,715 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:00:44,185 - INFO - Design saved to database for ali@gmail.com with ID: 83f9d329-4f83-4fcd-8daa-87965f4b4985
\n2025-08-04 23:00:44,186 - INFO - Hashtags from Gemini for design 83f9d329-4f83-4fcd-8daa-87965f4b4985: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya'], 'unknown': []}
\n2025-08-04 23:00:44,186 - INFO - Saving hashtags for design 83f9d329-4f83-4fcd-8daa-87965f4b4985: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya'], 'unknown': []}
\n2025-08-04 23:00:44,388 - INFO - Saved 10 hashtags for design 83f9d329-4f83-4fcd-8daa-87965f4b4985
\n2025-08-04 23:00:44,388 - INFO - Hashtags saved for design 83f9d329-4f83-4fcd-8daa-87965f4b4985: EN=[], TR=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya']
\n2025-08-04 23:00:44,388 - INFO - Hashtags saved for design 83f9d329-4f83-4fcd-8daa-87965f4b4985: EN=[] TR=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya'] DISPLAY=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#oyun_alani', '#fonksiyonel_oda', '#aile_dostu', '#guvenli_alan', '#notr_renkler', '#dogal_ahsap', '#ergonomik_mobilya']
\n2025-08-04 23:00:44,392 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:00:44,392 - INFO - Hybrid mood board generation - Design ID: 83f9d329-4f83-4fcd-8daa-87965f4b4985 (type: <class 'str'>)
\n2025-08-04 23:00:44,392 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: preparing_prompt
\n2025-08-04 23:00:44,393 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: preparing_prompt
\n2025-08-04 23:00:44,393 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: optimizing_prompt
\n2025-08-04 23:00:44,394 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:00:44,415 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:00:44,416 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:00:44,416 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:00:55,690 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:00:55,690 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:00:56,306 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:00:56,311 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:00:56,312 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:00:57,058 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:00:57,064 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:00:57,065 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:00:57,192 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:00:58,694 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:00,195 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:01,696 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:03,198 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:04,700 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:07,780 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:07,781 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: generating_image
\n2025-08-04 23:01:08,229 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:01:08,231 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: processing_image
\n2025-08-04 23:01:08,231 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: processing_image
\n2025-08-04 23:01:08,245 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_230108_7e7306b6.png
\n2025-08-04 23:01:08,246 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: finalizing
\n2025-08-04 23:01:08,246 - INFO - Hybrid mood board data structure for 7e7306b6-b17c-42c5-95f5-553fd5336734:
\n2025-08-04 23:01:08,247 - INFO -   - mood_board_id: 7e7306b6-b17c-42c5-95f5-553fd5336734
\n2025-08-04 23:01:08,247 - INFO -   - created_at: 2025-08-04T23:01:08.246805
\n2025-08-04 23:01:08,247 - INFO -   - image_data.created_at: 2025-08-04T23:01:08.246805
\n2025-08-04 23:01:08,247 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:01:08.246805
\n2025-08-04 23:01:08,248 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_230108_7e7306b6.png
\n2025-08-04 23:01:08,729 - INFO - Mood board progress updated for b7944125-54fc-484c-a0c4-799c8ae1feab: completed
\n2025-08-04 23:01:08,729 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 83f9d329-4f83-4fcd-8daa-87965f4b4985 (type: <class 'str'>)
\n2025-08-04 23:01:08,729 - INFO - Creating MoodBoard with:
\n2025-08-04 23:01:08,730 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:01:08,730 - INFO -   design_id: 83f9d329-4f83-4fcd-8daa-87965f4b4985 (type: <class 'str'>)
\n2025-08-04 23:01:08,730 - INFO -   mood_board_id: 7e7306b6-b17c-42c5-95f5-553fd5336734 (type: <class 'str'>)
\n2025-08-04 23:01:08,730 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_230108_7e7306b6.png... (type: <class 'str'>)
\n2025-08-04 23:01:08,730 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home çocuk in modern style.

IM... (type: <class 'str'>)
\n2025-08-04 23:01:09,259 - INFO - Mood board 7e7306b6-b17c-42c5-95f5-553fd5336734 saved to database and linked to design 83f9d329-4f83-4fcd-8daa-87965f4b4985
\n2025-08-04 23:01:09,260 - INFO - Hybrid mood board generated successfully: 7e7306b6-b17c-42c5-95f5-553fd5336734 with 0 real + 7 fake products
\n2025-08-04 23:03:06,868 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:03:22,595 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:03:22,659 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:03:22,667 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:03:22,667 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:03:22,919 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:03:44,367 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:03:50,911 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:03:50,998 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:03:51,008 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:03:51,009 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:03:51,323 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:06:15,925 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:06:23,190 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:06:23,259 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:06:23,266 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:06:23,267 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:06:23,506 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:06:30,049 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:06:36,406 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:06:36,476 - INFO - Created Gemini log file: logs/gemini_requests.json
\n2025-08-04 23:06:36,477 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:06:36,485 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:06:36,486 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:06:36,783 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:06:50,077 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:06:56,730 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:06:56,810 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:06:56,820 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:06:56,820 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:06:57,097 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:07:30,123 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:07:36,311 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:07:36,379 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:07:36,387 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:07:36,387 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:07:36,622 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:08:04,100 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:08:11,162 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:08:11,235 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:08:11,244 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:08:11,245 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:08:11,574 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:08:44,067 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:08:50,695 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:08:50,795 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:08:50,805 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:08:50,805 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:08:51,056 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:08:57,403 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:09:04,197 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:09:04,263 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:09:04,270 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:09:04,270 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:09:04,585 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:09:11,731 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:09:18,466 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:09:18,531 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:09:18,538 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:09:18,538 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:09:18,761 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:10:17,442 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:10:24,300 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:10:24,383 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:10:24,392 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:10:24,392 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:10:24,689 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:10:28,012 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:10:35,063 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:10:35,163 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:10:35,173 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:10:35,173 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:10:51,511 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:10:51,572 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:10:51,579 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:10:51,580 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:10:51,849 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:11:29,576 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:11:29,585 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:11:29,585 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:11:30,736 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:11:30,744 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:11:30,744 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:11:37,400 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:12:13,152 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:12:13,233 - INFO - Gemini request logged: gemini_20250804_231213_232 (design_suggestion)
\n2025-08-04 23:12:13,248 - INFO - Function Calling session logged: fc_20250804_231213_234 (2 iterations)
\n2025-08-04 23:12:13,264 - INFO - Gemini request logged: gemini_20250804_231213_249 (design_suggestion)
\n2025-08-04 23:12:55,150 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:13:02,541 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:13:02,628 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:13:02,636 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:13:02,636 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:13:02,851 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:13:53,561 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:13:55,393 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:13:55,394 - INFO - HYBRID design request from ali@gmail.com: calisma - minimal
\n2025-08-04 23:13:55,394 - INFO - Generating HYBRID design suggestion: calisma - minimal
\n2025-08-04 23:13:55,394 - INFO - Added room dimensions to context: 440x401x300 cm
\n2025-08-04 23:13:55,394 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:13:55,395 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:14:13,187 - ERROR - Function Calling error: 'NoneType' object is not iterable
\n2025-08-04 23:14:13,190 - INFO - Function Calling session logged: fc_20250804_231413_188 (1 iterations)
\n2025-08-04 23:14:13,190 - ERROR - No response from Gemini Function Calling
\n2025-08-04 23:14:13,191 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: minimal Tarzı calisma Tasarımı
\n2025-08-04 23:14:13,191 - INFO - Starting HYBRID background room visualization generation for connection: 5eaa8b93-62cc-4b18-8566-150140432e2d
\n2025-08-04 23:14:13,191 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:14:14,668 - INFO - Design saved to database for ali@gmail.com with ID: 05d3e08d-df78-40f1-a9b7-681e65201ae3
\n2025-08-04 23:14:14,668 - INFO - Hashtags from Gemini for design 05d3e08d-df78-40f1-a9b7-681e65201ae3: {'en': [], 'tr': [], 'display': []}
\n2025-08-04 23:14:14,668 - WARNING - No valid hashtags found for design 05d3e08d-df78-40f1-a9b7-681e65201ae3. Hashtags data: {'en': [], 'tr': [], 'display': []}
\n2025-08-04 23:14:14,734 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:14:14,734 - INFO - Hybrid mood board generation - Design ID: 05d3e08d-df78-40f1-a9b7-681e65201ae3 (type: <class 'str'>)
\n2025-08-04 23:14:14,734 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: preparing_prompt
\n2025-08-04 23:14:14,735 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: preparing_prompt
\n2025-08-04 23:14:14,736 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: optimizing_prompt
\n2025-08-04 23:14:14,736 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:14,757 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:14:14,757 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:14,758 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:15,974 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:15,975 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:16,723 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:14:16,738 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:14:16,739 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:14:17,433 - INFO - GeminiClient: Gemini client initialized with Function Calling support and logging
\n2025-08-04 23:14:17,448 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:14:17,449 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:14:17,479 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:18,982 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:20,484 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:21,987 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:23,488 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:24,990 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:31,080 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:31,081 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: generating_image
\n2025-08-04 23:14:31,747 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:14:31,752 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: processing_image
\n2025-08-04 23:14:31,753 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: processing_image
\n2025-08-04 23:14:31,781 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_231431_d06b138f.png
\n2025-08-04 23:14:31,785 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: finalizing
\n2025-08-04 23:14:31,786 - INFO - Hybrid mood board data structure for d06b138f-095d-4b0b-a0c5-b6cd2aaeb87d:
\n2025-08-04 23:14:31,786 - INFO -   - mood_board_id: d06b138f-095d-4b0b-a0c5-b6cd2aaeb87d
\n2025-08-04 23:14:31,787 - INFO -   - created_at: 2025-08-04T23:14:31.786204
\n2025-08-04 23:14:31,787 - INFO -   - image_data.created_at: 2025-08-04T23:14:31.786204
\n2025-08-04 23:14:31,787 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:14:31.786204
\n2025-08-04 23:14:31,788 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_231431_d06b138f.png
\n2025-08-04 23:14:32,623 - INFO - Mood board progress updated for 5eaa8b93-62cc-4b18-8566-150140432e2d: completed
\n2025-08-04 23:14:32,625 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 05d3e08d-df78-40f1-a9b7-681e65201ae3 (type: <class 'str'>)
\n2025-08-04 23:14:32,625 - INFO - Creating MoodBoard with:
\n2025-08-04 23:14:32,626 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:14:32,626 - INFO -   design_id: 05d3e08d-df78-40f1-a9b7-681e65201ae3 (type: <class 'str'>)
\n2025-08-04 23:14:32,627 - INFO -   mood_board_id: d06b138f-095d-4b0b-a0c5-b6cd2aaeb87d (type: <class 'str'>)
\n2025-08-04 23:14:32,627 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_231431_d06b138f.png... (type: <class 'str'>)
\n2025-08-04 23:14:32,627 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home calisma in minimal style.
... (type: <class 'str'>)
\n2025-08-04 23:14:33,201 - INFO - Mood board d06b138f-095d-4b0b-a0c5-b6cd2aaeb87d saved to database and linked to design 05d3e08d-df78-40f1-a9b7-681e65201ae3
\n2025-08-04 23:14:33,202 - INFO - Hybrid mood board generated successfully: d06b138f-095d-4b0b-a0c5-b6cd2aaeb87d with 0 real + 3 fake products
\n2025-08-04 23:16:29,279 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:16:38,515 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:16:38,584 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:16:38,593 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:16:38,593 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:16:38,845 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:18:02,874 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:18:09,032 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:18:09,090 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:18:09,098 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:18:09,098 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:18:09,359 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:18:18,217 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:18:24,437 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:18:24,497 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:18:24,505 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:18:24,505 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:18:24,728 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:18:31,676 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:18:38,118 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:18:38,179 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:18:38,187 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:18:38,188 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:18:38,451 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:18:54,253 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:19:01,401 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:19:01,475 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:19:01,486 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:19:01,487 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:19:01,793 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:19:02,136 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:19:04,307 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:19:04,308 - INFO - HYBRID design request from ali@gmail.com: calisma - minimal
\n2025-08-04 23:19:04,309 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:19:04,309 - INFO - Generating HYBRID design suggestion: calisma - minimal
\n2025-08-04 23:19:04,309 - INFO - Added room dimensions to context: 440x401x300 cm
\n2025-08-04 23:19:04,310 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:19:04,310 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:19:11,845 - WARNING - Unknown function call: 
\n2025-08-04 23:19:11,845 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:19:11,846 - INFO - Searching products: category=kitaplik, style=minimal, color=beyaz
\n2025-08-04 23:19:12,965 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 23:19:12,965 - INFO - Product marked as fake: Minimal Beyaz Kitaplık
\n2025-08-04 23:19:12,965 - INFO - Searching products: category=aydinlatma, style=minimal, color=siyah
\n2025-08-04 23:19:13,030 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 23:19:13,031 - INFO - Product marked as fake: Ayarlanabilir Masa Lambası
\n2025-08-04 23:19:13,031 - INFO - Searching products: category=sehpa, style=minimal, color=doğal
\n2025-08-04 23:19:13,095 - INFO - Found 0 products for category=sehpa
\n2025-08-04 23:19:13,096 - INFO - Product marked as fake: Doğal Ahşap Yan Sehpa
\n2025-08-04 23:19:13,096 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 23:19:13,163 - INFO - Found 0 products for category=koltuk
\n2025-08-04 23:19:13,164 - INFO - Product marked as fake: Ergonomik Çalışma Koltuğu
\n2025-08-04 23:19:13,164 - INFO - Searching products: category=Ev Mobilyaları, style=minimal, color=beyaz
\n2025-08-04 23:19:13,237 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 23:19:13,237 - INFO - Product marked as fake: Duvara Monte Katlanır Masa
\n2025-08-04 23:19:13,237 - INFO - Searching products: category=Ev Mobilyaları, style=minimal, color=siyah
\n2025-08-04 23:19:13,307 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 23:19:13,307 - INFO - Product marked as fake: Minimalist Metal Çerçeveli Ayna
\n2025-08-04 23:19:13,307 - INFO - Searching products: category=Ev Mobilyaları, style=modern, color=yeşil
\n2025-08-04 23:19:13,374 - INFO - Found 0 products for category=Ev Mobilyaları
\n2025-08-04 23:19:13,374 - INFO - Product marked as fake: Bitki Saksısı ve Yeşil Bitki
\n2025-08-04 23:19:13,375 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-04 23:19:13,375 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:19:13,375 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Çalışma Odası Tasarımı
\n2025-08-04 23:19:13,375 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-04 23:19:13,375 - INFO - Starting HYBRID background room visualization generation for connection: a735ac82-a67d-4f15-972f-1f99d93caa5a
\n2025-08-04 23:19:13,375 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:19:13,844 - INFO - Design saved to database for ali@gmail.com with ID: cc1d3433-258f-4486-937a-1bf68d992412
\n2025-08-04 23:19:13,845 - INFO - Hashtags from Gemini for design cc1d3433-258f-4486-937a-1bf68d992412: {'en': [], 'tr': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim'], 'display': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim'], 'unknown': []}
\n2025-08-04 23:19:13,845 - INFO - Saving hashtags for design cc1d3433-258f-4486-937a-1bf68d992412: {'en': [], 'tr': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim'], 'display': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim'], 'unknown': []}
\n2025-08-04 23:19:14,051 - INFO - Saved 10 hashtags for design cc1d3433-258f-4486-937a-1bf68d992412
\n2025-08-04 23:19:14,052 - INFO - Hashtags saved for design cc1d3433-258f-4486-937a-1bf68d992412: EN=[], TR=['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim']
\n2025-08-04 23:19:14,052 - INFO - Hashtags saved for design cc1d3433-258f-4486-937a-1bf68d992412: EN=[] TR=['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim'] DISPLAY=['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_malzemeler', '#aile_dostu', '#huzurlu_ortam', '#sade_dekorasyon', '#ergonomik_tasarim']
\n2025-08-04 23:19:14,053 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:19:14,054 - INFO - Hybrid mood board generation - Design ID: cc1d3433-258f-4486-937a-1bf68d992412 (type: <class 'str'>)
\n2025-08-04 23:19:14,054 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: preparing_prompt
\n2025-08-04 23:19:14,054 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: preparing_prompt
\n2025-08-04 23:19:14,055 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: optimizing_prompt
\n2025-08-04 23:19:14,055 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:14,076 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:19:14,076 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:14,077 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:15,170 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:15,170 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:15,851 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:19:15,857 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:19:15,857 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:19:16,542 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:19:16,548 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:19:16,549 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:19:16,672 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:18,173 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:19,674 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:21,176 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:22,677 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:24,178 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:32,146 - WARNING - ⚠️ Vertex AI failed, using fallback: 400 Image generation failed with the following error: Unable to show generated images. All images were filtered out because they violated Google's Responsible AI practices. Try rephrasing the prompt. If you think this was an error, send feedback.
\n2025-08-04 23:19:32,146 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:32,948 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:33,749 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:34,550 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:35,351 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:36,153 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:36,154 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: generating_image
\n2025-08-04 23:19:36,155 - INFO - Fallback placeholder image generated
\n2025-08-04 23:19:36,155 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: processing_image
\n2025-08-04 23:19:36,156 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: processing_image
\n2025-08-04 23:19:36,157 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_231936_2e25b9da.png
\n2025-08-04 23:19:36,158 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: finalizing
\n2025-08-04 23:19:36,158 - INFO - Hybrid mood board data structure for 2e25b9da-6bd0-4c86-ba55-61ff8100131a:
\n2025-08-04 23:19:36,158 - INFO -   - mood_board_id: 2e25b9da-6bd0-4c86-ba55-61ff8100131a
\n2025-08-04 23:19:36,159 - INFO -   - created_at: 2025-08-04T23:19:36.158612
\n2025-08-04 23:19:36,159 - INFO -   - image_data.created_at: 2025-08-04T23:19:36.158612
\n2025-08-04 23:19:36,159 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:19:36.158612
\n2025-08-04 23:19:36,159 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_231936_2e25b9da.png
\n2025-08-04 23:19:36,160 - INFO - Mood board progress updated for a735ac82-a67d-4f15-972f-1f99d93caa5a: completed
\n2025-08-04 23:19:36,160 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: cc1d3433-258f-4486-937a-1bf68d992412 (type: <class 'str'>)
\n2025-08-04 23:19:36,161 - INFO - Creating MoodBoard with:
\n2025-08-04 23:19:36,161 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:19:36,161 - INFO -   design_id: cc1d3433-258f-4486-937a-1bf68d992412 (type: <class 'str'>)
\n2025-08-04 23:19:36,161 - INFO -   mood_board_id: 2e25b9da-6bd0-4c86-ba55-61ff8100131a (type: <class 'str'>)
\n2025-08-04 23:19:36,161 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_231936_2e25b9da.png... (type: <class 'str'>)
\n2025-08-04 23:19:36,161 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home calisma in minimal style.
... (type: <class 'str'>)
\n2025-08-04 23:19:36,691 - INFO - Mood board 2e25b9da-6bd0-4c86-ba55-61ff8100131a saved to database and linked to design cc1d3433-258f-4486-937a-1bf68d992412
\n2025-08-04 23:19:36,692 - INFO - Hybrid mood board generated successfully: 2e25b9da-6bd0-4c86-ba55-61ff8100131a with 0 real + 7 fake products
\n2025-08-04 23:21:48,248 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:21:56,879 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:21:56,951 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:21:56,960 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:21:56,960 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:21:57,296 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:22:08,879 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:22:08,894 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:22:08,894 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:22:14,765 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:22:14,776 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:22:14,777 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:22:52,079 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:22:52,217 - INFO - Raw design_request object: room_type='calisma' design_style='minimal' notes='' connection_id='619b7002-0d76-48ff-8e77-45cf73bbd814' color_info=None width=440 length=401 height=300 product_categories=None price=None
\n2025-08-04 23:22:52,217 - INFO - Raw color_info object: None
\n2025-08-04 23:22:52,217 - INFO - Raw product_categories object: None
\n2025-08-04 23:22:52,218 - INFO - Processed color_info string: 
\n2025-08-04 23:22:52,218 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:22:52,218 - INFO - HYBRID design request from ali@gmail.com: calisma - minimal
\n2025-08-04 23:22:52,220 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:22:52,221 - INFO - Generating HYBRID design suggestion: calisma - minimal
\n2025-08-04 23:22:52,221 - INFO - Added room dimensions to context: 440x401x300 cm
\n2025-08-04 23:22:52,222 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:22:52,222 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:23:10,249 - WARNING - Unknown function call: 
\n2025-08-04 23:23:10,250 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:23:10,251 - INFO - Searching products: category=kitaplik, style=minimal, color=beyaz
\n2025-08-04 23:23:10,475 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 23:23:10,475 - INFO - Product marked as fake: Minimal Beyaz Kitaplık
\n2025-08-04 23:23:10,475 - INFO - Searching products: category=aydinlatma, style=minimal, color=siyah
\n2025-08-04 23:23:10,549 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 23:23:10,549 - INFO - Product marked as fake: Ayarlanabilir Masa Lambası
\n2025-08-04 23:23:10,550 - INFO - Searching products: category=sehpa, style=minimal, color=doğal
\n2025-08-04 23:23:10,624 - INFO - Found 0 products for category=sehpa
\n2025-08-04 23:23:10,624 - INFO - Product marked as fake: Doğal Ahşap Yan Sehpa
\n2025-08-04 23:23:10,624 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 23:23:10,695 - INFO - Found 0 products for category=koltuk
\n2025-08-04 23:23:10,695 - INFO - Product marked as fake: Ergonomik Çalışma Koltuğu
\n2025-08-04 23:23:10,695 - INFO - Searching products: category=aksesuar, style=doğal, color=yeşil
\n2025-08-04 23:23:10,771 - INFO - Found 0 products for category=aksesuar
\n2025-08-04 23:23:10,771 - INFO - Product marked as fake: Yeşil Yapraklı Salon Bitkisi
\n2025-08-04 23:23:10,772 - INFO - Searching products: category=dekoratif, style=minimal, color=çok renkli
\n2025-08-04 23:23:10,851 - INFO - Found 0 products for category=dekoratif
\n2025-08-04 23:23:10,851 - INFO - Product marked as fake: Geometrik Desenli Duvar Tablosu
\n2025-08-04 23:23:10,852 - INFO - Searching products: category=perde, style=minimal, color=beyaz
\n2025-08-04 23:23:10,925 - INFO - Found 0 products for category=perde
\n2025-08-04 23:23:10,926 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 23:23:10,926 - INFO - Searching products: category=halı, style=minimal, color=gri
\n2025-08-04 23:23:10,997 - INFO - Found 0 products for category=halı
\n2025-08-04 23:23:10,998 - INFO - Product marked as fake: Yün Halı
\n2025-08-04 23:23:10,998 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-04 23:23:10,998 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:23:10,999 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Çalışma Odası Tasarımı
\n2025-08-04 23:23:10,999 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-04 23:23:10,999 - INFO - Starting HYBRID background room visualization generation for connection: 619b7002-0d76-48ff-8e77-45cf73bbd814
\n2025-08-04 23:23:10,999 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:23:11,976 - INFO - Design saved to database for ali@gmail.com with ID: d4a6f09e-52a3-4f51-a34f-af752f57df9e
\n2025-08-04 23:23:11,977 - INFO - Hashtags from Gemini for design d4a6f09e-52a3-4f51-a34f-af752f57df9e: {'en': [], 'tr': ['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma'], 'display': ['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma'], 'unknown': []}
\n2025-08-04 23:23:11,977 - INFO - Saving hashtags for design d4a6f09e-52a3-4f51-a34f-af752f57df9e: {'en': [], 'tr': ['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma'], 'display': ['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma'], 'unknown': []}
\n2025-08-04 23:23:12,195 - INFO - Saved 10 hashtags for design d4a6f09e-52a3-4f51-a34f-af752f57df9e
\n2025-08-04 23:23:12,196 - INFO - Hashtags saved for design d4a6f09e-52a3-4f51-a34f-af752f57df9e: EN=[], TR=['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma']
\n2025-08-04 23:23:12,196 - INFO - Hashtags saved for design d4a6f09e-52a3-4f51-a34f-af752f57df9e: EN=[] TR=['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma'] DISPLAY=['#ic_tasarim', '#calisma_odasi', '#minimalizm', '#dogal_ahsap', '#notr_renkler', '#aile_dostu', '#fonksiyonel', '#ergonomik', '#bitki_dekoru', '#aydınlatma']
\n2025-08-04 23:23:12,198 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:23:12,198 - INFO - Hybrid mood board generation - Design ID: d4a6f09e-52a3-4f51-a34f-af752f57df9e (type: <class 'str'>)
\n2025-08-04 23:23:12,199 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: preparing_prompt
\n2025-08-04 23:23:12,199 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: preparing_prompt
\n2025-08-04 23:23:12,200 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: optimizing_prompt
\n2025-08-04 23:23:12,200 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:12,221 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:23:12,221 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:12,222 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:13,391 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:13,394 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:14,299 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:23:14,309 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:23:14,309 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:23:14,904 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:15,406 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:23:15,419 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:23:15,420 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:23:16,405 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:17,906 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:19,407 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:20,910 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:22,412 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:24,760 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:24,761 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: generating_image
\n2025-08-04 23:23:25,378 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:23:25,383 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: processing_image
\n2025-08-04 23:23:25,383 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: processing_image
\n2025-08-04 23:23:25,406 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_232325_0c334bd9.png
\n2025-08-04 23:23:25,408 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: finalizing
\n2025-08-04 23:23:25,409 - INFO - Hybrid mood board data structure for 0c334bd9-52b4-423f-a2ab-345c1f85c185:
\n2025-08-04 23:23:25,410 - INFO -   - mood_board_id: 0c334bd9-52b4-423f-a2ab-345c1f85c185
\n2025-08-04 23:23:25,410 - INFO -   - created_at: 2025-08-04T23:23:25.409226
\n2025-08-04 23:23:25,410 - INFO -   - image_data.created_at: 2025-08-04T23:23:25.409226
\n2025-08-04 23:23:25,411 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:23:25.409226
\n2025-08-04 23:23:25,411 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_232325_0c334bd9.png
\n2025-08-04 23:23:26,274 - INFO - Mood board progress updated for 619b7002-0d76-48ff-8e77-45cf73bbd814: completed
\n2025-08-04 23:23:26,275 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: d4a6f09e-52a3-4f51-a34f-af752f57df9e (type: <class 'str'>)
\n2025-08-04 23:23:26,275 - INFO - Creating MoodBoard with:
\n2025-08-04 23:23:26,276 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:23:26,276 - INFO -   design_id: d4a6f09e-52a3-4f51-a34f-af752f57df9e (type: <class 'str'>)
\n2025-08-04 23:23:26,276 - INFO -   mood_board_id: 0c334bd9-52b4-423f-a2ab-345c1f85c185 (type: <class 'str'>)
\n2025-08-04 23:23:26,277 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_232325_0c334bd9.png... (type: <class 'str'>)
\n2025-08-04 23:23:26,277 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home calisma in minimal style.
... (type: <class 'str'>)
\n2025-08-04 23:23:26,838 - INFO - Mood board 0c334bd9-52b4-423f-a2ab-345c1f85c185 saved to database and linked to design d4a6f09e-52a3-4f51-a34f-af752f57df9e
\n2025-08-04 23:23:26,839 - INFO - Hybrid mood board generated successfully: 0c334bd9-52b4-423f-a2ab-345c1f85c185 with 0 real + 8 fake products
\n2025-08-04 23:24:17,321 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:24:26,748 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:24:26,822 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:24:26,832 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:24:26,832 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:24:27,118 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:24:33,014 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:24:33,029 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:24:33,029 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:24:43,590 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:24:43,597 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:24:43,598 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:25:17,984 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:25:18,121 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:25:18,121 - INFO - HYBRID design request from ali@gmail.com: calisma - minimal
\n2025-08-04 23:25:18,122 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:25:18,123 - INFO - Generating HYBRID design suggestion: calisma - minimal
\n2025-08-04 23:25:18,123 - INFO - Added room dimensions to context: 440x401x300 cm
\n2025-08-04 23:25:18,123 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:25:18,123 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:25:26,510 - WARNING - Unknown function call: 
\n2025-08-04 23:25:26,511 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:25:26,512 - INFO - Searching products: category=kitaplik, style=minimal, color=beyaz
\n2025-08-04 23:25:26,715 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 23:25:26,716 - INFO - Product marked as fake: Minimal Beyaz Kitaplık
\n2025-08-04 23:25:26,716 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-04 23:25:26,783 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 23:25:26,784 - INFO - Product marked as fake: Ayarlanabilir Masa Lambası
\n2025-08-04 23:25:26,784 - INFO - Searching products: category=sehpa, style=minimal, color=doğal
\n2025-08-04 23:25:26,850 - INFO - Found 0 products for category=sehpa
\n2025-08-04 23:25:26,850 - INFO - Product marked as fake: Ahşap Yan Sehpa
\n2025-08-04 23:25:26,851 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 23:25:26,919 - INFO - Found 0 products for category=koltuk
\n2025-08-04 23:25:26,920 - INFO - Product marked as fake: Ergonomik Çalışma Koltuğu
\n2025-08-04 23:25:26,921 - INFO - Searching products: category=calisma_masasi, style=minimal, color=beyaz
\n2025-08-04 23:25:26,987 - INFO - Found 0 products for category=calisma_masasi
\n2025-08-04 23:25:26,988 - INFO - Product marked as fake: Beyaz Minimal Çalışma Masası
\n2025-08-04 23:25:26,989 - INFO - Searching products: category=aksesuar, style=bohem, color=bej
\n2025-08-04 23:25:27,056 - INFO - Found 0 products for category=aksesuar
\n2025-08-04 23:25:27,056 - INFO - Product marked as fake: Doğal Desenli Halı
\n2025-08-04 23:25:27,057 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-04 23:25:27,125 - INFO - Found 0 products for category=perde
\n2025-08-04 23:25:27,125 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 23:25:27,126 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-04 23:25:27,126 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:25:27,127 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Çalışma Odası Tasarımı
\n2025-08-04 23:25:27,127 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-04 23:25:27,128 - INFO - Starting HYBRID background room visualization generation for connection: cc639ee9-e02f-464e-b9d1-07b57e7b826b
\n2025-08-04 23:25:27,128 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:25:27,733 - INFO - Design saved to database for ali@gmail.com with ID: 3d3d7cb2-8be8-4121-a222-ba29269f0fd6
\n2025-08-04 23:25:27,734 - INFO - Hashtags from Gemini for design 3d3d7cb2-8be8-4121-a222-ba29269f0fd6: {'en': [], 'tr': ['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan'], 'display': ['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan'], 'unknown': []}
\n2025-08-04 23:25:27,735 - INFO - Saving hashtags for design 3d3d7cb2-8be8-4121-a222-ba29269f0fd6: {'en': [], 'tr': ['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan'], 'display': ['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan'], 'unknown': []}
\n2025-08-04 23:25:27,945 - INFO - Saved 10 hashtags for design 3d3d7cb2-8be8-4121-a222-ba29269f0fd6
\n2025-08-04 23:25:27,946 - INFO - Hashtags saved for design 3d3d7cb2-8be8-4121-a222-ba29269f0fd6: EN=[], TR=['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan']
\n2025-08-04 23:25:27,947 - INFO - Hashtags saved for design 3d3d7cb2-8be8-4121-a222-ba29269f0fd6: EN=[] TR=['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan'] DISPLAY=['#ev_tasarimi', '#ic_tasarim', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#aile_dostu', '#ev_ofisi', '#ergonomik', '#duzenli_alan']
\n2025-08-04 23:25:27,958 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:25:27,959 - INFO - Hybrid mood board generation - Design ID: 3d3d7cb2-8be8-4121-a222-ba29269f0fd6 (type: <class 'str'>)
\n2025-08-04 23:25:27,962 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: preparing_prompt
\n2025-08-04 23:25:27,964 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: preparing_prompt
\n2025-08-04 23:25:27,965 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: optimizing_prompt
\n2025-08-04 23:25:27,967 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:28,008 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:25:28,009 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:28,011 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:39,697 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:39,697 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:40,735 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:25:40,743 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:25:40,744 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:25:41,200 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:41,342 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:25:41,348 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:25:41,348 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:25:42,701 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:44,203 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:45,705 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:47,206 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:48,707 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:49,397 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:49,397 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:25:49,800 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:25:49,802 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: processing_image
\n2025-08-04 23:25:49,802 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: processing_image
\n2025-08-04 23:25:49,814 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_232549_50a6892d.png
\n2025-08-04 23:25:49,815 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: finalizing
\n2025-08-04 23:25:49,816 - INFO - Hybrid mood board data structure for 50a6892d-b314-4ea7-b984-047db0064c8c:
\n2025-08-04 23:25:49,816 - INFO -   - mood_board_id: 50a6892d-b314-4ea7-b984-047db0064c8c
\n2025-08-04 23:25:49,816 - INFO -   - created_at: 2025-08-04T23:25:49.816070
\n2025-08-04 23:25:49,816 - INFO -   - image_data.created_at: 2025-08-04T23:25:49.816070
\n2025-08-04 23:25:49,817 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:25:49.816070
\n2025-08-04 23:25:49,817 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_232549_50a6892d.png
\n2025-08-04 23:25:50,365 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: completed
\n2025-08-04 23:25:50,366 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 3d3d7cb2-8be8-4121-a222-ba29269f0fd6 (type: <class 'str'>)
\n2025-08-04 23:25:50,366 - INFO - Creating MoodBoard with:
\n2025-08-04 23:25:50,366 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:25:50,367 - INFO -   design_id: 3d3d7cb2-8be8-4121-a222-ba29269f0fd6 (type: <class 'str'>)
\n2025-08-04 23:25:50,367 - INFO -   mood_board_id: 50a6892d-b314-4ea7-b984-047db0064c8c (type: <class 'str'>)
\n2025-08-04 23:25:50,367 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_232549_50a6892d.png... (type: <class 'str'>)
\n2025-08-04 23:25:50,367 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home calisma in minimal style.
... (type: <class 'str'>)
\n2025-08-04 23:25:50,897 - INFO - Mood board 50a6892d-b314-4ea7-b984-047db0064c8c saved to database and linked to design 3d3d7cb2-8be8-4121-a222-ba29269f0fd6
\n2025-08-04 23:25:50,898 - INFO - Hybrid mood board generated successfully: 50a6892d-b314-4ea7-b984-047db0064c8c with 0 real + 7 fake products
\n2025-08-04 23:27:10,142 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:27:10,155 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:27:10,156 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:27:22,639 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:27:22,657 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:27:22,657 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:28:16,260 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:28:16,466 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:28:16,467 - INFO - HYBRID design request from ali@gmail.com: calisma - minimal
\n2025-08-04 23:28:16,471 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:28:16,472 - INFO - Generating HYBRID design suggestion: calisma - minimal
\n2025-08-04 23:28:16,478 - INFO - Added room dimensions to context: 440x401x300 cm
\n2025-08-04 23:28:16,479 - INFO - Added color info to context: {"dominantColor":null,"colorName":null,"colorPalette":null}
\n2025-08-04 23:28:16,483 - INFO - Added product categories to context: {'type': 'categories', 'products': None, 'description': None}
\n2025-08-04 23:28:16,487 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:28:16,497 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:28:23,609 - WARNING - Unknown function call: 
\n2025-08-04 23:28:23,609 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:28:23,610 - INFO - Searching products: category=kitaplik, style=minimal, color=beyaz
\n2025-08-04 23:28:23,742 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 23:28:23,743 - INFO - Product marked as fake: Minimal Beyaz Kitaplık
\n2025-08-04 23:28:23,743 - INFO - Searching products: category=sehpa, style=minimal, color=doğal
\n2025-08-04 23:28:23,809 - INFO - Found 0 products for category=sehpa
\n2025-08-04 23:28:23,810 - INFO - Product marked as fake: Ahşap Çalışma Sehpası
\n2025-08-04 23:28:23,810 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-04 23:28:23,875 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 23:28:23,875 - INFO - Product marked as fake: Ayarlanabilir Masa Lambası
\n2025-08-04 23:28:23,876 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 23:28:23,943 - INFO - Found 0 products for category=koltuk
\n2025-08-04 23:28:23,943 - INFO - Product marked as fake: Ergonomik Çalışma Koltuğu
\n2025-08-04 23:28:23,944 - INFO - Searching products: category=aksesuar, style=rustik, color=bej
\n2025-08-04 23:28:24,012 - INFO - Found 0 products for category=aksesuar
\n2025-08-04 23:28:24,012 - INFO - Product marked as fake: Doğal Lif Sepet
\n2025-08-04 23:28:24,013 - INFO - Searching products: category=dekorasyon, style=modern, color=çok renkli
\n2025-08-04 23:28:24,079 - INFO - Found 0 products for category=dekorasyon
\n2025-08-04 23:28:24,080 - INFO - Product marked as fake: Soyut Desenli Tablo
\n2025-08-04 23:28:24,080 - INFO - Searching products: category=perde, style=minimal, color=beyaz
\n2025-08-04 23:28:24,147 - INFO - Found 0 products for category=perde
\n2025-08-04 23:28:24,147 - INFO - Product marked as fake: Stor Perde
\n2025-08-04 23:28:24,148 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-04 23:28:24,148 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:28:24,148 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Çalışma Odası Tasarımı
\n2025-08-04 23:28:24,149 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-04 23:28:24,149 - INFO - Starting HYBRID background room visualization generation for connection: cc639ee9-e02f-464e-b9d1-07b57e7b826b
\n2025-08-04 23:28:24,149 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:28:24,550 - INFO - Design saved to database for ali@gmail.com with ID: 28d43d94-31d0-4cc7-96b6-c332125b98cd
\n2025-08-04 23:28:24,550 - INFO - Hashtags from Gemini for design 28d43d94-31d0-4cc7-96b6-c332125b98cd: {'en': [], 'tr': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma'], 'display': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma'], 'unknown': []}
\n2025-08-04 23:28:24,551 - INFO - Saving hashtags for design 28d43d94-31d0-4cc7-96b6-c332125b98cd: {'en': [], 'tr': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma'], 'display': ['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma'], 'unknown': []}
\n2025-08-04 23:28:24,751 - INFO - Saved 10 hashtags for design 28d43d94-31d0-4cc7-96b6-c332125b98cd
\n2025-08-04 23:28:24,751 - INFO - Hashtags saved for design 28d43d94-31d0-4cc7-96b6-c332125b98cd: EN=[], TR=['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma']
\n2025-08-04 23:28:24,752 - INFO - Hashtags saved for design 28d43d94-31d0-4cc7-96b6-c332125b98cd: EN=[] TR=['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma'] DISPLAY=['#ev_tasarimi', '#calisma_odasi', '#minimalizm', '#fonksiyonel_tasarim', '#notr_renkler', '#dogal_ahsap', '#sade_dekorasyon', '#aile_dostu', '#ergonomik_mobilya', '#duzenli_calisma']
\n2025-08-04 23:28:24,755 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:28:24,755 - INFO - Hybrid mood board generation - Design ID: 28d43d94-31d0-4cc7-96b6-c332125b98cd (type: <class 'str'>)
\n2025-08-04 23:28:24,756 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: preparing_prompt
\n2025-08-04 23:28:24,756 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: preparing_prompt
\n2025-08-04 23:28:24,757 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: optimizing_prompt
\n2025-08-04 23:28:24,758 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:24,758 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:28:24,759 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:24,759 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:25,825 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:25,826 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:26,279 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:28:26,289 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:28:26,290 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:28:26,357 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:28:26,369 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:28:26,370 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:28:27,328 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:28,829 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:30,331 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:31,833 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:33,334 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:34,836 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:35,230 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:35,231 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: generating_image
\n2025-08-04 23:28:35,656 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:28:35,658 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: processing_image
\n2025-08-04 23:28:35,658 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: processing_image
\n2025-08-04 23:28:35,670 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_232835_ca2a2763.png
\n2025-08-04 23:28:35,671 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: finalizing
\n2025-08-04 23:28:35,671 - INFO - Hybrid mood board data structure for ca2a2763-02cb-4ff2-8fa3-a46115fd18da:
\n2025-08-04 23:28:35,672 - INFO -   - mood_board_id: ca2a2763-02cb-4ff2-8fa3-a46115fd18da
\n2025-08-04 23:28:35,672 - INFO -   - created_at: 2025-08-04T23:28:35.671729
\n2025-08-04 23:28:35,672 - INFO -   - image_data.created_at: 2025-08-04T23:28:35.671729
\n2025-08-04 23:28:35,672 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:28:35.671729
\n2025-08-04 23:28:35,673 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_232835_ca2a2763.png
\n2025-08-04 23:28:35,673 - INFO - Mood board progress updated for cc639ee9-e02f-464e-b9d1-07b57e7b826b: completed
\n2025-08-04 23:28:35,673 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 28d43d94-31d0-4cc7-96b6-c332125b98cd (type: <class 'str'>)
\n2025-08-04 23:28:35,674 - INFO - Creating MoodBoard with:
\n2025-08-04 23:28:35,674 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:28:35,674 - INFO -   design_id: 28d43d94-31d0-4cc7-96b6-c332125b98cd (type: <class 'str'>)
\n2025-08-04 23:28:35,674 - INFO -   mood_board_id: ca2a2763-02cb-4ff2-8fa3-a46115fd18da (type: <class 'str'>)
\n2025-08-04 23:28:35,674 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_232835_ca2a2763.png... (type: <class 'str'>)
\n2025-08-04 23:28:35,675 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home calisma in minimal style.
... (type: <class 'str'>)
\n2025-08-04 23:28:36,041 - INFO - Mood board ca2a2763-02cb-4ff2-8fa3-a46115fd18da saved to database and linked to design 28d43d94-31d0-4cc7-96b6-c332125b98cd
\n2025-08-04 23:28:36,042 - INFO - Hybrid mood board generated successfully: ca2a2763-02cb-4ff2-8fa3-a46115fd18da with 0 real + 7 fake products
\n2025-08-04 23:28:57,175 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:28:57,307 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:28:57,307 - INFO - HYBRID design request from ali@gmail.com: yatak - modern
\n2025-08-04 23:28:57,309 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:28:57,309 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-04 23:28:57,309 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:28:57,309 - INFO - Added color info to context: {"dominantColor":null,"colorName":null,"colorPalette":null}
\n2025-08-04 23:28:57,310 - INFO - Added product categories to context: {'type': 'categories', 'products': None, 'description': None}
\n2025-08-04 23:28:57,310 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:28:57,310 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:29:05,550 - WARNING - Unknown function call: 
\n2025-08-04 23:29:05,550 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:29:05,550 - INFO - Searching products: category=yatak, style=modern, color=beyaz
\n2025-08-04 23:29:05,751 - INFO - Found 0 products for category=yatak
\n2025-08-04 23:29:05,751 - INFO - Product marked as fake: Modern Platform Yatak
\n2025-08-04 23:29:05,751 - INFO - Searching products: category=komodin, style=modern, color=beyaz
\n2025-08-04 23:29:05,865 - INFO - Found 0 products for category=komodin
\n2025-08-04 23:29:05,865 - INFO - Product marked as fake: Beyaz Komodin Seti
\n2025-08-04 23:29:05,865 - INFO - Searching products: category=aydinlatma, style=modern, color=beyaz
\n2025-08-04 23:29:05,936 - INFO - Found 0 products for category=aydinlatma
\n2025-08-04 23:29:05,937 - INFO - Product marked as fake: Modern Abajur
\n2025-08-04 23:29:05,937 - INFO - Searching products: category=kitaplik, style=modern, color=doğal
\n2025-08-04 23:29:06,006 - INFO - Found 0 products for category=kitaplik
\n2025-08-04 23:29:06,006 - INFO - Product marked as fake: Duvara Monte Kitaplık
\n2025-08-04 23:29:06,006 - INFO - Searching products: category=sehpa, style=modern, color=siyah
\n2025-08-04 23:29:06,073 - INFO - Found 0 products for category=sehpa
\n2025-08-04 23:29:06,074 - INFO - Product marked as fake: Yuvarlak Sehpa
\n2025-08-04 23:29:06,074 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-04 23:29:06,141 - INFO - Found 0 products for category=koltuk
\n2025-08-04 23:29:06,142 - INFO - Product marked as fake: Tekli Koltuk
\n2025-08-04 23:29:06,142 - INFO - Searching products: category=halı, style=modern, color=bej
\n2025-08-04 23:29:06,214 - INFO - Found 0 products for category=halı
\n2025-08-04 23:29:06,214 - INFO - Product marked as fake: Yün Halı
\n2025-08-04 23:29:06,214 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-04 23:29:06,280 - INFO - Found 0 products for category=perde
\n2025-08-04 23:29:06,280 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 23:29:06,280 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-04 23:29:06,280 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:29:06,280 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Modern Yatak Odası Tasarımı
\n2025-08-04 23:29:06,281 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-04 23:29:06,281 - INFO - Starting HYBRID background room visualization generation for connection: 9e9dcdba-6648-4dbf-aeb6-990ecd039445
\n2025-08-04 23:29:06,281 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:29:06,682 - INFO - Design saved to database for ali@gmail.com with ID: f7c45478-78ce-4243-bdf1-ccf290ce9281
\n2025-08-04 23:29:06,683 - INFO - Hashtags from Gemini for design f7c45478-78ce-4243-bdf1-ccf290ce9281: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam'], 'unknown': []}
\n2025-08-04 23:29:06,683 - INFO - Saving hashtags for design f7c45478-78ce-4243-bdf1-ccf290ce9281: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam'], 'unknown': []}
\n2025-08-04 23:29:06,821 - INFO - Saved 10 hashtags for design f7c45478-78ce-4243-bdf1-ccf290ce9281
\n2025-08-04 23:29:06,822 - INFO - Hashtags saved for design f7c45478-78ce-4243-bdf1-ccf290ce9281: EN=[], TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam']
\n2025-08-04 23:29:06,822 - INFO - Hashtags saved for design f7c45478-78ce-4243-bdf1-ccf290ce9281: EN=[] TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam'] DISPLAY=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_alan', '#huzurlu_yasam']
\n2025-08-04 23:29:06,823 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:29:06,823 - INFO - Hybrid mood board generation - Design ID: f7c45478-78ce-4243-bdf1-ccf290ce9281 (type: <class 'str'>)
\n2025-08-04 23:29:06,824 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: preparing_prompt
\n2025-08-04 23:29:06,824 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: preparing_prompt
\n2025-08-04 23:29:06,824 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: optimizing_prompt
\n2025-08-04 23:29:06,825 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:06,825 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:29:06,825 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:06,826 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:07,890 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:07,891 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:08,335 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:29:08,351 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:29:08,352 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:29:08,601 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:29:08,614 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:29:08,614 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:29:09,392 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:10,893 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:12,395 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:13,896 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:15,397 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:16,899 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:17,352 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:17,353 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: generating_image
\n2025-08-04 23:29:18,174 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:29:18,182 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: processing_image
\n2025-08-04 23:29:18,184 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: processing_image
\n2025-08-04 23:29:18,219 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_232918_7ad299be.png
\n2025-08-04 23:29:18,221 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: finalizing
\n2025-08-04 23:29:18,222 - INFO - Hybrid mood board data structure for 7ad299be-5621-41dd-a160-8c7ed0aae106:
\n2025-08-04 23:29:18,222 - INFO -   - mood_board_id: 7ad299be-5621-41dd-a160-8c7ed0aae106
\n2025-08-04 23:29:18,223 - INFO -   - created_at: 2025-08-04T23:29:18.222255
\n2025-08-04 23:29:18,223 - INFO -   - image_data.created_at: 2025-08-04T23:29:18.222255
\n2025-08-04 23:29:18,223 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:29:18.222255
\n2025-08-04 23:29:18,224 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_232918_7ad299be.png
\n2025-08-04 23:29:19,105 - INFO - Mood board progress updated for 9e9dcdba-6648-4dbf-aeb6-990ecd039445: completed
\n2025-08-04 23:29:19,106 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: f7c45478-78ce-4243-bdf1-ccf290ce9281 (type: <class 'str'>)
\n2025-08-04 23:29:19,107 - INFO - Creating MoodBoard with:
\n2025-08-04 23:29:19,107 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:29:19,108 - INFO -   design_id: f7c45478-78ce-4243-bdf1-ccf290ce9281 (type: <class 'str'>)
\n2025-08-04 23:29:19,108 - INFO -   mood_board_id: 7ad299be-5621-41dd-a160-8c7ed0aae106 (type: <class 'str'>)
\n2025-08-04 23:29:19,109 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_232918_7ad299be.png... (type: <class 'str'>)
\n2025-08-04 23:29:19,109 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-04 23:29:19,665 - INFO - Mood board 7ad299be-5621-41dd-a160-8c7ed0aae106 saved to database and linked to design f7c45478-78ce-4243-bdf1-ccf290ce9281
\n2025-08-04 23:29:19,666 - INFO - Hybrid mood board generated successfully: 7ad299be-5621-41dd-a160-8c7ed0aae106 with 0 real + 8 fake products
\n2025-08-04 23:29:31,959 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:29:31,967 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:29:31,968 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:29:43,151 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-04 23:31:38,383 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:31:38,521 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:31:38,522 - INFO - HYBRID design request from ali@gmail.com: salon - minimal
\n2025-08-04 23:31:38,523 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:31:38,523 - INFO - Generating HYBRID design suggestion: salon - minimal
\n2025-08-04 23:31:38,524 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:31:38,524 - INFO - Added color info to context: {"dominantColor":"#006994","colorName":"Okyanus Derinliği","colorPalette":["#006994","#13678A","#45B69C","#21D4B4","#B8E6B8"]}
\n2025-08-04 23:31:38,524 - INFO - Added product categories to context: {'type': 'categories', 'products': [{'name': 'Koltuk Takımı', 'icon': '🛋️'}, {'name': 'Sehpa', 'icon': '🪑'}], 'description': None}
\n2025-08-04 23:31:38,524 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:31:38,525 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:31:48,099 - WARNING - Unknown function call: 
\n2025-08-04 23:31:48,100 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:31:48,100 - INFO - Searching products: category=Koltuk Takımı, style=minimal, color=#006994
\n2025-08-04 23:31:48,250 - INFO - Found 0 products for category=Koltuk Takımı
\n2025-08-04 23:31:48,251 - INFO - Product marked as fake: Okyanus Derinliği Köşe Koltuk
\n2025-08-04 23:31:48,251 - INFO - Searching products: category=Sehpa, style=minimal, color=doğal
\n2025-08-04 23:31:48,317 - INFO - Found 0 products for category=Sehpa
\n2025-08-04 23:31:48,318 - INFO - Product marked as fake: Doğal Ahşap Orta Sehpa
\n2025-08-04 23:31:48,318 - INFO - Searching products: category=Aydınlatma, style=minimal, color=beyaz
\n2025-08-04 23:31:48,385 - INFO - Product SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz: original_path=/data/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> relative_path=aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> image_url=http://localhost:8000/static/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg
\n2025-08-04 23:31:48,385 - INFO - Found 1 products for category=Aydınlatma
\n2025-08-04 23:31:48,385 - INFO - Enhanced product with real data: SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz
\n2025-08-04 23:31:48,385 - INFO - Searching products: category=Halı, style=minimal, color=#B8E6B8
\n2025-08-04 23:31:48,452 - INFO - Found 0 products for category=Halı
\n2025-08-04 23:31:48,453 - INFO - Product marked as fake: Geometrik Desenli Halı
\n2025-08-04 23:31:48,453 - INFO - Searching products: category=Perde, style=minimal, color=#45B69C
\n2025-08-04 23:31:48,518 - INFO - Found 0 products for category=Perde
\n2025-08-04 23:31:48,518 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 23:31:48,518 - INFO - Searching products: category=Kitaplik, style=minimal, color=beyaz
\n2025-08-04 23:31:48,588 - INFO - Found 0 products for category=Kitaplik
\n2025-08-04 23:31:48,588 - INFO - Product marked as fake: Duvara Monte Kitaplık
\n2025-08-04 23:31:48,589 - INFO - Searching products: category=Dekoratif Yastık, style=minimal, color=#21D4B4
\n2025-08-04 23:31:48,653 - INFO - Found 0 products for category=Dekoratif Yastık
\n2025-08-04 23:31:48,653 - INFO - Product marked as fake: Desenli Dekoratif Yastıklar (4 adet)
\n2025-08-04 23:31:48,654 - INFO - Searching products: category=Bitki, style=minimal, color=yeşil
\n2025-08-04 23:31:48,718 - INFO - Found 0 products for category=Bitki
\n2025-08-04 23:31:48,719 - INFO - Product marked as fake: Salon Bitkisi (Areka Palmiyesi)
\n2025-08-04 23:31:48,719 - INFO - Product enhancement complete: 1 real, 7 fake products
\n2025-08-04 23:31:48,719 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:31:48,719 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Okyanus Esintili Salon Tasarımı
\n2025-08-04 23:31:48,719 - INFO - Product mix: 1 real + 7 fake = 8 total (12% real)
\n2025-08-04 23:31:48,720 - INFO - Starting HYBRID background room visualization generation for connection: 531bb433-7abc-41e4-9934-4f909dd16d12
\n2025-08-04 23:31:48,720 - INFO - Mood board will use 1 real product images for visual reference
\n2025-08-04 23:31:49,054 - INFO - Design saved to database for ali@gmail.com with ID: fcc0d483-3706-4a3f-a3a1-ed66ed70944f
\n2025-08-04 23:31:49,054 - INFO - Hashtags from Gemini for design fcc0d483-3706-4a3f-a3a1-ed66ed70944f: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam'], 'unknown': []}
\n2025-08-04 23:31:49,054 - INFO - Saving hashtags for design fcc0d483-3706-4a3f-a3a1-ed66ed70944f: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam'], 'unknown': []}
\n2025-08-04 23:31:49,190 - INFO - Saved 10 hashtags for design fcc0d483-3706-4a3f-a3a1-ed66ed70944f
\n2025-08-04 23:31:49,191 - INFO - Hashtags saved for design fcc0d483-3706-4a3f-a3a1-ed66ed70944f: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam']
\n2025-08-04 23:31:49,191 - INFO - Hashtags saved for design fcc0d483-3706-4a3f-a3a1-ed66ed70944f: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#konforlu_mobilyalar', '#dogal_detaylar', '#rahat_ortam']
\n2025-08-04 23:31:49,192 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:31:49,193 - INFO - Hybrid mood board generation - Design ID: fcc0d483-3706-4a3f-a3a1-ed66ed70944f (type: <class 'str'>)
\n2025-08-04 23:31:49,193 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: preparing_prompt
\n2025-08-04 23:31:49,194 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: preparing_prompt
\n2025-08-04 23:31:49,194 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: optimizing_prompt
\n2025-08-04 23:31:49,194 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:31:49,195 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:31:49,195 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:31:49,196 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:00,282 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:00,282 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:00,707 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:32:00,717 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:32:00,717 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:32:00,735 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:32:00,742 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:32:00,743 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:32:01,785 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:03,286 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:04,787 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:06,288 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:07,790 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:09,291 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:11,424 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:11,425 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: generating_image
\n2025-08-04 23:32:11,778 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:32:11,779 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: processing_image
\n2025-08-04 23:32:11,780 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: processing_image
\n2025-08-04 23:32:11,794 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_233211_117c126f.png
\n2025-08-04 23:32:11,795 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: finalizing
\n2025-08-04 23:32:11,795 - INFO - Hybrid mood board data structure for 117c126f-de64-43f4-ac28-e03d7505ee21:
\n2025-08-04 23:32:11,796 - INFO -   - mood_board_id: 117c126f-de64-43f4-ac28-e03d7505ee21
\n2025-08-04 23:32:11,796 - INFO -   - created_at: 2025-08-04T23:32:11.795734
\n2025-08-04 23:32:11,796 - INFO -   - image_data.created_at: 2025-08-04T23:32:11.795734
\n2025-08-04 23:32:11,796 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:32:11.795734
\n2025-08-04 23:32:11,796 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_233211_117c126f.png
\n2025-08-04 23:32:12,301 - INFO - Mood board progress updated for 531bb433-7abc-41e4-9934-4f909dd16d12: completed
\n2025-08-04 23:32:12,302 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: fcc0d483-3706-4a3f-a3a1-ed66ed70944f (type: <class 'str'>)
\n2025-08-04 23:32:12,302 - INFO - Creating MoodBoard with:
\n2025-08-04 23:32:12,302 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:32:12,302 - INFO -   design_id: fcc0d483-3706-4a3f-a3a1-ed66ed70944f (type: <class 'str'>)
\n2025-08-04 23:32:12,302 - INFO -   mood_board_id: 117c126f-de64-43f4-ac28-e03d7505ee21 (type: <class 'str'>)
\n2025-08-04 23:32:12,302 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_233211_117c126f.png... (type: <class 'str'>)
\n2025-08-04 23:32:12,303 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in minimal sty... (type: <class 'str'>)
\n2025-08-04 23:32:13,171 - INFO - Mood board 117c126f-de64-43f4-ac28-e03d7505ee21 saved to database and linked to design fcc0d483-3706-4a3f-a3a1-ed66ed70944f
\n2025-08-04 23:32:13,172 - INFO - Hybrid mood board generated successfully: 117c126f-de64-43f4-ac28-e03d7505ee21 with 1 real + 7 fake products
\n2025-08-04 23:33:34,014 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:33:42,801 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:33:42,860 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:33:42,867 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:33:42,867 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:33:43,071 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:33:50,420 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:33:56,872 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:33:56,933 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:33:56,941 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:33:56,941 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:33:57,202 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:34:11,398 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:34:17,807 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:34:17,870 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:34:17,877 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:34:17,877 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:34:18,098 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:34:38,237 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:34:44,714 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:34:44,818 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:34:44,828 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:34:44,829 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:34:45,133 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:34:51,573 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:34:59,509 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:34:59,584 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:34:59,595 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:34:59,595 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:34:59,842 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:35:03,773 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:35:11,074 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:35:11,160 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:35:11,171 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:35:11,171 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:35:11,433 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:35:20,798 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:35:27,797 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:35:27,886 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:35:27,898 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:35:27,899 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:35:28,202 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:35:50,644 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:35:58,905 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:35:58,991 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:35:59,003 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:35:59,004 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:35:59,301 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:35:59,831 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:36:01,615 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:36:01,616 - INFO - HYBRID design request from ali@gmail.com: salon - minimal
\n2025-08-04 23:36:01,617 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:36:01,617 - INFO - Generating HYBRID design suggestion: salon - minimal
\n2025-08-04 23:36:01,617 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:36:01,617 - INFO - Added color info to context: {"dominantColor":"#006994","colorName":"Okyanus Derinliği","colorPalette":["#006994","#13678A","#45B69C","#21D4B4","#B8E6B8"]}
\n2025-08-04 23:36:01,617 - INFO - Added product categories to context: {'type': 'categories', 'products': [{'name': 'Aydınlatma', 'icon': '💡'}, {'name': 'Dekoratif Objeler', 'icon': '🎨'}], 'description': None}
\n2025-08-04 23:36:01,618 - INFO - Gemini final prompt kaydedildi: logs\gemini_final_prompts_2025-08-04.json
\n2025-08-04 23:36:01,619 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:36:01,622 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:36:01,622 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:36:21,013 - WARNING - Unknown function call: 
\n2025-08-04 23:36:21,014 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:36:21,015 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:36:21,016 - INFO - Searching products: category=Aydınlatma, style=minimal, color=#006994
\n2025-08-04 23:36:22,133 - INFO - Found 0 products for category=Aydınlatma
\n2025-08-04 23:36:22,133 - INFO - Product marked as fake: Okyanus Esintili Sarkıt Lamba
\n2025-08-04 23:36:22,133 - INFO - Searching products: category=Dekoratif Objeler, style=minimal, color=#B8E6B8
\n2025-08-04 23:36:22,202 - INFO - Found 0 products for category=Dekoratif Objeler
\n2025-08-04 23:36:22,203 - INFO - Product marked as fake: Deniz Kabuğu Tasarımlı Seramik Vazo
\n2025-08-04 23:36:22,203 - INFO - Searching products: category=Koltuk, style=minimal, color=açık gri
\n2025-08-04 23:36:22,267 - INFO - Product ÄPPLARYD Lejde açık gri, 3'lü kanepe: original_path=/data/products/koltuk/applaryd-lejde-acik-gri-3-lu-kanepe.jpg -> relative_path=koltuk/applaryd-lejde-acik-gri-3-lu-kanepe.jpg -> image_url=http://localhost:8000/static/products/koltuk/applaryd-lejde-acik-gri-3-lu-kanepe.jpg
\n2025-08-04 23:36:22,268 - INFO - Found 1 products for category=Koltuk
\n2025-08-04 23:36:22,268 - INFO - Enhanced product with real data: ÄPPLARYD Lejde açık gri, 3'lü kanepe
\n2025-08-04 23:36:22,269 - INFO - Searching products: category=Sehpa, style=minimal, color=doğal
\n2025-08-04 23:36:22,334 - INFO - Found 0 products for category=Sehpa
\n2025-08-04 23:36:22,334 - INFO - Product marked as fake: Ahşap Orta Sehpa
\n2025-08-04 23:36:22,335 - INFO - Searching products: category=Kitaplik, style=minimal, color=beyaz
\n2025-08-04 23:36:22,403 - INFO - Found 0 products for category=Kitaplik
\n2025-08-04 23:36:22,403 - INFO - Product marked as fake: Duvara Monte Kitaplık
\n2025-08-04 23:36:22,403 - INFO - Searching products: category=Hali, style=minimal, color=bej
\n2025-08-04 23:36:22,471 - INFO - Found 0 products for category=Hali
\n2025-08-04 23:36:22,471 - INFO - Product marked as fake: Jüt Halı
\n2025-08-04 23:36:22,472 - INFO - Searching products: category=Perde, style=minimal, color=beyaz
\n2025-08-04 23:36:22,537 - INFO - Found 0 products for category=Perde
\n2025-08-04 23:36:22,538 - INFO - Product marked as fake: Tül Perde
\n2025-08-04 23:36:22,538 - INFO - Searching products: category=Dekoratif Yastık, style=minimal, color=#45B69C
\n2025-08-04 23:36:22,604 - INFO - Found 0 products for category=Dekoratif Yastık
\n2025-08-04 23:36:22,604 - INFO - Product marked as fake: Okyanus Temalı Yastık
\n2025-08-04 23:36:22,604 - INFO - Product enhancement complete: 1 real, 7 fake products
\n2025-08-04 23:36:22,604 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:36:22,605 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Okyanus Esintili Salon Tasarımı
\n2025-08-04 23:36:22,605 - INFO - Product mix: 1 real + 7 fake = 8 total (12% real)
\n2025-08-04 23:36:22,605 - INFO - Starting HYBRID background room visualization generation for connection: e0a6af60-ba6f-40cf-941a-006d174e8b3c
\n2025-08-04 23:36:22,605 - INFO - Mood board will use 1 real product images for visual reference
\n2025-08-04 23:36:23,145 - INFO - Design saved to database for ali@gmail.com with ID: 8b8364ae-1779-4d95-a4cb-98269c750210
\n2025-08-04 23:36:23,145 - INFO - Hashtags from Gemini for design 8b8364ae-1779-4d95-a4cb-98269c750210: {'en': [], 'tr': ['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler'], 'display': ['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler'], 'unknown': []}
\n2025-08-04 23:36:23,146 - INFO - Saving hashtags for design 8b8364ae-1779-4d95-a4cb-98269c750210: {'en': [], 'tr': ['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler'], 'display': ['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler'], 'unknown': []}
\n2025-08-04 23:36:23,369 - INFO - Saved 10 hashtags for design 8b8364ae-1779-4d95-a4cb-98269c750210
\n2025-08-04 23:36:23,369 - INFO - Hashtags saved for design 8b8364ae-1779-4d95-a4cb-98269c750210: EN=[], TR=['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler']
\n2025-08-04 23:36:23,370 - INFO - Hashtags saved for design 8b8364ae-1779-4d95-a4cb-98269c750210: EN=[] TR=['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler'] DISPLAY=['#ev_tasarimi', '#salon_dekorasyonu', '#minimalizm', '#okyanus_esintisi', '#aile_salonu', '#mavi_tonlar', '#aydınlatma_fikirleri', '#dekoratif_objeler', '#konforlu_salon', '#modern_evler']
\n2025-08-04 23:36:23,372 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:36:23,373 - INFO - Hybrid mood board generation - Design ID: 8b8364ae-1779-4d95-a4cb-98269c750210 (type: <class 'str'>)
\n2025-08-04 23:36:23,373 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: preparing_prompt
\n2025-08-04 23:36:23,374 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: preparing_prompt
\n2025-08-04 23:36:23,374 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: optimizing_prompt
\n2025-08-04 23:36:23,375 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:23,397 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:36:23,397 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:23,398 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:24,525 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:24,525 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:25,247 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:36:25,259 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:36:25,260 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:36:26,029 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:26,100 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:36:26,108 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:36:26,108 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:36:27,530 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:29,031 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:30,533 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:32,034 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:33,536 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:34,481 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:34,482 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:36:35,048 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:36:35,049 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: processing_image
\n2025-08-04 23:36:35,050 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: processing_image
\n2025-08-04 23:36:35,074 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_233635_3ce98834.png
\n2025-08-04 23:36:35,078 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: finalizing
\n2025-08-04 23:36:35,078 - INFO - Hybrid mood board data structure for 3ce98834-230e-42c7-95b5-82229f3a23d5:
\n2025-08-04 23:36:35,079 - INFO -   - mood_board_id: 3ce98834-230e-42c7-95b5-82229f3a23d5
\n2025-08-04 23:36:35,079 - INFO -   - created_at: 2025-08-04T23:36:35.078730
\n2025-08-04 23:36:35,079 - INFO -   - image_data.created_at: 2025-08-04T23:36:35.078730
\n2025-08-04 23:36:35,080 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:36:35.078730
\n2025-08-04 23:36:35,080 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_233635_3ce98834.png
\n2025-08-04 23:36:35,869 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: completed
\n2025-08-04 23:36:35,869 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 8b8364ae-1779-4d95-a4cb-98269c750210 (type: <class 'str'>)
\n2025-08-04 23:36:35,870 - INFO - Creating MoodBoard with:
\n2025-08-04 23:36:35,870 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:36:35,870 - INFO -   design_id: 8b8364ae-1779-4d95-a4cb-98269c750210 (type: <class 'str'>)
\n2025-08-04 23:36:35,870 - INFO -   mood_board_id: 3ce98834-230e-42c7-95b5-82229f3a23d5 (type: <class 'str'>)
\n2025-08-04 23:36:35,871 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_233635_3ce98834.png... (type: <class 'str'>)
\n2025-08-04 23:36:35,871 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in minimal sty... (type: <class 'str'>)
\n2025-08-04 23:36:36,420 - INFO - Mood board 3ce98834-230e-42c7-95b5-82229f3a23d5 saved to database and linked to design 8b8364ae-1779-4d95-a4cb-98269c750210
\n2025-08-04 23:36:36,421 - INFO - Hybrid mood board generated successfully: 3ce98834-230e-42c7-95b5-82229f3a23d5 with 1 real + 7 fake products
\n2025-08-04 23:39:47,665 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:40:25,314 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:40:25,322 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:40:25,323 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:40:25,774 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:40:25,783 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:40:25,784 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:41:13,819 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:41:13,954 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:41:13,954 - INFO - HYBRID design request from ali@gmail.com: salon - modern
\n2025-08-04 23:41:13,955 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:41:13,956 - INFO - Generating HYBRID design suggestion: salon - modern
\n2025-08-04 23:41:13,956 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:41:13,956 - INFO - Added color info to context: {"dominantColor":"#36454F","colorName":"Ham Endüstriyel","colorPalette":["#36454F","#708090","#A9A9A9","#CD853F","#8B4513"]}
\n2025-08-04 23:41:13,956 - INFO - Added product categories to context: {'type': 'categories', 'products': [{'name': 'Koltuk Takımı', 'icon': '🛋️'}, {'name': 'Sehpa', 'icon': '🪑'}, {'name': 'Aydınlatma', 'icon': '💡'}, {'name': 'Dekoratif Objeler', 'icon': '🎨'}], 'description': None}
\n2025-08-04 23:41:13,958 - INFO - Gemini final prompt kaydedildi: logs\gemini_final_prompts_2025-08-04.json
\n2025-08-04 23:41:13,958 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:41:13,959 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:41:13,959 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:41:22,496 - WARNING - Unknown function call: 
\n2025-08-04 23:41:22,496 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:41:22,497 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:41:22,498 - INFO - Searching products: category=Koltuk Takımı, style=modern, color=gri
\n2025-08-04 23:41:22,701 - INFO - Found 0 products for category=Koltuk Takımı
\n2025-08-04 23:41:22,702 - INFO - Product marked as fake: Köşe Koltuk Takımı - Gri Tonları
\n2025-08-04 23:41:22,702 - INFO - Searching products: category=Sehpa, style=modern, color=doğal
\n2025-08-04 23:41:22,769 - INFO - Found 0 products for category=Sehpa
\n2025-08-04 23:41:22,769 - INFO - Product marked as fake: Metal Ayaklı Ahşap Orta Sehpa
\n2025-08-04 23:41:22,769 - INFO - Searching products: category=Aydınlatma, style=modern, color=siyah
\n2025-08-04 23:41:22,837 - INFO - Product SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz: original_path=/data/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> relative_path=aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> image_url=http://localhost:8000/static/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg
\n2025-08-04 23:41:22,837 - INFO - Found 1 products for category=Aydınlatma
\n2025-08-04 23:41:22,838 - INFO - Enhanced product with real data: SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz
\n2025-08-04 23:41:22,838 - INFO - Searching products: category=Dekoratif Objeler, style=modern, color=bej
\n2025-08-04 23:41:22,906 - INFO - Found 0 products for category=Dekoratif Objeler
\n2025-08-04 23:41:22,906 - INFO - Product marked as fake: Seramik Vazo Seti - Nötr Tonlar
\n2025-08-04 23:41:22,906 - INFO - Searching products: category=Halı, style=modern, color=gri
\n2025-08-04 23:41:22,973 - INFO - Product TIPHEDE büyük halı, naturel/kırık beyaz: original_path=/data/products/hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg -> relative_path=hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg -> image_url=http://localhost:8000/static/products/hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg
\n2025-08-04 23:41:22,974 - INFO - Found 1 products for category=Halı
\n2025-08-04 23:41:22,974 - INFO - Enhanced product with real data: TIPHEDE büyük halı, naturel/kırık beyaz
\n2025-08-04 23:41:22,975 - INFO - Searching products: category=Perde, style=modern, color=gri
\n2025-08-04 23:41:23,040 - INFO - Found 0 products for category=Perde
\n2025-08-04 23:41:23,040 - INFO - Product marked as fake: Keten Perde - Gri Tonları
\n2025-08-04 23:41:23,042 - INFO - Searching products: category=Kitaplık, style=modern, color=siyah
\n2025-08-04 23:41:23,114 - INFO - Product BAGGEBO beyaz, 50x25x160 cm kitaplık: original_path=/data/products/kitaplik/baggebo-beyaz-50x25x160-cm-kitaplik.jpg -> relative_path=kitaplik/baggebo-beyaz-50x25x160-cm-kitaplik.jpg -> image_url=http://localhost:8000/static/products/kitaplik/baggebo-beyaz-50x25x160-cm-kitaplik.jpg
\n2025-08-04 23:41:23,114 - INFO - Found 1 products for category=Kitaplık
\n2025-08-04 23:41:23,114 - INFO - Enhanced product with real data: BAGGEBO beyaz, 50x25x160 cm kitaplık
\n2025-08-04 23:41:23,115 - INFO - Searching products: category=Aydınlatma, style=modern, color=siyah
\n2025-08-04 23:41:23,184 - INFO - Product SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz: original_path=/data/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> relative_path=aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg -> image_url=http://localhost:8000/static/products/aydinlatma/solhetta-isik-rengi-sicak-beyaz-2700-kelvin-230-lm-led-ampul-gu10.jpg
\n2025-08-04 23:41:23,186 - INFO - Found 1 products for category=Aydınlatma
\n2025-08-04 23:41:23,191 - INFO - Enhanced product with real data: SOLHETTA LED ampul GU10, 230 lm, sıcak beyaz
\n2025-08-04 23:41:23,193 - INFO - Product enhancement complete: 4 real, 4 fake products
\n2025-08-04 23:41:23,194 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:41:23,194 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Modern Ham Endüstriyel Salon Tasarımı
\n2025-08-04 23:41:23,194 - INFO - Product mix: 4 real + 4 fake = 8 total (50% real)
\n2025-08-04 23:41:23,195 - INFO - Starting HYBRID background room visualization generation for connection: e0a6af60-ba6f-40cf-941a-006d174e8b3c
\n2025-08-04 23:41:23,195 - INFO - Mood board will use 4 real product images for visual reference
\n2025-08-04 23:41:23,671 - INFO - Design saved to database for ali@gmail.com with ID: f2d042e0-b20c-4789-ac5a-2c47a1e7f112
\n2025-08-04 23:41:23,672 - INFO - Hashtags from Gemini for design f2d042e0-b20c-4789-ac5a-2c47a1e7f112: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani'], 'unknown': []}
\n2025-08-04 23:41:23,672 - INFO - Saving hashtags for design f2d042e0-b20c-4789-ac5a-2c47a1e7f112: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani'], 'unknown': []}
\n2025-08-04 23:41:23,869 - INFO - Saved 10 hashtags for design f2d042e0-b20c-4789-ac5a-2c47a1e7f112
\n2025-08-04 23:41:23,869 - INFO - Hashtags saved for design f2d042e0-b20c-4789-ac5a-2c47a1e7f112: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani']
\n2025-08-04 23:41:23,869 - INFO - Hashtags saved for design f2d042e0-b20c-4789-ac5a-2c47a1e7f112: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#endustriyel_tasarim', '#aile_salonu', '#konforlu_salon', '#dogal_isik', '#sicak_dekor', '#oturma_alani']
\n2025-08-04 23:41:23,872 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:41:23,873 - INFO - Hybrid mood board generation - Design ID: f2d042e0-b20c-4789-ac5a-2c47a1e7f112 (type: <class 'str'>)
\n2025-08-04 23:41:23,874 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: preparing_prompt
\n2025-08-04 23:41:23,875 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: preparing_prompt
\n2025-08-04 23:41:23,876 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: optimizing_prompt
\n2025-08-04 23:41:23,877 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:23,877 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:41:23,878 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:23,878 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:35,029 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:35,030 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:35,444 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:41:35,450 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:41:35,450 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:41:35,924 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:41:35,928 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:41:35,929 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:41:36,531 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:38,032 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:39,533 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:41,035 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:42,536 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:44,037 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:47,419 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:47,422 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: generating_image
\n2025-08-04 23:41:48,059 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:41:48,061 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: processing_image
\n2025-08-04 23:41:48,063 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: processing_image
\n2025-08-04 23:41:48,091 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_234148_5e1238f6.png
\n2025-08-04 23:41:48,094 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: finalizing
\n2025-08-04 23:41:48,095 - INFO - Hybrid mood board data structure for 5e1238f6-38ec-476c-bc50-031e58b8f324:
\n2025-08-04 23:41:48,096 - INFO -   - mood_board_id: 5e1238f6-38ec-476c-bc50-031e58b8f324
\n2025-08-04 23:41:48,097 - INFO -   - created_at: 2025-08-04T23:41:48.095677
\n2025-08-04 23:41:48,098 - INFO -   - image_data.created_at: 2025-08-04T23:41:48.095677
\n2025-08-04 23:41:48,099 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:41:48.095677
\n2025-08-04 23:41:48,102 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_234148_5e1238f6.png
\n2025-08-04 23:41:49,042 - INFO - Mood board progress updated for e0a6af60-ba6f-40cf-941a-006d174e8b3c: completed
\n2025-08-04 23:41:49,043 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: f2d042e0-b20c-4789-ac5a-2c47a1e7f112 (type: <class 'str'>)
\n2025-08-04 23:41:49,043 - INFO - Creating MoodBoard with:
\n2025-08-04 23:41:49,044 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:41:49,044 - INFO -   design_id: f2d042e0-b20c-4789-ac5a-2c47a1e7f112 (type: <class 'str'>)
\n2025-08-04 23:41:49,044 - INFO -   mood_board_id: 5e1238f6-38ec-476c-bc50-031e58b8f324 (type: <class 'str'>)
\n2025-08-04 23:41:49,044 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_234148_5e1238f6.png... (type: <class 'str'>)
\n2025-08-04 23:41:49,045 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in modern styl... (type: <class 'str'>)
\n2025-08-04 23:41:49,652 - INFO - Mood board 5e1238f6-38ec-476c-bc50-031e58b8f324 saved to database and linked to design f2d042e0-b20c-4789-ac5a-2c47a1e7f112
\n2025-08-04 23:41:49,653 - INFO - Hybrid mood board generated successfully: 5e1238f6-38ec-476c-bc50-031e58b8f324 with 4 real + 4 fake products
\n2025-08-04 23:42:02,667 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:42:02,669 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:44:54,853 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:44:54,854 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:44:57,765 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:44:58,067 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:47:08,886 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:47:09,021 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:47:09,021 - INFO - HYBRID design request from ali@gmail.com: çocuk - minimal
\n2025-08-04 23:47:09,023 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:47:09,023 - INFO - Generating HYBRID design suggestion: çocuk - minimal
\n2025-08-04 23:47:09,023 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:47:09,023 - INFO - Added color info to context: {"dominantColor":"#228B22","colorName":"Orman Yeşili","colorPalette":["#228B22","#32CD32","#90EE90","#8FBC8F","#6B8E23"]}
\n2025-08-04 23:47:09,024 - INFO - Added product categories to context: {'type': 'categories', 'products': [{'name': 'Çocuk Yatağı', 'icon': '🛏️'}, {'name': 'Oyun Alanı', 'icon': '🎮'}, {'name': 'Oyuncak Dolabı', 'icon': '🧸'}, {'name': 'Halı', 'icon': '🪔'}], 'description': None}
\n2025-08-04 23:47:09,025 - INFO - Gemini final prompt kaydedildi: logs\gemini_final_prompts_2025-08-04.json
\n2025-08-04 23:47:09,025 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:47:09,026 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:47:09,026 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:47:16,229 - WARNING - Unknown function call: 
\n2025-08-04 23:47:16,229 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:47:16,231 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:47:16,231 - INFO - Searching products: category=Çocuk Yatağı, style=minimal, color=#228B22
\n2025-08-04 23:47:16,366 - INFO - Found 0 products for category=Çocuk Yatağı
\n2025-08-04 23:47:16,366 - INFO - Product marked as fake: Orman Yeşili Montessori Yatak
\n2025-08-04 23:47:16,366 - INFO - Searching products: category=Halı, style=minimal, color=#90EE90
\n2025-08-04 23:47:16,433 - INFO - Found 0 products for category=Halı
\n2025-08-04 23:47:16,433 - INFO - Product marked as fake: Yaprak Desenli Oyun Halısı
\n2025-08-04 23:47:16,434 - INFO - Searching products: category=Oyuncak Dolabı, style=minimal, color=doğal
\n2025-08-04 23:47:16,499 - INFO - Found 0 products for category=Oyuncak Dolabı
\n2025-08-04 23:47:16,500 - INFO - Product marked as fake: Ahşap Oyuncak Saklama Dolabı
\n2025-08-04 23:47:16,500 - INFO - Searching products: category=Aydınlatma, style=minimal, color=#228B22
\n2025-08-04 23:47:16,567 - INFO - Found 0 products for category=Aydınlatma
\n2025-08-04 23:47:16,568 - INFO - Product marked as fake: Yeşil Abajurlu Masa Lambası
\n2025-08-04 23:47:16,568 - INFO - Searching products: category=Dekorasyon, style=minimal, color=doğal
\n2025-08-04 23:47:16,636 - INFO - Found 0 products for category=Dekorasyon
\n2025-08-04 23:47:16,637 - INFO - Product marked as fake: Ahşap Duvar Rafları
\n2025-08-04 23:47:16,637 - INFO - Searching products: category=Oyun Alanı, style=minimal, color=doğal
\n2025-08-04 23:47:16,701 - INFO - Found 0 products for category=Oyun Alanı
\n2025-08-04 23:47:16,702 - INFO - Product marked as fake: Tırmanma Üçgeni ve Kaydırak Seti
\n2025-08-04 23:47:16,702 - INFO - Product enhancement complete: 0 real, 6 fake products
\n2025-08-04 23:47:16,702 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:47:16,702 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Minimal Çocuk Odası - Orman Yeşili
\n2025-08-04 23:47:16,702 - INFO - Product mix: 0 real + 6 fake = 6 total (0% real)
\n2025-08-04 23:47:16,703 - INFO - Starting HYBRID background room visualization generation for connection: 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159
\n2025-08-04 23:47:16,703 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-04 23:47:17,048 - INFO - Design saved to database for ali@gmail.com with ID: 069463fb-a144-46d5-9501-f4b7b1253e15
\n2025-08-04 23:47:17,048 - INFO - Hashtags from Gemini for design 069463fb-a144-46d5-9501-f4b7b1253e15: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu'], 'unknown': []}
\n2025-08-04 23:47:17,049 - INFO - Saving hashtags for design 069463fb-a144-46d5-9501-f4b7b1253e15: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu'], 'unknown': []}
\n2025-08-04 23:47:17,178 - INFO - Saved 10 hashtags for design 069463fb-a144-46d5-9501-f4b7b1253e15
\n2025-08-04 23:47:17,179 - INFO - Hashtags saved for design 069463fb-a144-46d5-9501-f4b7b1253e15: EN=[], TR=['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu']
\n2025-08-04 23:47:17,179 - INFO - Hashtags saved for design 069463fb-a144-46d5-9501-f4b7b1253e15: EN=[] TR=['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu'] DISPLAY=['#ic_tasarim', '#cocuk_odasi', '#minimalizm', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#yesil_dekorasyon', '#fonksiyonel_tasarim', '#aile_dostu']
\n2025-08-04 23:47:17,180 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:47:17,180 - INFO - Hybrid mood board generation - Design ID: 069463fb-a144-46d5-9501-f4b7b1253e15 (type: <class 'str'>)
\n2025-08-04 23:47:17,181 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: preparing_prompt
\n2025-08-04 23:47:17,181 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: preparing_prompt
\n2025-08-04 23:47:17,181 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: optimizing_prompt
\n2025-08-04 23:47:17,182 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:17,182 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:47:17,182 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:17,182 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:18,298 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:18,299 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:18,783 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:47:18,793 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:47:18,793 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:47:19,317 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:47:19,339 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:47:19,340 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:47:19,802 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:21,303 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:22,805 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:24,306 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:25,807 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:27,309 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:29,235 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:29,236 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:47:29,669 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:47:29,670 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: processing_image
\n2025-08-04 23:47:29,671 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: processing_image
\n2025-08-04 23:47:29,689 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_234729_809e0a78.png
\n2025-08-04 23:47:29,691 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: finalizing
\n2025-08-04 23:47:29,691 - INFO - Hybrid mood board data structure for 809e0a78-84a5-41cf-8195-1744be45d41f:
\n2025-08-04 23:47:29,692 - INFO -   - mood_board_id: 809e0a78-84a5-41cf-8195-1744be45d41f
\n2025-08-04 23:47:29,692 - INFO -   - created_at: 2025-08-04T23:47:29.691841
\n2025-08-04 23:47:29,692 - INFO -   - image_data.created_at: 2025-08-04T23:47:29.691841
\n2025-08-04 23:47:29,693 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:47:29.691841
\n2025-08-04 23:47:29,693 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_234729_809e0a78.png
\n2025-08-04 23:47:30,301 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: completed
\n2025-08-04 23:47:30,302 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 069463fb-a144-46d5-9501-f4b7b1253e15 (type: <class 'str'>)
\n2025-08-04 23:47:30,302 - INFO - Creating MoodBoard with:
\n2025-08-04 23:47:30,302 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:47:30,302 - INFO -   design_id: 069463fb-a144-46d5-9501-f4b7b1253e15 (type: <class 'str'>)
\n2025-08-04 23:47:30,303 - INFO -   mood_board_id: 809e0a78-84a5-41cf-8195-1744be45d41f (type: <class 'str'>)
\n2025-08-04 23:47:30,303 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_234729_809e0a78.png... (type: <class 'str'>)
\n2025-08-04 23:47:30,303 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home çocuk in minimal style.

I... (type: <class 'str'>)
\n2025-08-04 23:47:30,639 - INFO - Mood board 809e0a78-84a5-41cf-8195-1744be45d41f saved to database and linked to design 069463fb-a144-46d5-9501-f4b7b1253e15
\n2025-08-04 23:47:30,640 - INFO - Hybrid mood board generated successfully: 809e0a78-84a5-41cf-8195-1744be45d41f with 0 real + 6 fake products
\n2025-08-04 23:48:07,744 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:48:07,774 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:48:07,776 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:48:08,588 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:48:08,595 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:48:08,595 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:48:29,866 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:48:29,878 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:48:29,879 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:48:30,343 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:48:30,357 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:48:30,358 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:48:34,925 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-04 23:48:35,060 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:48:35,061 - INFO - HYBRID design request from ali@gmail.com: çocuk - modern
\n2025-08-04 23:48:35,062 - INFO - Gemini prompt kaydedildi: logs\gemini_prompts_2025-08-04.json
\n2025-08-04 23:48:35,062 - INFO - Generating HYBRID design suggestion: çocuk - modern
\n2025-08-04 23:48:35,062 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-04 23:48:35,062 - INFO - Added color info to context: {"dominantColor":"#228B22","colorName":"Orman Yeşili","colorPalette":["#228B22","#32CD32","#90EE90","#8FBC8F","#6B8E23"]}
\n2025-08-04 23:48:35,063 - INFO - Added product categories to context: {'type': 'categories', 'products': [{'name': 'Çocuk Yatağı', 'icon': '🛏️'}, {'name': 'Oyun Alanı', 'icon': '🎮'}, {'name': 'Oyuncak Dolabı', 'icon': '🧸'}, {'name': 'Halı', 'icon': '🪔'}], 'description': None}
\n2025-08-04 23:48:35,064 - INFO - Gemini final prompt kaydedildi: logs\gemini_final_prompts_2025-08-04.json
\n2025-08-04 23:48:35,064 - INFO - Starting Function Calling session with Gemini
\n2025-08-04 23:48:35,065 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:48:35,065 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-04 23:48:42,857 - WARNING - Unknown function call: 
\n2025-08-04 23:48:42,858 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-04 23:48:42,859 - INFO - Gemini API call kaydedildi: logs\gemini_api_calls_2025-08-04.json
\n2025-08-04 23:48:42,859 - INFO - Searching products: category=Çocuk Yatağı, style=modern, color=doğal
\n2025-08-04 23:48:42,989 - INFO - Found 0 products for category=Çocuk Yatağı
\n2025-08-04 23:48:42,989 - INFO - Product marked as fake: Doğal Ahşap Çocuk Yatağı
\n2025-08-04 23:48:42,989 - INFO - Searching products: category=Halı, style=modern, color=yeşil
\n2025-08-04 23:48:43,072 - INFO - Product TIPHEDE büyük halı, naturel/kırık beyaz: original_path=/data/products/hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg -> relative_path=hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg -> image_url=http://localhost:8000/static/products/hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg
\n2025-08-04 23:48:43,073 - INFO - Found 1 products for category=Halı
\n2025-08-04 23:48:43,073 - INFO - Enhanced product with real data: TIPHEDE büyük halı, naturel/kırık beyaz
\n2025-08-04 23:48:43,073 - INFO - Searching products: category=Oyuncak Dolabı, style=modern, color=yeşil
\n2025-08-04 23:48:43,168 - INFO - Product TROFAST açık beyaz vernikli çam saklama ünitesi iskeleti, 94x52 cm: original_path=/data/products/oyuncak-dolabi/trofast-acik-beyaz-vernikli-cam-94x52-cm-saklama-unitesi-iskeleti.jpg -> relative_path=oyuncak-dolabi/trofast-acik-beyaz-vernikli-cam-94x52-cm-saklama-unitesi-iskeleti.jpg -> image_url=http://localhost:8000/static/products/oyuncak-dolabi/trofast-acik-beyaz-vernikli-cam-94x52-cm-saklama-unitesi-iskeleti.jpg
\n2025-08-04 23:48:43,169 - INFO - Found 1 products for category=Oyuncak Dolabı
\n2025-08-04 23:48:43,169 - INFO - Enhanced product with real data: TROFAST açık beyaz vernikli çam saklama ünitesi iskeleti, 94x52 cm
\n2025-08-04 23:48:43,169 - INFO - Searching products: category=Oyun Alanı, style=modern, color=yeşil
\n2025-08-04 23:48:43,240 - INFO - Found 0 products for category=Oyun Alanı
\n2025-08-04 23:48:43,241 - INFO - Product marked as fake: Çok Amaçlı Oyun Çadırı
\n2025-08-04 23:48:43,241 - INFO - Searching products: category=Aydinlatma, style=modern, color=beyaz
\n2025-08-04 23:48:43,316 - INFO - Found 0 products for category=Aydinlatma
\n2025-08-04 23:48:43,316 - INFO - Product marked as fake: Yaprak Figürlü LED Lamba
\n2025-08-04 23:48:43,317 - INFO - Searching products: category=Sehpa, style=modern, color=doğal
\n2025-08-04 23:48:43,390 - INFO - Found 0 products for category=Sehpa
\n2025-08-04 23:48:43,391 - INFO - Product marked as fake: Ahşap Desenli Çocuk Sehpa
\n2025-08-04 23:48:43,391 - INFO - Product enhancement complete: 2 real, 4 fake products
\n2025-08-04 23:48:43,391 - INFO - Hybrid design suggestion generated successfully
\n2025-08-04 23:48:43,391 - INFO - HYBRID design suggestion created successfully for ali@gmail.com: Orman Esintili Modern Çocuk Odası
\n2025-08-04 23:48:43,391 - INFO - Product mix: 2 real + 4 fake = 6 total (33% real)
\n2025-08-04 23:48:43,392 - INFO - Starting HYBRID background room visualization generation for connection: 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159
\n2025-08-04 23:48:43,392 - INFO - Mood board will use 2 real product images for visual reference
\n2025-08-04 23:48:43,749 - INFO - Design saved to database for ali@gmail.com with ID: c5239e46-0f99-408e-948f-2b8c45dfe9dc
\n2025-08-04 23:48:43,750 - INFO - Hashtags from Gemini for design c5239e46-0f99-408e-948f-2b8c45dfe9dc: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim'], 'unknown': []}
\n2025-08-04 23:48:43,750 - INFO - Saving hashtags for design c5239e46-0f99-408e-948f-2b8c45dfe9dc: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim'], 'unknown': []}
\n2025-08-04 23:48:43,881 - INFO - Saved 10 hashtags for design c5239e46-0f99-408e-948f-2b8c45dfe9dc
\n2025-08-04 23:48:43,881 - INFO - Hashtags saved for design c5239e46-0f99-408e-948f-2b8c45dfe9dc: EN=[], TR=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim']
\n2025-08-04 23:48:43,881 - INFO - Hashtags saved for design c5239e46-0f99-408e-948f-2b8c45dfe9dc: EN=[] TR=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim'] DISPLAY=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#orman_yesili', '#oyun_alani', '#cocuk_yatagi', '#oyuncak_dolabi', '#halı', '#aile_dostu', '#fonksiyonel_tasarim']
\n2025-08-04 23:48:43,883 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-04 23:48:43,883 - INFO - Hybrid mood board generation - Design ID: c5239e46-0f99-408e-948f-2b8c45dfe9dc (type: <class 'str'>)
\n2025-08-04 23:48:43,883 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: preparing_prompt
\n2025-08-04 23:48:43,884 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: preparing_prompt
\n2025-08-04 23:48:43,884 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: optimizing_prompt
\n2025-08-04 23:48:43,884 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:43,885 - INFO - 🎨 Generating room visualization with Vertex AI...
\n2025-08-04 23:48:43,885 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:43,885 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:44,943 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:44,944 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:45,543 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:48:45,554 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:48:45,555 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:48:46,090 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:48:46,102 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:48:46,103 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:48:46,447 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:47,949 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:49,452 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:50,955 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:52,456 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:52,860 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:48:52,862 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:48:53,957 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:58,593 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:58,594 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: generating_image
\n2025-08-04 23:48:59,035 - INFO - ✅ Vertex AI room visualization generated successfully
\n2025-08-04 23:48:59,037 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: processing_image
\n2025-08-04 23:48:59,037 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: processing_image
\n2025-08-04 23:48:59,056 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250804_234859_331452c3.png
\n2025-08-04 23:48:59,057 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: finalizing
\n2025-08-04 23:48:59,057 - INFO - Hybrid mood board data structure for 331452c3-db1e-4500-856f-5582228d3f62:
\n2025-08-04 23:48:59,058 - INFO -   - mood_board_id: 331452c3-db1e-4500-856f-5582228d3f62
\n2025-08-04 23:48:59,058 - INFO -   - created_at: 2025-08-04T23:48:59.057915
\n2025-08-04 23:48:59,058 - INFO -   - image_data.created_at: 2025-08-04T23:48:59.057915
\n2025-08-04 23:48:59,059 - INFO -   - generation_metadata.generated_at: 2025-08-04T23:48:59.057915
\n2025-08-04 23:48:59,059 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250804_234859_331452c3.png
\n2025-08-04 23:48:59,792 - INFO - Mood board progress updated for 27c4c7b3-d0e6-4f38-95ca-8b79ebf21159: completed
\n2025-08-04 23:48:59,792 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: c5239e46-0f99-408e-948f-2b8c45dfe9dc (type: <class 'str'>)
\n2025-08-04 23:48:59,793 - INFO - Creating MoodBoard with:
\n2025-08-04 23:48:59,793 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-04 23:48:59,793 - INFO -   design_id: c5239e46-0f99-408e-948f-2b8c45dfe9dc (type: <class 'str'>)
\n2025-08-04 23:48:59,794 - INFO -   mood_board_id: 331452c3-db1e-4500-856f-5582228d3f62 (type: <class 'str'>)
\n2025-08-04 23:48:59,794 - INFO -   image_file_path: data\mood_boards\room_visual_20250804_234859_331452c3.png... (type: <class 'str'>)
\n2025-08-04 23:48:59,794 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home çocuk in modern style.

IM... (type: <class 'str'>)
\n2025-08-04 23:49:00,182 - INFO - Mood board 331452c3-db1e-4500-856f-5582228d3f62 saved to database and linked to design c5239e46-0f99-408e-948f-2b8c45dfe9dc
\n2025-08-04 23:49:00,183 - INFO - Hybrid mood board generated successfully: 331452c3-db1e-4500-856f-5582228d3f62 with 2 real + 4 fake products
\n2025-08-04 23:49:02,747 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:49:02,769 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:49:02,770 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:49:03,277 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:49:03,292 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:49:03,292 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:49:15,021 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:49:15,323 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-04 23:57:27,765 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:57:37,540 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:57:37,638 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:57:37,651 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:57:37,652 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:57:37,996 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:57:58,440 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:58:05,386 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:58:05,452 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:58:05,460 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:58:05,461 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:58:05,774 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:58:20,971 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:58:27,674 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:58:27,748 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:58:27,758 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:58:27,759 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:58:27,996 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:58:47,621 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:58:54,933 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:58:54,997 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:58:55,004 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:58:55,004 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:58:55,251 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:59:08,135 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:59:15,234 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:59:15,306 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:59:15,314 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:59:15,315 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:59:15,551 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:59:22,602 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:59:29,393 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:59:29,456 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:59:29,462 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:59:29,463 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:59:29,685 - INFO - Starting Deko Assistant AI API...
\n2025-08-04 23:59:51,932 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-04 23:59:58,720 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-04 23:59:58,786 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-04 23:59:58,793 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-04 23:59:58,794 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-04 23:59:59,049 - INFO - Starting Deko Assistant AI API...
