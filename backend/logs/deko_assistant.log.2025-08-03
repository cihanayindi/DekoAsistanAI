\n2025-08-03 00:04:13,590 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-03 00:04:13,738 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-03 00:04:13,738 - INFO - HYBRID design request from a@gmail.com: salon - minimal
\n2025-08-03 00:04:13,738 - INFO - Generating HYBRID design suggestion: salon - minimal
\n2025-08-03 00:04:13,738 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 00:04:13,739 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 00:04:32,413 - WARNING - Unknown function call: 
\n2025-08-03 00:04:32,413 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 00:04:32,415 - INFO - Searching products: category=koltuk, style=minimal, color=gri
\n2025-08-03 00:04:33,878 - INFO - Product Ã„PPLARYD 2'li kanepe, Lejde gri/siyah: original_path=/data/products/koltuk/applaryd-lejde-gri-siyah.jpg -> relative_path=koltuk/applaryd-lejde-gri-siyah.jpg -> image_url=http://localhost:8000/static/products/koltuk/applaryd-lejde-gri-siyah.jpg
\n2025-08-03 00:04:33,878 - INFO - Found 1 products for category=koltuk
\n2025-08-03 00:04:33,878 - INFO - Enhanced product with real data: Ã„PPLARYD 2'li kanepe, Lejde gri/siyah
\n2025-08-03 00:04:33,879 - INFO - Searching products: category=sehpa, style=minimal, color=doÄŸal
\n2025-08-03 00:04:33,948 - INFO - Found 0 products for category=sehpa
\n2025-08-03 00:04:33,949 - INFO - Product marked as fake: AhÅŸap Sehpa
\n2025-08-03 00:04:33,949 - INFO - Searching products: category=kitaplik, style=minimal, color=beyaz
\n2025-08-03 00:04:34,019 - INFO - Product BILLY beyaz 160x30x202 cm cam kapaklÄ± kitaplÄ±k: original_path=/data/products/kitaplik/billy-beyaz-cam-kapakli.jpg -> relative_path=kitaplik/billy-beyaz-cam-kapakli.jpg -> image_url=http://localhost:8000/static/products/kitaplik/billy-beyaz-cam-kapakli.jpg
\n2025-08-03 00:04:34,020 - INFO - Found 1 products for category=kitaplik
\n2025-08-03 00:04:34,020 - INFO - Enhanced product with real data: BILLY beyaz 160x30x202 cm cam kapaklÄ± kitaplÄ±k
\n2025-08-03 00:04:34,020 - INFO - Searching products: category=aydinlatma, style=minimal, color=siyah
\n2025-08-03 00:04:34,090 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 00:04:34,091 - INFO - Product marked as fake: AyaklÄ± Lambader
\n2025-08-03 00:04:34,091 - INFO - Searching products: category=halÄ±, style=minimal, color=bej
\n2025-08-03 00:04:34,160 - INFO - Found 0 products for category=halÄ±
\n2025-08-03 00:04:34,161 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 00:04:34,161 - INFO - Searching products: category=perde, style=minimal, color=beyaz
\n2025-08-03 00:04:34,231 - INFO - Found 0 products for category=perde
\n2025-08-03 00:04:34,231 - INFO - Product marked as fake: TÃ¼l Perde
\n2025-08-03 00:04:34,232 - INFO - Searching products: category=dekoratif yastÄ±k, style=minimal, color=gri/bej
\n2025-08-03 00:04:34,302 - INFO - Found 0 products for category=dekoratif yastÄ±k
\n2025-08-03 00:04:34,303 - INFO - Product marked as fake: Dekoratif YastÄ±k Seti
\n2025-08-03 00:04:34,303 - INFO - Searching products: category=tv Ã¼nitesi, style=minimal, color=beyaz
\n2025-08-03 00:04:34,375 - INFO - Found 0 products for category=tv Ã¼nitesi
\n2025-08-03 00:04:34,376 - INFO - Product marked as fake: Minimal TV Ãœnitesi
\n2025-08-03 00:04:34,376 - INFO - Product enhancement complete: 2 real, 6 fake products
\n2025-08-03 00:04:34,377 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 00:04:34,377 - INFO - HYBRID design suggestion created successfully for a@gmail.com: Minimal Salon TasarÄ±mÄ±: Huzurlu ve AydÄ±nlÄ±k YaÅŸam AlanÄ±
\n2025-08-03 00:04:34,378 - INFO - Product mix: 2 real + 6 fake = 8 total (25% real)
\n2025-08-03 00:04:34,378 - INFO - Starting HYBRID background room visualization generation for connection: c56faf61-87e1-46ba-87f1-1cf3cf5bedb1
\n2025-08-03 00:04:34,379 - INFO - Mood board will use 2 real product images for visual reference
\n2025-08-03 00:04:35,619 - INFO - Design saved to database for a@gmail.com with ID: 5a60251b-b59c-4ed5-8c85-0394ec1a02a0
\n2025-08-03 00:04:35,833 - INFO - Saved 11 hashtags for design 5a60251b-b59c-4ed5-8c85-0394ec1a02a0
\n2025-08-03 00:04:35,833 - INFO - Hashtags saved for design 5a60251b-b59c-4ed5-8c85-0394ec1a02a0
\n2025-08-03 00:04:35,834 - INFO - Hashtags saved for design 5a60251b-b59c-4ed5-8c85-0394ec1a02a0: EN=['#home_interior', '#living_room', '#minimalist_design', '#neutral_colors', '#family_friendly', '#natural_materials', '#functional_furniture', '#airy_space', '#clean_lines', '#cozy_atmosphere'] TR=['#home_interior', '#oturma_odasi', '#minimalist_design', '#neutral_colors', '#family_friendly', '#natural_materials', '#functional_furniture', '#airy_space', '#clean_lines', '#cozy_atmosphere']
\n2025-08-03 00:04:35,835 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-03 00:04:35,835 - INFO - Hybrid mood board generation - Design ID: 5a60251b-b59c-4ed5-8c85-0394ec1a02a0 (type: <class 'str'>)
\n2025-08-03 00:04:35,835 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: preparing_prompt
\n2025-08-03 00:04:35,836 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: preparing_prompt
\n2025-08-03 00:04:35,836 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: optimizing_prompt
\n2025-08-03 00:04:35,836 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:35,851 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 00:04:35,852 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:35,852 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:47,468 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:47,469 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:48,980 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:50,482 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:51,994 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:53,499 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:55,004 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:04:55,342 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 00:04:55,345 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 00:04:56,506 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:05:27,965 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:05:27,966 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: generating_image
\n2025-08-03 00:05:28,265 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 00:05:28,266 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: processing_image
\n2025-08-03 00:05:28,266 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: processing_image
\n2025-08-03 00:05:28,278 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_000528_5ca825b3.png
\n2025-08-03 00:05:28,279 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: finalizing
\n2025-08-03 00:05:28,279 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_000528_5ca825b3.png
\n2025-08-03 00:05:28,279 - INFO - Mood board progress updated for c56faf61-87e1-46ba-87f1-1cf3cf5bedb1: completed
\n2025-08-03 00:05:28,279 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 5a60251b-b59c-4ed5-8c85-0394ec1a02a0 (type: <class 'str'>)
\n2025-08-03 00:05:28,280 - INFO - Creating MoodBoard with:
\n2025-08-03 00:05:28,280 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-03 00:05:28,280 - INFO -   design_id: 5a60251b-b59c-4ed5-8c85-0394ec1a02a0 (type: <class 'str'>)
\n2025-08-03 00:05:28,280 - INFO -   mood_board_id: 5ca825b3-179b-46be-b639-b3e8687aa1d1 (type: <class 'str'>)
\n2025-08-03 00:05:28,280 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_000528_5ca825b3.png... (type: <class 'str'>)
\n2025-08-03 00:05:28,280 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in minimal sty... (type: <class 'str'>)
\n2025-08-03 00:05:29,156 - INFO - Mood board 5ca825b3-179b-46be-b639-b3e8687aa1d1 saved to database and linked to design 5a60251b-b59c-4ed5-8c85-0394ec1a02a0
\n2025-08-03 00:05:29,156 - INFO - Hybrid mood board generated successfully: 5ca825b3-179b-46be-b639-b3e8687aa1d1 with 2 real + 6 fake products
\n2025-08-03 00:06:09,224 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-03 00:06:09,368 - INFO - User ID: 3 (type: <class 'int'>)
\n2025-08-03 00:06:09,368 - INFO - HYBRID design request from a@gmail.com: yatak - modern
\n2025-08-03 00:06:09,369 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-03 00:06:09,369 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 00:06:09,370 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 00:06:17,169 - WARNING - Unknown function call: 
\n2025-08-03 00:06:17,170 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 00:06:17,171 - INFO - Searching products: category=yatak, style=modern, color=doÄŸal
\n2025-08-03 00:06:17,388 - INFO - Product SLATTUM/VISSLE koyu gri 160x200 cm Ã§ift kiÅŸilik karyola: original_path=/data/products/yatak/slattum-vissle-koyu-gri.jpg -> relative_path=yatak/slattum-vissle-koyu-gri.jpg -> image_url=http://localhost:8000/static/products/yatak/slattum-vissle-koyu-gri.jpg
\n2025-08-03 00:06:17,388 - INFO - Found 1 products for category=yatak
\n2025-08-03 00:06:17,389 - INFO - Enhanced product with real data: SLATTUM/VISSLE koyu gri 160x200 cm Ã§ift kiÅŸilik karyola
\n2025-08-03 00:06:17,389 - INFO - Searching products: category=komodin, style=modern, color=beyaz
\n2025-08-03 00:06:17,461 - INFO - Product RÃ…DMANSÃ– komodin, kahverengi ceviz gÃ¶rÃ¼nÃ¼mlÃ¼, 54x38x58 cm: original_path=/data/products/komodin/radmanso-kahverengi-ceviz.jpg -> relative_path=komodin/radmanso-kahverengi-ceviz.jpg -> image_url=http://localhost:8000/static/products/komodin/radmanso-kahverengi-ceviz.jpg
\n2025-08-03 00:06:17,461 - INFO - Found 1 products for category=komodin
\n2025-08-03 00:06:17,461 - INFO - Enhanced product with real data: RÃ…DMANSÃ– komodin, kahverengi ceviz gÃ¶rÃ¼nÃ¼mlÃ¼, 54x38x58 cm
\n2025-08-03 00:06:17,461 - INFO - Searching products: category=aydinlatma, style=modern, color=gri
\n2025-08-03 00:06:17,531 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 00:06:17,531 - INFO - Product marked as fake: Abajur
\n2025-08-03 00:06:17,532 - INFO - Searching products: category=kitaplik, style=modern, color=doÄŸal
\n2025-08-03 00:06:17,601 - INFO - Product LOMMARP aÃ§Ä±k bej 65x199 cm kitaplÄ±k: original_path=/data/products/kitaplik/lommarp-acik-bej.jpg -> relative_path=kitaplik/lommarp-acik-bej.jpg -> image_url=http://localhost:8000/static/products/kitaplik/lommarp-acik-bej.jpg
\n2025-08-03 00:06:17,601 - INFO - Found 1 products for category=kitaplik
\n2025-08-03 00:06:17,601 - INFO - Enhanced product with real data: LOMMARP aÃ§Ä±k bej 65x199 cm kitaplÄ±k
\n2025-08-03 00:06:17,601 - INFO - Searching products: category=sehpa, style=modern, color=siyah
\n2025-08-03 00:06:17,673 - INFO - Found 0 products for category=sehpa
\n2025-08-03 00:06:17,674 - INFO - Product marked as fake: Yuvarlak Sehpa
\n2025-08-03 00:06:17,674 - INFO - Searching products: category=dekorasyon, style=modern, color=bej
\n2025-08-03 00:06:17,745 - INFO - Found 0 products for category=dekorasyon
\n2025-08-03 00:06:17,745 - INFO - Product marked as fake: Kanvas Tablo
\n2025-08-03 00:06:17,745 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-03 00:06:17,816 - INFO - Found 0 products for category=perde
\n2025-08-03 00:06:17,816 - INFO - Product marked as fake: TÃ¼l Perde
\n2025-08-03 00:06:17,816 - INFO - Product enhancement complete: 3 real, 4 fake products
\n2025-08-03 00:06:17,816 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 00:06:17,816 - INFO - HYBRID design suggestion created successfully for a@gmail.com: Minimalist Modern Yatak OdasÄ± TasarÄ±mÄ±
\n2025-08-03 00:06:17,817 - INFO - Product mix: 3 real + 4 fake = 7 total (43% real)
\n2025-08-03 00:06:17,817 - INFO - Starting HYBRID background room visualization generation for connection: a19ebd0f-267c-4a4a-b212-637bd1290c90
\n2025-08-03 00:06:17,817 - INFO - Mood board will use 3 real product images for visual reference
\n2025-08-03 00:06:19,319 - INFO - Design saved to database for a@gmail.com with ID: 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19
\n2025-08-03 00:06:19,529 - INFO - Saved 10 hashtags for design 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19
\n2025-08-03 00:06:19,529 - INFO - Hashtags saved for design 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19
\n2025-08-03 00:06:19,529 - INFO - Hashtags saved for design 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19: EN=['#home_interior', '#bedroom_design', '#modern_bedroom', '#neutral_colors', '#minimalist_decor', '#wooden_furniture', '#calm_atmosphere', '#functional_design', '#storage_solutions', '#natural_materials'] TR=['#home_interior', '#bedroom_design', '#modern_bedroom', '#neutral_colors', '#minimalist_decor', '#wooden_furniture', '#calm_atmosphere', '#functional_design', '#storage_solutions', '#natural_materials']
\n2025-08-03 00:06:19,530 - INFO - Hybrid mood board generation - User ID: 3 (type: <class 'int'>)
\n2025-08-03 00:06:19,530 - INFO - Hybrid mood board generation - Design ID: 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19 (type: <class 'str'>)
\n2025-08-03 00:06:19,531 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: preparing_prompt
\n2025-08-03 00:06:19,531 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: preparing_prompt
\n2025-08-03 00:06:19,531 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: optimizing_prompt
\n2025-08-03 00:06:19,532 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:19,532 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 00:06:19,532 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:19,532 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:20,650 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:20,650 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:22,160 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:23,673 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:25,178 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:26,680 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:28,182 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:29,544 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:06:29,549 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:06:29,550 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:06:29,685 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:32,575 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:32,575 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: generating_image
\n2025-08-03 00:06:32,825 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 00:06:32,827 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: processing_image
\n2025-08-03 00:06:32,828 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: processing_image
\n2025-08-03 00:06:32,845 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_000632_b0ff5184.png
\n2025-08-03 00:06:32,846 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: finalizing
\n2025-08-03 00:06:32,847 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_000632_b0ff5184.png
\n2025-08-03 00:06:33,335 - INFO - Mood board progress updated for a19ebd0f-267c-4a4a-b212-637bd1290c90: completed
\n2025-08-03 00:06:33,335 - INFO - Saving mood board to database - user_id: 3 (type: <class 'int'>), design_id: 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19 (type: <class 'str'>)
\n2025-08-03 00:06:33,335 - INFO - Creating MoodBoard with:
\n2025-08-03 00:06:33,335 - INFO -   user_id: 3 (type: <class 'int'>)
\n2025-08-03 00:06:33,336 - INFO -   design_id: 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19 (type: <class 'str'>)
\n2025-08-03 00:06:33,336 - INFO -   mood_board_id: b0ff5184-9614-46a9-bb4e-300a424b9de1 (type: <class 'str'>)
\n2025-08-03 00:06:33,336 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_000632_b0ff5184.png... (type: <class 'str'>)
\n2025-08-03 00:06:33,336 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-03 00:06:33,910 - INFO - Mood board b0ff5184-9614-46a9-bb4e-300a424b9de1 saved to database and linked to design 5a2e9ca6-35fb-489c-bb4b-2aa9ec56dc19
\n2025-08-03 00:06:33,911 - INFO - Hybrid mood board generated successfully: b0ff5184-9614-46a9-bb4e-300a424b9de1 with 3 real + 4 fake products
\n2025-08-03 00:06:50,192 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:06:50,198 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:06:50,198 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:07:06,043 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:07:06,047 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:07:06,048 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:07:09,679 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:07:09,683 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:07:09,683 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:07:22,279 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:07:22,284 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:07:22,284 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:07:28,464 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:07:28,468 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:07:28,468 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:07:30,243 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:07:30,248 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:07:30,248 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:07:32,629 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 00:07:32,633 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 00:07:32,633 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 00:10:56,667 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 00:13:40,309 - WARNING - HTTP Exception: 400 - Design is already published to blog
\n2025-08-03 01:24:35,076 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 01:24:35,080 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 01:28:33,084 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:32:27,683 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:36:00,408 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:36:00,410 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:36:33,795 - WARNING - HTTP Exception: 500 - Internal server error
\n2025-08-03 01:38:46,318 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:38:46,319 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:38:46,368 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:38:46,565 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:38:46,928 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:38:47,215 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:38:49,005 - WARNING - HTTP Exception: 500 - Internal server error
\n2025-08-03 01:38:50,794 - WARNING - HTTP Exception: 500 - Internal server error
\n2025-08-03 01:39:39,848 - WARNING - HTTP Exception: 500 - Internal server error
\n2025-08-03 01:40:00,657 - WARNING - HTTP Exception: 500 - Internal server error
\n2025-08-03 01:40:21,189 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:40:21,836 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:29,380 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:33,911 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:33,941 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:34,600 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:37,724 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:43,711 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:46,068 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:50,565 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:47:59,729 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:48:04,624 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:48:05,209 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:48:12,257 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:49:56,202 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 01:49:57,241 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:12:08,421 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:12:08,820 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:12:15,442 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:12:15,844 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:12:30,817 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:12:31,234 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:13:04,068 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:13:04,069 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:13:04,316 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:13:04,586 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:16:12,597 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:16:12,598 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:16:12,844 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:16:13,132 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:16:13,390 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:16:13,692 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:17:58,455 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:17:58,456 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:17:58,733 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:17:59,033 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:17:59,589 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:17:59,590 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:19:57,199 - WARNING - Unknown function call: 
\n2025-08-03 19:20:52,515 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:20:52,912 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:25:05,154 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:25:05,698 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:26:38,238 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:26:39,853 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:27:02,945 - WARNING - Unknown function call: 
\n2025-08-03 19:27:19,566 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:27:19,817 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:27:20,170 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:27:20,471 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:27:30,268 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:27:30,671 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:29:11,311 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:29:11,724 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:29:15,420 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:29:15,829 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:30:20,588 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:30:20,875 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:32:20,291 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:33:43,697 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:33:44,784 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 19:37:00,179 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 19:37:00,326 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:37:00,331 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:37:00,331 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:37:04,169 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 19:37:04,210 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:37:04,216 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:37:04,216 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:37:04,624 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 19:37:13,021 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-03 19:37:13,028 - INFO - Auth middleware - user_id from token: 3 (type: <class 'int'>)
\n2025-08-03 19:37:16,599 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:37:16,610 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:37:16,610 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:37:16,658 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:37:16,662 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:37:16,663 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:37:17,673 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:37:17,679 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:37:17,679 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:37:17,960 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:37:17,967 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:37:17,968 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:42:45,721 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 19:42:45,763 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:42:45,769 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:42:45,770 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:42:49,636 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 19:42:49,681 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:42:49,686 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:42:49,686 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:42:49,852 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 19:43:17,982 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 19:43:17,986 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 19:43:24,641 - WARNING - HTTP Exception: 401 - Incorrect email or password
\n2025-08-03 19:44:10,616 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:44:10,623 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:44:10,623 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:44:10,998 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:44:11,003 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:44:11,004 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:44:11,800 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:44:12,223 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:44:14,010 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:44:14,014 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:44:14,015 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:44:14,357 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:44:14,362 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:44:14,363 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:52:26,023 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:52:26,030 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:52:26,030 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:52:26,562 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:52:26,567 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:52:26,568 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:53:20,478 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 19:53:20,606 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 19:53:20,606 - INFO - HYBRID design request from suakbenli@gmail.com: yatak - modern
\n2025-08-03 19:53:20,607 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-03 19:53:20,607 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 19:53:20,607 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 19:53:28,362 - WARNING - Unknown function call: 
\n2025-08-03 19:53:28,363 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 19:53:28,363 - INFO - Searching products: category=yatak, style=modern, color=gri
\n2025-08-03 19:53:28,557 - INFO - Found 0 products for category=yatak
\n2025-08-03 19:53:28,558 - INFO - Product marked as fake: Modern Platform Yatak
\n2025-08-03 19:53:28,558 - INFO - Searching products: category=komodin, style=modern, color=doÄŸal
\n2025-08-03 19:53:28,666 - INFO - Found 0 products for category=komodin
\n2025-08-03 19:53:28,666 - INFO - Product marked as fake: AhÅŸap Komodin
\n2025-08-03 19:53:28,666 - INFO - Searching products: category=aydinlatma, style=modern, color=beyaz
\n2025-08-03 19:53:28,730 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 19:53:28,730 - INFO - Product marked as fake: Abajur
\n2025-08-03 19:53:28,730 - INFO - Searching products: category=kitaplik, style=modern, color=beyaz
\n2025-08-03 19:53:28,796 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 19:53:28,796 - INFO - Product marked as fake: Duvara Monte KitaplÄ±k
\n2025-08-03 19:53:28,796 - INFO - Searching products: category=sehpa, style=modern, color=gri
\n2025-08-03 19:53:28,861 - INFO - Found 0 products for category=sehpa
\n2025-08-03 19:53:28,862 - INFO - Product marked as fake: Yuvarlak Sehpa
\n2025-08-03 19:53:28,862 - INFO - Searching products: category=perde, style=modern, color=bej
\n2025-08-03 19:53:28,926 - INFO - Found 0 products for category=perde
\n2025-08-03 19:53:28,926 - INFO - Product marked as fake: Stor Perde
\n2025-08-03 19:53:28,926 - INFO - Searching products: category=dekoratif_yastik, style=modern, color=Ã§eÅŸitli
\n2025-08-03 19:53:28,992 - INFO - Found 0 products for category=dekoratif_yastik
\n2025-08-03 19:53:28,992 - INFO - Product marked as fake: Dekoratif YastÄ±klar
\n2025-08-03 19:53:28,993 - INFO - Searching products: category=hali, style=modern, color=bej
\n2025-08-03 19:53:29,056 - INFO - Found 0 products for category=hali
\n2025-08-03 19:53:29,056 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 19:53:29,057 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 19:53:29,057 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 19:53:29,057 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Yatak OdasÄ± TasarÄ±mÄ±
\n2025-08-03 19:53:29,057 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 19:53:29,057 - INFO - Starting HYBRID background room visualization generation for connection: dc26f715-2b49-4d6e-a187-e570cbaee79a
\n2025-08-03 19:53:29,057 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 19:53:29,530 - INFO - Design saved to database for suakbenli@gmail.com with ID: ebf0cdc0-c2d5-4187-a4aa-7aa671285384
\n2025-08-03 19:53:29,602 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 19:53:29,602 - INFO - Hybrid mood board generation - Design ID: ebf0cdc0-c2d5-4187-a4aa-7aa671285384 (type: <class 'str'>)
\n2025-08-03 19:53:29,603 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: preparing_prompt
\n2025-08-03 19:53:29,603 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: preparing_prompt
\n2025-08-03 19:53:29,603 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: optimizing_prompt
\n2025-08-03 19:53:29,604 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:29,620 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 19:53:29,621 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:29,621 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:30,799 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:30,801 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:31,110 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:53:31,122 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:53:31,122 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:53:31,493 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:53:31,503 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:53:31,505 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:53:32,309 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:33,810 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:35,311 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:36,812 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:38,315 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:39,817 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:39,983 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:39,984 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: generating_image
\n2025-08-03 19:53:40,382 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 19:53:40,385 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: processing_image
\n2025-08-03 19:53:40,386 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: processing_image
\n2025-08-03 19:53:40,404 - ERROR - Error saving room visualization image: [Errno 2] No such file or directory: 'data\\mood_boards\\room_visual_20250803_195340_1892bb6d.png'
\n2025-08-03 19:53:40,406 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: finalizing
\n2025-08-03 19:53:40,407 - INFO - Sending completed message - status: success, has_base64: True, file_path: None
\n2025-08-03 19:53:40,930 - INFO - Mood board progress updated for dc26f715-2b49-4d6e-a187-e570cbaee79a: completed
\n2025-08-03 19:53:40,931 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: ebf0cdc0-c2d5-4187-a4aa-7aa671285384 (type: <class 'str'>)
\n2025-08-03 19:53:40,932 - INFO - Creating MoodBoard with:
\n2025-08-03 19:53:40,933 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 19:53:40,933 - INFO -   design_id: ebf0cdc0-c2d5-4187-a4aa-7aa671285384 (type: <class 'str'>)
\n2025-08-03 19:53:40,933 - INFO -   mood_board_id: 1892bb6d-8778-41fc-95bc-c528ba1716ce (type: <class 'str'>)
\n2025-08-03 19:53:40,934 - INFO -   image_file_path: None... (type: <class 'NoneType'>)
\n2025-08-03 19:53:40,934 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-03 19:53:41,472 - INFO - Mood board 1892bb6d-8778-41fc-95bc-c528ba1716ce saved to database and linked to design ebf0cdc0-c2d5-4187-a4aa-7aa671285384
\n2025-08-03 19:53:41,472 - INFO - Hybrid mood board generated successfully: 1892bb6d-8778-41fc-95bc-c528ba1716ce with 0 real + 8 fake products
\n2025-08-03 19:54:00,692 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:00,702 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:00,702 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:01,060 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:01,067 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:01,067 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:18,273 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:18,282 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:18,283 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:18,628 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:18,632 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:18,633 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:20,139 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:20,147 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:20,148 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:38,666 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:38,672 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:38,672 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:38,883 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:54:39,076 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:39,080 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:39,081 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:39,239 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:54:44,299 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:54:44,637 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:54:46,001 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:46,006 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:46,007 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:46,469 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:46,473 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:46,474 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:48,538 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:48,544 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:48,544 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:49,093 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:49,098 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:49,098 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:55,454 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:54:55,562 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:55,569 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:55,570 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:54:55,789 - ERROR - General Error: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, self._invalidate_schema_cache_asof
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        operation, name=self._prepared_statement_name_func()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\asyncpg\connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
    )
    ^
  File "asyncpg\\protocol\\protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\starlette\routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\fastapi\routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\routers\blog_router.py", line 271, in get_blog_stats
    total_likes_result = await db.execute(total_likes_query)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1415, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self._prepare_and_execute(operation, parameters)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\suakb\supi\DekoAsistanAI\backend\venv\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "blog_post_likes" does not exist
[SQL: SELECT count(blog_post_likes.id) AS count_1 
FROM blog_post_likes JOIN blog_posts ON blog_post_likes.blog_post_id = blog_posts.id 
WHERE blog_posts.is_published = true]
(Background on this error at: https://sqlalche.me/e/20/f405)
\n2025-08-03 19:54:56,102 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 19:54:56,107 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 19:54:56,107 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 19:55:51,895 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:00:28,748 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:00:28,810 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:00:28,816 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:00:28,816 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:00:33,323 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:00:33,363 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:00:33,368 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:00:33,369 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:00:33,562 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:02:03,016 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:02:03,070 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:03,075 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:03,076 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:07,051 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:02:07,099 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:07,104 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:07,104 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:07,287 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:02:12,197 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:12,202 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:12,203 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:12,867 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:12,872 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:12,872 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:24,255 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:24,260 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:24,260 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:24,936 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:24,941 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:24,941 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:26,882 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:02:27,406 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:02:28,027 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 20:02:28,137 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:28,148 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:28,149 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:28,630 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:28,638 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:28,639 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:29,108 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:29,113 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:29,113 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:02:29,604 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:02:29,611 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:02:29,612 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:05:19,706 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 20:05:20,117 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:05:20,123 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:05:20,123 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:05:20,607 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:05:20,613 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:05:20,613 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:05:22,149 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 20:05:54,444 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:06:00,305 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:06:00,363 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:06:00,368 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:06:00,368 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:06:00,522 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:06:12,505 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:06:17,286 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:06:17,360 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:06:17,370 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:06:17,371 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:06:17,558 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:07:27,740 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:07:27,834 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:07:27,839 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:07:27,839 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:07:59,820 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:07:59,882 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:07:59,887 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:07:59,887 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:08:00,057 - WARNING - Validation Error: [{'type': 'missing', 'loc': ('body', 'room_type'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('body', 'design_style'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('body', 'notes'), 'msg': 'Field required', 'input': None}]
\n2025-08-03 20:08:00,060 - INFO - HTTP Request: POST http://testserver/api/design/test "HTTP/1.1 422 Unprocessable Entity"
\n2025-08-03 20:08:00,489 - WARNING - Validation Error: [{'type': 'missing', 'loc': ('body', 'room_type'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('body', 'design_style'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('body', 'notes'), 'msg': 'Field required', 'input': None}]
\n2025-08-03 20:08:00,490 - INFO - HTTP Request: POST http://testserver/api/design/test "HTTP/1.1 422 Unprocessable Entity"
\n2025-08-03 20:08:00,581 - WARNING - Validation Error: [{'type': 'missing', 'loc': ('query', 'args'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('query', 'kwargs'), 'msg': 'Field required', 'input': None}]
\n2025-08-03 20:08:00,582 - INFO - HTTP Request: GET http://testserver/api/design/123 "HTTP/1.1 422 Unprocessable Entity"
\n2025-08-03 20:08:00,590 - WARNING - Validation Error: [{'type': 'missing', 'loc': ('query', 'args'), 'msg': 'Field required', 'input': None}, {'type': 'missing', 'loc': ('query', 'kwargs'), 'msg': 'Field required', 'input': None}]
\n2025-08-03 20:08:00,591 - INFO - HTTP Request: GET http://testserver/api/design/nonexistent "HTTP/1.1 422 Unprocessable Entity"
\n2025-08-03 20:08:37,301 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:08:37,345 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:08:37,350 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:08:37,350 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:08:42,248 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:08:42,292 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:08:42,297 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:08:42,297 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:08:42,501 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:09:39,056 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:09:44,384 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:09:44,433 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:09:44,437 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:09:44,438 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:09:44,623 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:09:44,645 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:09:44,651 - ERROR - Error sending message to c18f5b96-6a54-4274-ba8b-5677f11057a8: 
\n2025-08-03 20:09:44,651 - ERROR - WebSocket error for c18f5b96-6a54-4274-ba8b-5677f11057a8: WebSocket is not connected. Need to call "accept" first.
\n2025-08-03 20:09:47,657 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:09:48,272 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 20:09:48,617 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:09:48,622 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:09:48,622 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:09:49,281 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:09:49,285 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:09:49,285 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:09:49,936 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:09:49,943 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:09:49,943 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:09:50,508 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:09:50,514 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:09:50,515 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:10:18,977 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:10:19,502 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:10:20,021 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 20:10:20,143 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:10:20,161 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:10:20,161 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:10:20,648 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:10:20,656 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:10:20,659 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:10:21,128 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:10:21,134 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:10:21,134 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:10:21,627 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:10:21,633 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:10:21,633 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:10:53,988 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:10:54,118 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 20:10:54,119 - INFO - HYBRID design request from suakbenli@gmail.com: banyo - minimal
\n2025-08-03 20:10:54,119 - INFO - Generating HYBRID design suggestion: banyo - minimal
\n2025-08-03 20:10:54,119 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 20:10:54,119 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 20:11:00,231 - WARNING - Unknown function call: 
\n2025-08-03 20:11:00,231 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 20:11:00,232 - INFO - Searching products: category=aydinlatma, style=minimal, color=beyaz
\n2025-08-03 20:11:00,426 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 20:11:00,426 - INFO - Product marked as fake: Minimalist Tavan ArmatÃ¼rÃ¼
\n2025-08-03 20:11:00,427 - INFO - Searching products: category=banyo dolabi, style=minimal, color=beyaz
\n2025-08-03 20:11:00,491 - INFO - Found 0 products for category=banyo dolabi
\n2025-08-03 20:11:00,491 - INFO - Product marked as fake: Duvara Monte Banyo DolabÄ±
\n2025-08-03 20:11:00,491 - INFO - Searching products: category=dusakabin, style=minimal, color=seffaf
\n2025-08-03 20:11:00,555 - INFO - Found 0 products for category=dusakabin
\n2025-08-03 20:11:00,555 - INFO - Product marked as fake: Åžeffaf Cam DuÅŸakabin
\n2025-08-03 20:11:00,555 - INFO - Searching products: category=lavabo, style=minimal, color=beyaz
\n2025-08-03 20:11:00,620 - INFO - Found 0 products for category=lavabo
\n2025-08-03 20:11:00,621 - INFO - Product marked as fake: Tezgah ÃœstÃ¼ Seramik Lavabo
\n2025-08-03 20:11:00,621 - INFO - Searching products: category=ayna, style=minimal, color=gÃ¼mÃ¼ÅŸ
\n2025-08-03 20:11:00,684 - INFO - Found 0 products for category=ayna
\n2025-08-03 20:11:00,684 - INFO - Product marked as fake: Yuvarlak Led'li Banyo AynasÄ±
\n2025-08-03 20:11:00,685 - INFO - Searching products: category=aksesuar, style=minimal, color=gri
\n2025-08-03 20:11:00,749 - INFO - Found 0 products for category=aksesuar
\n2025-08-03 20:11:00,749 - INFO - Product marked as fake: Minimalist Sabunluk ve DiÅŸ FÄ±rÃ§alÄ±k Seti
\n2025-08-03 20:11:00,749 - INFO - Product enhancement complete: 0 real, 6 fake products
\n2025-08-03 20:11:00,749 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 20:11:00,749 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Minimal Banyo TasarÄ±mÄ±
\n2025-08-03 20:11:00,750 - INFO - Product mix: 0 real + 6 fake = 6 total (0% real)
\n2025-08-03 20:11:00,750 - INFO - Starting HYBRID background room visualization generation for connection: 058cace8-52c7-429a-a3c2-f72b98eb4583
\n2025-08-03 20:11:00,750 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 20:11:01,152 - INFO - Design saved to database for suakbenli@gmail.com with ID: 370410bc-0527-4879-acbb-bd43732322b0
\n2025-08-03 20:11:01,224 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 20:11:01,225 - INFO - Hybrid mood board generation - Design ID: 370410bc-0527-4879-acbb-bd43732322b0 (type: <class 'str'>)
\n2025-08-03 20:11:01,225 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: preparing_prompt
\n2025-08-03 20:11:01,226 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: preparing_prompt
\n2025-08-03 20:11:01,226 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: optimizing_prompt
\n2025-08-03 20:11:01,226 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:01,255 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 20:11:01,256 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:01,259 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:02,436 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:02,437 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:02,851 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:02,857 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:02,857 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:03,364 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:03,370 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:03,371 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:03,940 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:05,441 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:06,944 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:08,446 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:09,949 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:11,300 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:11,301 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: generating_image
\n2025-08-03 20:11:12,409 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 20:11:12,409 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: processing_image
\n2025-08-03 20:11:12,410 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: processing_image
\n2025-08-03 20:11:12,432 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_201112_10e374ad.png
\n2025-08-03 20:11:12,436 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: finalizing
\n2025-08-03 20:11:12,436 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_201112_10e374ad.png
\n2025-08-03 20:11:12,914 - INFO - Mood board progress updated for 058cace8-52c7-429a-a3c2-f72b98eb4583: completed
\n2025-08-03 20:11:12,915 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 370410bc-0527-4879-acbb-bd43732322b0 (type: <class 'str'>)
\n2025-08-03 20:11:12,915 - INFO - Creating MoodBoard with:
\n2025-08-03 20:11:12,916 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 20:11:12,916 - INFO -   design_id: 370410bc-0527-4879-acbb-bd43732322b0 (type: <class 'str'>)
\n2025-08-03 20:11:12,916 - INFO -   mood_board_id: 10e374ad-e27b-47f0-9d92-4774897cee87 (type: <class 'str'>)
\n2025-08-03 20:11:12,916 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_201112_10e374ad.png... (type: <class 'str'>)
\n2025-08-03 20:11:12,917 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home bathroom in minimal style.... (type: <class 'str'>)
\n2025-08-03 20:11:13,446 - INFO - Mood board 10e374ad-e27b-47f0-9d92-4774897cee87 saved to database and linked to design 370410bc-0527-4879-acbb-bd43732322b0
\n2025-08-03 20:11:13,451 - INFO - Hybrid mood board generated successfully: 10e374ad-e27b-47f0-9d92-4774897cee87 with 0 real + 6 fake products
\n2025-08-03 20:11:28,600 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:28,605 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:28,605 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:29,067 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:29,071 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:29,071 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:30,549 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:30,555 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:30,555 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:43,085 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:43,090 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:43,090 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:43,507 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:43,511 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:43,512 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:50,564 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:11:51,021 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:11:51,743 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:51,748 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:51,748 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:52,262 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:52,271 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:52,290 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:53,082 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:53,087 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:53,087 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:11:53,607 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:11:53,616 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:11:53,616 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:13:08,586 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:13:14,757 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:13:14,797 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:13:14,802 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:13:14,802 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:13:14,951 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:14:01,948 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:14:06,306 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:14:06,347 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:14:06,352 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:14:06,353 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:14:06,510 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:14:19,790 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 20:15:48,130 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:15:48,169 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:15:48,174 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:15:48,174 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:15:51,647 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:15:51,685 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:15:51,690 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:15:51,690 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:15:51,836 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:16:03,472 - INFO - User ID: None (type: <class 'NoneType'>)
\n2025-08-03 20:16:03,472 - INFO - HYBRID design request from guest: mutfak - modern
\n2025-08-03 20:16:03,472 - INFO - Generating HYBRID design suggestion: mutfak - modern
\n2025-08-03 20:16:03,473 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 20:16:03,473 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 20:16:10,468 - WARNING - Unknown function call: 
\n2025-08-03 20:16:10,469 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 20:16:10,469 - INFO - Searching products: category=mutfak, style=modern, color=beyaz
\n2025-08-03 20:16:12,241 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:16:12,241 - INFO - Product marked as fake: Beyaz Mutfak DolaplarÄ±
\n2025-08-03 20:16:12,241 - INFO - Searching products: category=mutfak, style=modern, color=paslanmaz Ã§elik
\n2025-08-03 20:16:12,304 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:16:12,304 - INFO - Product marked as fake: Paslanmaz Ã‡elik Ankastre FÄ±rÄ±n
\n2025-08-03 20:16:12,305 - INFO - Searching products: category=mutfak, style=modern, color=beyaz
\n2025-08-03 20:16:12,369 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:16:12,369 - INFO - Product marked as fake: Ada TezgahlÄ± Mutfak
\n2025-08-03 20:16:12,369 - INFO - Searching products: category=mutfak, style=modern, color=beyaz
\n2025-08-03 20:16:12,433 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:16:12,433 - INFO - Product marked as fake: LED AydÄ±nlatmalÄ± Mutfak
\n2025-08-03 20:16:12,433 - INFO - Searching products: category=mutfak, style=modern, color=gri
\n2025-08-03 20:16:12,498 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:16:12,498 - INFO - Product marked as fake: Seramik Zemin DÃ¶ÅŸemesi
\n2025-08-03 20:16:12,498 - INFO - Searching products: category=mutfak, style=modern, color=doÄŸal ahÅŸap
\n2025-08-03 20:16:12,562 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:16:12,562 - INFO - Product marked as fake: AÃ§Ä±k Raf Sistemleri
\n2025-08-03 20:16:12,562 - INFO - Product enhancement complete: 0 real, 6 fake products
\n2025-08-03 20:16:12,562 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 20:16:12,562 - INFO - HYBRID design suggestion created successfully for guest: Modern Mutfak: Fonksiyonel ve ÅžÄ±k TasarÄ±m
\n2025-08-03 20:16:12,563 - INFO - Product mix: 0 real + 6 fake = 6 total (0% real)
\n2025-08-03 20:16:12,563 - INFO - Starting HYBRID background room visualization generation for connection: 7d941ce2-333a-4511-acd3-1a00350e3591
\n2025-08-03 20:16:12,563 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 20:16:13,013 - INFO - Design saved to database for guest with ID: 10e1982a-2aac-4cbc-8c79-993e59c23aad
\n2025-08-03 20:16:13,013 - INFO - Hashtags from Gemini for design 10e1982a-2aac-4cbc-8c79-993e59c23aad: {'en': [], 'tr': ['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari'], 'display': ['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari'], 'unknown': []}
\n2025-08-03 20:16:13,013 - INFO - Saving hashtags for design 10e1982a-2aac-4cbc-8c79-993e59c23aad: {'en': [], 'tr': ['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari'], 'display': ['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari'], 'unknown': []}
\n2025-08-03 20:16:13,208 - INFO - Saved 10 hashtags for design 10e1982a-2aac-4cbc-8c79-993e59c23aad
\n2025-08-03 20:16:13,208 - INFO - Hashtags saved for design 10e1982a-2aac-4cbc-8c79-993e59c23aad: EN=[], TR=['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari']
\n2025-08-03 20:16:13,208 - INFO - Hashtags saved for design 10e1982a-2aac-4cbc-8c79-993e59c23aad: EN=[] TR=['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari'] DISPLAY=['#ic_tasarim', '#mutfak_tasarimi', '#modern_mutfak', '#aile_mutfagi', '#fonksiyonel_mutfak', '#beyaz_mutfak', '#dogal_isik', '#mutfak_dekorasyonu', '#ferah_mutfak', '#mutfak_dolaplari']
\n2025-08-03 20:16:13,210 - INFO - Hybrid mood board generation - User ID: None (type: <class 'NoneType'>)
\n2025-08-03 20:16:13,210 - INFO - Hybrid mood board generation - Design ID: 10e1982a-2aac-4cbc-8c79-993e59c23aad (type: <class 'str'>)
\n2025-08-03 20:16:13,211 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: preparing_prompt
\n2025-08-03 20:16:13,211 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: preparing_prompt
\n2025-08-03 20:16:13,211 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: optimizing_prompt
\n2025-08-03 20:16:13,211 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:13,235 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 20:16:13,236 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:13,236 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:14,338 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:14,338 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:14,372 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 20:16:14,377 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 20:16:15,842 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:17,343 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:18,844 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:20,345 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:21,846 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:23,030 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:23,030 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: generating_image
\n2025-08-03 20:16:23,825 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 20:16:23,826 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: processing_image
\n2025-08-03 20:16:23,826 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: processing_image
\n2025-08-03 20:16:23,836 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_201623_1ece8088.png
\n2025-08-03 20:16:23,837 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: finalizing
\n2025-08-03 20:16:23,837 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_201623_1ece8088.png
\n2025-08-03 20:16:23,837 - INFO - Mood board progress updated for 7d941ce2-333a-4511-acd3-1a00350e3591: completed
\n2025-08-03 20:16:23,837 - INFO - Saving mood board to database - user_id: None (type: <class 'NoneType'>), design_id: 10e1982a-2aac-4cbc-8c79-993e59c23aad (type: <class 'str'>)
\n2025-08-03 20:16:23,837 - INFO - Creating MoodBoard with:
\n2025-08-03 20:16:23,838 - INFO -   user_id: None (type: <class 'NoneType'>)
\n2025-08-03 20:16:23,838 - INFO -   design_id: 10e1982a-2aac-4cbc-8c79-993e59c23aad (type: <class 'str'>)
\n2025-08-03 20:16:23,838 - INFO -   mood_board_id: 1ece8088-694f-4bac-93e2-fcd160e45c0b (type: <class 'str'>)
\n2025-08-03 20:16:23,838 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_201623_1ece8088.png... (type: <class 'str'>)
\n2025-08-03 20:16:23,838 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home kitchen in modern style.

... (type: <class 'str'>)
\n2025-08-03 20:16:24,533 - INFO - Mood board 1ece8088-694f-4bac-93e2-fcd160e45c0b saved to database and linked to design 10e1982a-2aac-4cbc-8c79-993e59c23aad
\n2025-08-03 20:16:24,534 - INFO - Hybrid mood board generated successfully: 1ece8088-694f-4bac-93e2-fcd160e45c0b with 0 real + 6 fake products
\n2025-08-03 20:16:58,467 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:16:58,659 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 20:16:58,660 - INFO - HYBRID design request from suakbenli@gmail.com: mutfak - klasik
\n2025-08-03 20:16:58,660 - INFO - Generating HYBRID design suggestion: mutfak - klasik
\n2025-08-03 20:16:58,660 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 20:16:58,660 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 20:17:04,988 - WARNING - Unknown function call: 
\n2025-08-03 20:17:04,988 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 20:17:04,989 - INFO - Searching products: category=mutfak, style=klasik, color=krem
\n2025-08-03 20:17:05,181 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:17:05,182 - INFO - Product marked as fake: Klasik Stil Mutfak DolabÄ±
\n2025-08-03 20:17:05,182 - INFO - Searching products: category=mutfak, style=klasik, color=beyaz
\n2025-08-03 20:17:05,246 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:17:05,247 - INFO - Product marked as fake: Mermer Tezgah
\n2025-08-03 20:17:05,247 - INFO - Searching products: category=mutfak, style=klasik, color=bakÄ±r
\n2025-08-03 20:17:05,311 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:17:05,311 - INFO - Product marked as fake: BakÄ±r DetaylÄ± Ocak
\n2025-08-03 20:17:05,311 - INFO - Searching products: category=mutfak, style=klasik, color=altÄ±n
\n2025-08-03 20:17:05,376 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:17:05,376 - INFO - Product marked as fake: Klasik Avize
\n2025-08-03 20:17:05,376 - INFO - Searching products: category=mutfak, style=klasik, color=doÄŸal
\n2025-08-03 20:17:05,440 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:17:05,440 - INFO - Product marked as fake: AhÅŸap Yemek MasasÄ±
\n2025-08-03 20:17:05,440 - INFO - Searching products: category=mutfak, style=klasik, color=kahverengi
\n2025-08-03 20:17:05,505 - INFO - Found 0 products for category=mutfak
\n2025-08-03 20:17:05,505 - INFO - Product marked as fake: Deri Sandalye
\n2025-08-03 20:17:05,505 - INFO - Product enhancement complete: 0 real, 6 fake products
\n2025-08-03 20:17:05,505 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 20:17:05,505 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Klasik Mutfak TasarÄ±mÄ±: SÄ±cak ve Davetkar
\n2025-08-03 20:17:05,506 - INFO - Product mix: 0 real + 6 fake = 6 total (0% real)
\n2025-08-03 20:17:05,506 - INFO - Starting HYBRID background room visualization generation for connection: f603fa3f-99c0-4676-aef6-8f8a37903076
\n2025-08-03 20:17:05,506 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 20:17:05,833 - INFO - Design saved to database for suakbenli@gmail.com with ID: d68b9366-3eed-452f-ba35-0ade63938f57
\n2025-08-03 20:17:05,834 - INFO - Hashtags from Gemini for design d68b9366-3eed-452f-ba35-0ade63938f57: {'en': [], 'tr': ['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi'], 'display': ['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi'], 'unknown': []}
\n2025-08-03 20:17:05,835 - INFO - Saving hashtags for design d68b9366-3eed-452f-ba35-0ade63938f57: {'en': [], 'tr': ['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi'], 'display': ['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi'], 'unknown': []}
\n2025-08-03 20:17:05,967 - INFO - Saved 10 hashtags for design d68b9366-3eed-452f-ba35-0ade63938f57
\n2025-08-03 20:17:05,967 - INFO - Hashtags saved for design d68b9366-3eed-452f-ba35-0ade63938f57: EN=[], TR=['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi']
\n2025-08-03 20:17:05,968 - INFO - Hashtags saved for design d68b9366-3eed-452f-ba35-0ade63938f57: EN=[] TR=['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi'] DISPLAY=['#ev_tasarimi', '#mutfak_dekorasyonu', '#klasik_mutfak', '#ahÅŸap_detaylar', '#krem_renkler', '#aile_mutfaÄŸÄ±', '#fonksiyonel_mutfak', '#ÅŸÄ±k_tasarÄ±m', '#davetkar_atmosfer', '#yemek_keyfi']
\n2025-08-03 20:17:05,969 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 20:17:05,969 - INFO - Hybrid mood board generation - Design ID: d68b9366-3eed-452f-ba35-0ade63938f57 (type: <class 'str'>)
\n2025-08-03 20:17:05,969 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: preparing_prompt
\n2025-08-03 20:17:05,970 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: preparing_prompt
\n2025-08-03 20:17:05,970 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: optimizing_prompt
\n2025-08-03 20:17:05,970 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:05,971 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 20:17:05,971 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:05,971 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:06,896 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:06,897 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:07,547 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:17:07,554 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:17:07,554 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:17:08,399 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:08,497 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:17:08,504 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:17:08,504 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:17:09,901 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:11,402 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:12,903 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:14,404 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:15,738 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:15,738 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: generating_image
\n2025-08-03 20:17:16,513 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 20:17:16,513 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: processing_image
\n2025-08-03 20:17:16,514 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: processing_image
\n2025-08-03 20:17:16,535 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_201716_957328da.png
\n2025-08-03 20:17:16,537 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: finalizing
\n2025-08-03 20:17:16,537 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_201716_957328da.png
\n2025-08-03 20:17:17,127 - INFO - Mood board progress updated for f603fa3f-99c0-4676-aef6-8f8a37903076: completed
\n2025-08-03 20:17:17,128 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: d68b9366-3eed-452f-ba35-0ade63938f57 (type: <class 'str'>)
\n2025-08-03 20:17:17,128 - INFO - Creating MoodBoard with:
\n2025-08-03 20:17:17,128 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 20:17:17,128 - INFO -   design_id: d68b9366-3eed-452f-ba35-0ade63938f57 (type: <class 'str'>)
\n2025-08-03 20:17:17,128 - INFO -   mood_board_id: 957328da-ef67-409d-9c4c-8a0d28f4da71 (type: <class 'str'>)
\n2025-08-03 20:17:17,128 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_201716_957328da.png... (type: <class 'str'>)
\n2025-08-03 20:17:17,129 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home kitchen in klasik style.

... (type: <class 'str'>)
\n2025-08-03 20:17:17,456 - INFO - Mood board 957328da-ef67-409d-9c4c-8a0d28f4da71 saved to database and linked to design d68b9366-3eed-452f-ba35-0ade63938f57
\n2025-08-03 20:17:17,457 - INFO - Hybrid mood board generated successfully: 957328da-ef67-409d-9c4c-8a0d28f4da71 with 0 real + 6 fake products
\n2025-08-03 20:17:34,888 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:17:34,893 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:17:34,894 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:17:34,910 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:17:34,918 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:17:34,919 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:24:14,780 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:24:14,821 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:24:14,825 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:24:14,826 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:24:18,271 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:24:18,309 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:24:18,314 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:24:18,314 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:24:18,466 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:26:23,772 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:26:23,822 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:23,827 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:23,827 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:27,330 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 20:26:27,371 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:27,378 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:27,378 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:27,535 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 20:26:39,583 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:39,588 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:39,589 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:41,732 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:41,736 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:41,737 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:42,196 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:42,204 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:42,205 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:47,965 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:26:48,661 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:26:49,645 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:49,651 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:49,652 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:50,368 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:50,376 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:50,376 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:51,103 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:51,108 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:51,109 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:26:51,643 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:26:51,648 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:26:51,649 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:29:39,833 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:29:39,838 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:29:39,839 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:29:40,236 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:29:40,244 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:29:40,245 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:29:44,500 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:29:44,504 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:29:44,505 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:29:45,048 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:29:45,053 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:29:45,053 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:29:55,407 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:29:55,416 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:29:55,417 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:29:55,823 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:29:55,830 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:29:55,831 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:30:24,822 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:30:24,827 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:30:24,827 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:30:25,367 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:30:25,372 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:30:25,373 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:31:10,308 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:31:10,314 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:31:10,314 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:31:10,860 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:31:10,867 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:31:10,867 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:35:34,464 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:35:34,470 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:35:34,471 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:35:35,002 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:35:35,006 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:35:35,007 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:40:07,846 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 20:41:22,605 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:41:22,618 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:41:22,618 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:41:23,205 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:41:23,212 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:41:23,212 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:41:23,760 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:41:23,764 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:41:23,765 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:41:24,290 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:41:24,296 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:41:24,296 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:41:24,827 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:41:24,833 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:41:24,833 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:41:25,407 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:41:25,414 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:41:25,415 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:42:43,641 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:42:43,647 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:42:43,647 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:42:44,118 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:42:44,123 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:42:44,123 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:42:45,624 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:42:45,631 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:42:45,631 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:42:46,202 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:42:46,207 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:42:46,207 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:46:15,973 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:46:15,982 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:46:15,982 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:46:16,397 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:46:16,405 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:46:16,405 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:46:18,702 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:46:18,707 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:46:18,707 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:46:19,282 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:46:19,290 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:46:19,291 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:47:23,358 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 20:47:23,362 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 20:48:24,350 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:48:24,357 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:48:24,358 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:48:24,937 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:48:24,945 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:48:24,945 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:48:25,491 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:48:25,501 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:48:25,501 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:50:54,608 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:50:54,613 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:50:54,613 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:50:55,157 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:50:55,164 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:50:55,165 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:51:09,171 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:51:09,178 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:51:09,178 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:51:09,744 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:51:09,748 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:51:09,749 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:53:13,572 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 20:53:13,700 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 20:53:13,701 - INFO - HYBRID design request from suakbenli@gmail.com: Ã§ocuk - klasik
\n2025-08-03 20:53:13,701 - INFO - Generating HYBRID design suggestion: Ã§ocuk - klasik
\n2025-08-03 20:53:13,704 - INFO - Added room dimensions to context: 450x500x350 cm
\n2025-08-03 20:53:13,704 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 20:53:13,704 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 20:53:20,952 - WARNING - Unknown function call: 
\n2025-08-03 20:53:20,953 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 20:53:20,953 - INFO - Searching products: category=yatak, style=klasik, color=doÄŸal
\n2025-08-03 20:53:21,150 - INFO - Found 0 products for category=yatak
\n2025-08-03 20:53:21,151 - INFO - Product marked as fake: Klasik Tek KiÅŸilik Yatak
\n2025-08-03 20:53:21,151 - INFO - Searching products: category=Ã§alÄ±ÅŸma masasÄ±, style=klasik, color=kahverengi
\n2025-08-03 20:53:21,217 - INFO - Found 0 products for category=Ã§alÄ±ÅŸma masasÄ±
\n2025-08-03 20:53:21,218 - INFO - Product marked as fake: AhÅŸap Ã‡alÄ±ÅŸma MasasÄ±
\n2025-08-03 20:53:21,218 - INFO - Searching products: category=kitaplik, style=klasik, color=beyaz
\n2025-08-03 20:53:21,283 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 20:53:21,283 - INFO - Product marked as fake: Klasik KitaplÄ±k
\n2025-08-03 20:53:21,284 - INFO - Searching products: category=koltuk, style=klasik, color=bej
\n2025-08-03 20:53:21,350 - INFO - Found 0 products for category=koltuk
\n2025-08-03 20:53:21,350 - INFO - Product marked as fake: Tekli Koltuk
\n2025-08-03 20:53:21,351 - INFO - Searching products: category=aydinlatma, style=klasik, color=altÄ±n
\n2025-08-03 20:53:21,416 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 20:53:21,416 - INFO - Product marked as fake: Abajur
\n2025-08-03 20:53:21,416 - INFO - Searching products: category=perde, style=klasik, color=krem
\n2025-08-03 20:53:21,482 - INFO - Found 0 products for category=perde
\n2025-08-03 20:53:21,482 - INFO - Product marked as fake: TÃ¼l Perde
\n2025-08-03 20:53:21,482 - INFO - Searching products: category=halÄ±, style=klasik, color=bej
\n2025-08-03 20:53:21,548 - INFO - Found 0 products for category=halÄ±
\n2025-08-03 20:53:21,548 - INFO - Product marked as fake: Desenli HalÄ±
\n2025-08-03 20:53:21,548 - INFO - Searching products: category=dekoratif obje, style=klasik, color=Ã§ok renkli
\n2025-08-03 20:53:21,613 - INFO - Found 0 products for category=dekoratif obje
\n2025-08-03 20:53:21,614 - INFO - Product marked as fake: Duvar Tablosu
\n2025-08-03 20:53:21,614 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 20:53:21,614 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 20:53:21,614 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Ergen OdasÄ± Klasik TasarÄ±m
\n2025-08-03 20:53:21,615 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 20:53:21,615 - INFO - Starting HYBRID background room visualization generation for connection: 8fb08432-14bb-4a6c-bf53-d7f65888cbf3
\n2025-08-03 20:53:21,615 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 20:53:22,071 - INFO - Design saved to database for suakbenli@gmail.com with ID: 9bf66002-b995-4325-85c0-a41b6de4681d
\n2025-08-03 20:53:22,071 - INFO - Hashtags from Gemini for design 9bf66002-b995-4325-85c0-a41b6de4681d: {'en': [], 'tr': ['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu'], 'display': ['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu'], 'unknown': []}
\n2025-08-03 20:53:22,072 - INFO - Saving hashtags for design 9bf66002-b995-4325-85c0-a41b6de4681d: {'en': [], 'tr': ['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu'], 'display': ['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu'], 'unknown': []}
\n2025-08-03 20:53:22,268 - INFO - Saved 10 hashtags for design 9bf66002-b995-4325-85c0-a41b6de4681d
\n2025-08-03 20:53:22,268 - INFO - Hashtags saved for design 9bf66002-b995-4325-85c0-a41b6de4681d: EN=[], TR=['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu']
\n2025-08-03 20:53:22,268 - INFO - Hashtags saved for design 9bf66002-b995-4325-85c0-a41b6de4681d: EN=[] TR=['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu'] DISPLAY=['#ic_tasarim', '#ergen_odasi', '#klasik_tasarim', '#Ã§alÄ±ÅŸma_alanÄ±', '#dinlenme_kÃ¶ÅŸesi', '#nÃ¶tr_renkler', '#konforlu_mobilyalar', '#fonksiyonel_tasarim', '#kitap_kÃ¶ÅŸesi', '#duvar_dekorasyonu']
\n2025-08-03 20:53:22,273 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 20:53:22,274 - INFO - Hybrid mood board generation - Design ID: 9bf66002-b995-4325-85c0-a41b6de4681d (type: <class 'str'>)
\n2025-08-03 20:53:22,275 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: preparing_prompt
\n2025-08-03 20:53:22,276 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: preparing_prompt
\n2025-08-03 20:53:22,277 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: optimizing_prompt
\n2025-08-03 20:53:22,277 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:22,315 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 20:53:22,316 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:22,317 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:23,523 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:23,523 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:24,044 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:53:24,054 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:53:24,054 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:53:24,599 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:53:24,606 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:53:24,607 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:53:25,030 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:26,532 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:27,720 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:53:27,729 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:53:27,729 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:53:28,033 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:28,261 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:53:28,269 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:53:28,269 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:53:29,534 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:31,035 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:32,387 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:32,387 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: generating_image
\n2025-08-03 20:53:32,769 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 20:53:32,770 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: processing_image
\n2025-08-03 20:53:32,771 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: processing_image
\n2025-08-03 20:53:32,782 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_205332_7ed9e031.png
\n2025-08-03 20:53:32,783 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: finalizing
\n2025-08-03 20:53:32,783 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_205332_7ed9e031.png
\n2025-08-03 20:53:33,267 - INFO - Mood board progress updated for 8fb08432-14bb-4a6c-bf53-d7f65888cbf3: completed
\n2025-08-03 20:53:33,267 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 9bf66002-b995-4325-85c0-a41b6de4681d (type: <class 'str'>)
\n2025-08-03 20:53:33,267 - INFO - Creating MoodBoard with:
\n2025-08-03 20:53:33,267 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 20:53:33,267 - INFO -   design_id: 9bf66002-b995-4325-85c0-a41b6de4681d (type: <class 'str'>)
\n2025-08-03 20:53:33,268 - INFO -   mood_board_id: 7ed9e031-a785-4a62-b1f7-6cf90f022061 (type: <class 'str'>)
\n2025-08-03 20:53:33,268 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_205332_7ed9e031.png... (type: <class 'str'>)
\n2025-08-03 20:53:33,268 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home Ã§ocuk in klasik style.

IM... (type: <class 'str'>)
\n2025-08-03 20:53:33,788 - INFO - Mood board 7ed9e031-a785-4a62-b1f7-6cf90f022061 saved to database and linked to design 9bf66002-b995-4325-85c0-a41b6de4681d
\n2025-08-03 20:53:33,789 - INFO - Hybrid mood board generated successfully: 7ed9e031-a785-4a62-b1f7-6cf90f022061 with 0 real + 8 fake products
\n2025-08-03 20:53:51,096 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:53:51,107 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:53:51,108 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:53:51,676 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:53:51,681 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:53:51,681 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:54:36,049 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:54:36,056 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:54:36,057 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:54:36,609 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:54:36,614 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:54:36,614 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:59:52,387 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:59:52,402 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:59:52,406 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 20:59:52,991 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 20:59:53,015 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 20:59:53,016 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:00:08,367 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:00:08,372 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:00:08,372 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:00:08,825 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:00:08,834 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:00:08,834 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:00:37,657 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:00:37,662 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:00:37,662 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:00:38,203 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:00:38,208 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:00:38,209 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:01:39,312 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:01:48,420 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:01:48,477 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:01:48,482 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:01:48,482 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:01:48,692 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:02:01,271 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:02:06,049 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:02:06,094 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:02:06,101 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:02:06,101 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:02:06,257 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:03:42,803 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:03:44,598 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:03:44,598 - INFO - HYBRID design request from suakbenli@gmail.com: mutfak - klasik
\n2025-08-03 21:03:44,598 - INFO - Generating HYBRID design suggestion: mutfak - klasik
\n2025-08-03 21:03:44,598 - INFO - Added room dimensions to context: 400x400x300 cm
\n2025-08-03 21:03:44,599 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:03:44,599 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:03:51,170 - WARNING - Unknown function call: 
\n2025-08-03 21:03:51,171 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:03:51,171 - INFO - Searching products: category=mutfak, style=klasik, color=krem
\n2025-08-03 21:03:52,284 - INFO - Found 0 products for category=mutfak
\n2025-08-03 21:03:52,284 - INFO - Product marked as fake: Klasik Stil Mutfak DolabÄ±
\n2025-08-03 21:03:52,285 - INFO - Searching products: category=mutfak, style=klasik, color=beyaz
\n2025-08-03 21:03:52,354 - INFO - Found 0 products for category=mutfak
\n2025-08-03 21:03:52,354 - INFO - Product marked as fake: Mermer Desenli Mutfak TezgahÄ±
\n2025-08-03 21:03:52,355 - INFO - Searching products: category=mutfak, style=klasik, color=bronz
\n2025-08-03 21:03:52,424 - INFO - Found 0 products for category=mutfak
\n2025-08-03 21:03:52,425 - INFO - Product marked as fake: Rustik Metal Mutfak BataryasÄ±
\n2025-08-03 21:03:52,425 - INFO - Searching products: category=mutfak, style=klasik, color=altÄ±n
\n2025-08-03 21:03:52,494 - INFO - Found 0 products for category=mutfak
\n2025-08-03 21:03:52,494 - INFO - Product marked as fake: Klasik Avize
\n2025-08-03 21:03:52,494 - INFO - Searching products: category=mutfak, style=klasik, color=doÄŸal
\n2025-08-03 21:03:52,560 - INFO - Found 0 products for category=mutfak
\n2025-08-03 21:03:52,561 - INFO - Product marked as fake: AhÅŸap Yemek MasasÄ±
\n2025-08-03 21:03:52,561 - INFO - Searching products: category=mutfak, style=klasik, color=kahverengi
\n2025-08-03 21:03:52,628 - INFO - Found 0 products for category=mutfak
\n2025-08-03 21:03:52,628 - INFO - Product marked as fake: Deri Sandalyeler
\n2025-08-03 21:03:52,628 - INFO - Product enhancement complete: 0 real, 6 fake products
\n2025-08-03 21:03:52,628 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:03:52,629 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Klasik Mutfak TasarÄ±mÄ±
\n2025-08-03 21:03:52,629 - INFO - Product mix: 0 real + 6 fake = 6 total (0% real)
\n2025-08-03 21:03:52,629 - INFO - Starting HYBRID background room visualization generation for connection: 3aa608b1-e9be-42fc-9203-10f4130fa957
\n2025-08-03 21:03:52,629 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:03:53,037 - INFO - Design saved to database for suakbenli@gmail.com with ID: 669cdde2-f8f2-45bd-ba13-7253e8b54576
\n2025-08-03 21:03:53,037 - INFO - Hashtags from Gemini for design 669cdde2-f8f2-45bd-ba13-7253e8b54576: {'en': [], 'tr': ['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-03 21:03:53,037 - INFO - Saving hashtags for design 669cdde2-f8f2-45bd-ba13-7253e8b54576: {'en': [], 'tr': ['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-03 21:03:53,242 - INFO - Saved 10 hashtags for design 669cdde2-f8f2-45bd-ba13-7253e8b54576
\n2025-08-03 21:03:53,242 - INFO - Hashtags saved for design 669cdde2-f8f2-45bd-ba13-7253e8b54576: EN=[], TR=['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer']
\n2025-08-03 21:03:53,242 - INFO - Hashtags saved for design 669cdde2-f8f2-45bd-ba13-7253e8b54576: EN=[] TR=['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer'] DISPLAY=['#ic_tasarim', '#mutfak_tasarimi', '#klasik_mutfak', '#ahsap_detaylar', '#krem_tonlari', '#aile_mutfagi', '#konforlu_mutfak', '#zarif_aydinlatma', '#fonksiyonel_mutfak', '#sicak_atmosfer']
\n2025-08-03 21:03:53,243 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:03:53,244 - INFO - Hybrid mood board generation - Design ID: 669cdde2-f8f2-45bd-ba13-7253e8b54576 (type: <class 'str'>)
\n2025-08-03 21:03:53,244 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: preparing_prompt
\n2025-08-03 21:03:53,244 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: preparing_prompt
\n2025-08-03 21:03:53,245 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: optimizing_prompt
\n2025-08-03 21:03:53,245 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:53,257 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:03:53,258 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:53,258 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:54,363 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:54,363 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:55,166 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:03:55,178 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:03:55,178 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:03:55,865 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:55,937 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:03:55,944 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:03:55,945 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:03:57,366 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:03:58,868 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:04:00,370 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:04:01,872 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:04:03,165 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:04:03,166 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: generating_image
\n2025-08-03 21:04:03,535 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:04:03,536 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: processing_image
\n2025-08-03 21:04:03,537 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: processing_image
\n2025-08-03 21:04:03,559 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_210403_0375a4de.png
\n2025-08-03 21:04:03,560 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: finalizing
\n2025-08-03 21:04:03,561 - INFO - Hybrid mood board data structure for 0375a4de-0036-4b14-9c00-5e28b98bd6fa:
\n2025-08-03 21:04:03,561 - INFO -   - mood_board_id: 0375a4de-0036-4b14-9c00-5e28b98bd6fa
\n2025-08-03 21:04:03,561 - INFO -   - created_at: 2025-08-03T21:04:03.561024
\n2025-08-03 21:04:03,561 - INFO -   - image_data.created_at: 2025-08-03T21:04:03.561024
\n2025-08-03 21:04:03,561 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:04:03.561024
\n2025-08-03 21:04:03,562 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_210403_0375a4de.png
\n2025-08-03 21:04:04,093 - INFO - Mood board progress updated for 3aa608b1-e9be-42fc-9203-10f4130fa957: completed
\n2025-08-03 21:04:04,093 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 669cdde2-f8f2-45bd-ba13-7253e8b54576 (type: <class 'str'>)
\n2025-08-03 21:04:04,093 - INFO - Creating MoodBoard with:
\n2025-08-03 21:04:04,094 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:04:04,094 - INFO -   design_id: 669cdde2-f8f2-45bd-ba13-7253e8b54576 (type: <class 'str'>)
\n2025-08-03 21:04:04,094 - INFO -   mood_board_id: 0375a4de-0036-4b14-9c00-5e28b98bd6fa (type: <class 'str'>)
\n2025-08-03 21:04:04,094 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_210403_0375a4de.png... (type: <class 'str'>)
\n2025-08-03 21:04:04,095 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home kitchen in klasik style.

... (type: <class 'str'>)
\n2025-08-03 21:04:04,654 - INFO - Mood board 0375a4de-0036-4b14-9c00-5e28b98bd6fa saved to database and linked to design 669cdde2-f8f2-45bd-ba13-7253e8b54576
\n2025-08-03 21:04:04,655 - INFO - Hybrid mood board generated successfully: 0375a4de-0036-4b14-9c00-5e28b98bd6fa with 0 real + 6 fake products
\n2025-08-03 21:04:51,830 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:04:51,835 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:04:51,835 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:04:52,409 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:04:52,419 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:04:52,420 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:04:53,167 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:04:53,179 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:04:53,180 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:22,233 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:22,238 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:22,239 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:22,789 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:22,793 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:22,794 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:27,958 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:05:28,565 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:05:29,362 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:29,381 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:29,386 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:29,891 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:29,897 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:29,897 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:30,478 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:30,489 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:30,490 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:31,326 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:31,331 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:31,331 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:35,955 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:35,965 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:35,966 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:36,533 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:36,538 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:36,542 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:46,075 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:46,081 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:46,081 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:46,633 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:46,638 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:46,638 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:47,725 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:47,733 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:47,734 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:48,511 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:05:49,112 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:05:52,763 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:52,770 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:52,771 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:53,332 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:53,340 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:53,341 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:53,901 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:53,907 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:53,908 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:54,766 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:54,771 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:54,771 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:55,318 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:55,323 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:55,323 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:55,874 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:55,881 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:55,881 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:56,444 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:05:56,453 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:05:56,453 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:05:56,660 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:06:03,655 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:06:03,699 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:06:03,705 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:06:03,705 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:06:03,876 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:07:31,835 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:07:33,534 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:07:33,535 - INFO - HYBRID design request from suakbenli@gmail.com: Ã§ocuk - endÃ¼striyel
\n2025-08-03 21:07:33,535 - INFO - Generating HYBRID design suggestion: Ã§ocuk - endÃ¼striyel
\n2025-08-03 21:07:33,535 - INFO - Added room dimensions to context: 300x500x300 cm
\n2025-08-03 21:07:33,535 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:07:33,535 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:07:40,897 - WARNING - Unknown function call: 
\n2025-08-03 21:07:40,897 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:07:40,898 - INFO - Searching products: category=kitaplik, style=endÃ¼striyel, color=siyah
\n2025-08-03 21:07:41,968 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 21:07:41,968 - INFO - Product marked as fake: EndÃ¼striyel Metal ve AhÅŸap KitaplÄ±k
\n2025-08-03 21:07:41,968 - INFO - Searching products: category=yatak, style=endÃ¼striyel, color=gri
\n2025-08-03 21:07:42,033 - INFO - Found 0 products for category=yatak
\n2025-08-03 21:07:42,033 - INFO - Product marked as fake: Loft TarzÄ± Metal Ã‡ocuk YataÄŸÄ±
\n2025-08-03 21:07:42,033 - INFO - Searching products: category=sehpa, style=endÃ¼striyel, color=kahverengi
\n2025-08-03 21:07:42,099 - INFO - Found 0 products for category=sehpa
\n2025-08-03 21:07:42,099 - INFO - Product marked as fake: Tekerlekli AhÅŸap SandÄ±k Sehpa
\n2025-08-03 21:07:42,099 - INFO - Searching products: category=aydinlatma, style=endÃ¼striyel, color=siyah
\n2025-08-03 21:07:42,165 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:07:42,165 - INFO - Product marked as fake: EndÃ¼striyel SarkÄ±t Lamba
\n2025-08-03 21:07:42,165 - INFO - Searching products: category=koltuk, style=endÃ¼striyel, color=kahverengi
\n2025-08-03 21:07:42,230 - INFO - Found 0 products for category=koltuk
\n2025-08-03 21:07:42,230 - INFO - Product marked as fake: Vintage Deri GÃ¶rÃ¼nÃ¼mlÃ¼ Armut Koltuk
\n2025-08-03 21:07:42,230 - INFO - Searching products: category=dekorasyon, style=endÃ¼striyel, color=siyah
\n2025-08-03 21:07:42,294 - INFO - Found 0 products for category=dekorasyon
\n2025-08-03 21:07:42,295 - INFO - Product marked as fake: Metal Duvar RaflarÄ±
\n2025-08-03 21:07:42,295 - INFO - Searching products: category=aksesuar, style=endÃ¼striyel, color=gri
\n2025-08-03 21:07:42,360 - INFO - Found 0 products for category=aksesuar
\n2025-08-03 21:07:42,361 - INFO - Product marked as fake: Beton SaksÄ±da Sukulent
\n2025-08-03 21:07:42,362 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-03 21:07:42,362 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:07:42,362 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: EndÃ¼striyel Ã‡ocuk OdasÄ± TasarÄ±mÄ±
\n2025-08-03 21:07:42,362 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-03 21:07:42,363 - INFO - Starting HYBRID background room visualization generation for connection: 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f
\n2025-08-03 21:07:42,363 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:07:42,880 - INFO - Design saved to database for suakbenli@gmail.com with ID: 08796154-49c2-4d8f-b5eb-baeb05c42668
\n2025-08-03 21:07:42,880 - INFO - Hashtags from Gemini for design 08796154-49c2-4d8f-b5eb-baeb05c42668: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim'], 'unknown': []}
\n2025-08-03 21:07:42,880 - INFO - Saving hashtags for design 08796154-49c2-4d8f-b5eb-baeb05c42668: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim'], 'unknown': []}
\n2025-08-03 21:07:43,075 - INFO - Saved 10 hashtags for design 08796154-49c2-4d8f-b5eb-baeb05c42668
\n2025-08-03 21:07:43,076 - INFO - Hashtags saved for design 08796154-49c2-4d8f-b5eb-baeb05c42668: EN=[], TR=['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim']
\n2025-08-03 21:07:43,076 - INFO - Hashtags saved for design 08796154-49c2-4d8f-b5eb-baeb05c42668: EN=[] TR=['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim'] DISPLAY=['#ic_tasarim', '#cocuk_odasi', '#endustriyel_tasarim', '#fonksiyonel_oda', '#oyun_alani', '#calisma_kosesi', '#dogal_ahsap', '#metal_aksamlar', '#ergonomik_mobilya', '#guvenli_tasarim']
\n2025-08-03 21:07:43,078 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:07:43,078 - INFO - Hybrid mood board generation - Design ID: 08796154-49c2-4d8f-b5eb-baeb05c42668 (type: <class 'str'>)
\n2025-08-03 21:07:43,078 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: preparing_prompt
\n2025-08-03 21:07:43,079 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: preparing_prompt
\n2025-08-03 21:07:43,079 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: optimizing_prompt
\n2025-08-03 21:07:43,079 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:43,090 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:07:43,090 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:43,091 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:44,095 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:44,095 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:44,853 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:07:44,859 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:07:44,859 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:07:45,609 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:07:45,618 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:07:45,619 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:07:45,623 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:47,125 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:48,626 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:49,832 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:07:49,841 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:07:49,841 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:07:50,128 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:50,387 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:07:50,393 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:07:50,394 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:07:51,630 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:52,843 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:52,843 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: generating_image
\n2025-08-03 21:07:53,343 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:07:53,346 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: processing_image
\n2025-08-03 21:07:53,348 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: processing_image
\n2025-08-03 21:07:53,369 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_210753_fd3e50b7.png
\n2025-08-03 21:07:53,370 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: finalizing
\n2025-08-03 21:07:53,370 - INFO - Hybrid mood board data structure for fd3e50b7-e307-4c12-aefb-a0cf0f1d3967:
\n2025-08-03 21:07:53,371 - INFO -   - mood_board_id: fd3e50b7-e307-4c12-aefb-a0cf0f1d3967
\n2025-08-03 21:07:53,371 - INFO -   - created_at: 2025-08-03T21:07:53.370879
\n2025-08-03 21:07:53,371 - INFO -   - image_data.created_at: 2025-08-03T21:07:53.370879
\n2025-08-03 21:07:53,372 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:07:53.370879
\n2025-08-03 21:07:53,372 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_210753_fd3e50b7.png
\n2025-08-03 21:07:53,973 - INFO - Mood board progress updated for 6e4eaa91-ff98-4d8b-bf39-05e296f7bd3f: completed
\n2025-08-03 21:07:53,973 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 08796154-49c2-4d8f-b5eb-baeb05c42668 (type: <class 'str'>)
\n2025-08-03 21:07:53,974 - INFO - Creating MoodBoard with:
\n2025-08-03 21:07:53,974 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:07:53,974 - INFO -   design_id: 08796154-49c2-4d8f-b5eb-baeb05c42668 (type: <class 'str'>)
\n2025-08-03 21:07:53,974 - INFO -   mood_board_id: fd3e50b7-e307-4c12-aefb-a0cf0f1d3967 (type: <class 'str'>)
\n2025-08-03 21:07:53,974 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_210753_fd3e50b7.png... (type: <class 'str'>)
\n2025-08-03 21:07:53,975 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home Ã§ocuk in endÃ¼striyel style... (type: <class 'str'>)
\n2025-08-03 21:07:54,501 - INFO - Mood board fd3e50b7-e307-4c12-aefb-a0cf0f1d3967 saved to database and linked to design 08796154-49c2-4d8f-b5eb-baeb05c42668
\n2025-08-03 21:07:54,502 - INFO - Hybrid mood board generated successfully: fd3e50b7-e307-4c12-aefb-a0cf0f1d3967 with 0 real + 7 fake products
\n2025-08-03 21:11:13,021 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:11:13,032 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:11:13,033 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:11:13,584 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:11:13,592 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:11:13,592 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:11:29,889 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:11:29,900 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:11:29,900 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:11:30,392 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:11:30,401 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:11:30,401 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:13:03,308 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:13:03,439 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:13:03,439 - INFO - HYBRID design request from suakbenli@gmail.com: yatak - modern
\n2025-08-03 21:13:03,439 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-03 21:13:03,439 - INFO - Added room dimensions to context: 400x400x400 cm
\n2025-08-03 21:13:03,439 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:13:03,440 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:13:10,829 - WARNING - Unknown function call: 
\n2025-08-03 21:13:10,829 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:13:10,830 - INFO - Searching products: category=yatak, style=modern, color=beyaz
\n2025-08-03 21:13:11,022 - INFO - Found 0 products for category=yatak
\n2025-08-03 21:13:11,022 - INFO - Product marked as fake: BazalÄ± Modern Yatak
\n2025-08-03 21:13:11,023 - INFO - Searching products: category=komodin, style=modern, color=beyaz
\n2025-08-03 21:13:11,085 - INFO - Found 0 products for category=komodin
\n2025-08-03 21:13:11,086 - INFO - Product marked as fake: Ã‡ekmeceli Komodin
\n2025-08-03 21:13:11,086 - INFO - Searching products: category=gardÄ±rop, style=modern, color=beyaz
\n2025-08-03 21:13:11,150 - INFO - Found 0 products for category=gardÄ±rop
\n2025-08-03 21:13:11,150 - INFO - Product marked as fake: SÃ¼rgÃ¼lÃ¼ KapaklÄ± GardÄ±rop
\n2025-08-03 21:13:11,150 - INFO - Searching products: category=aydinlatma, style=modern, color=beyaz
\n2025-08-03 21:13:11,215 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:13:11,215 - INFO - Product marked as fake: Abajur
\n2025-08-03 21:13:11,215 - INFO - Searching products: category=perde, style=modern, color=gri
\n2025-08-03 21:13:11,279 - INFO - Found 0 products for category=perde
\n2025-08-03 21:13:11,279 - INFO - Product marked as fake: Stor Perde
\n2025-08-03 21:13:11,280 - INFO - Searching products: category=halÄ±, style=modern, color=gri
\n2025-08-03 21:13:11,344 - INFO - Found 0 products for category=halÄ±
\n2025-08-03 21:13:11,345 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 21:13:11,345 - INFO - Searching products: category=aksesuar, style=modern, color=gÃ¼mÃ¼ÅŸ
\n2025-08-03 21:13:11,409 - INFO - Found 0 products for category=aksesuar
\n2025-08-03 21:13:11,409 - INFO - Product marked as fake: Duvar AynasÄ±
\n2025-08-03 21:13:11,409 - INFO - Searching products: category=aksesuar, style=modern, color=bej
\n2025-08-03 21:13:11,473 - INFO - Found 0 products for category=aksesuar
\n2025-08-03 21:13:11,473 - INFO - Product marked as fake: Dekoratif YastÄ±k
\n2025-08-03 21:13:11,474 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 21:13:11,474 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:13:11,474 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Yatak OdasÄ± TasarÄ±mÄ±
\n2025-08-03 21:13:11,474 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 21:13:11,474 - INFO - Starting HYBRID background room visualization generation for connection: 68fee06e-9c4f-460b-8541-dad54d3121c7
\n2025-08-03 21:13:11,474 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:13:11,922 - INFO - Design saved to database for suakbenli@gmail.com with ID: 6e002e9c-1919-4435-ac8f-57c3c99479f9
\n2025-08-03 21:13:11,923 - INFO - Hashtags from Gemini for design 6e002e9c-1919-4435-ac8f-57c3c99479f9: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda'], 'unknown': []}
\n2025-08-03 21:13:11,923 - INFO - Saving hashtags for design 6e002e9c-1919-4435-ac8f-57c3c99479f9: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda'], 'unknown': []}
\n2025-08-03 21:13:12,120 - INFO - Saved 10 hashtags for design 6e002e9c-1919-4435-ac8f-57c3c99479f9
\n2025-08-03 21:13:12,121 - INFO - Hashtags saved for design 6e002e9c-1919-4435-ac8f-57c3c99479f9: EN=[], TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda']
\n2025-08-03 21:13:12,121 - INFO - Hashtags saved for design 6e002e9c-1919-4435-ac8f-57c3c99479f9: EN=[] TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda'] DISPLAY=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#rahat_yatak', '#fonksiyonel_mobilya', '#dogal_isik', '#konforlu_yatak', '#huzurlu_oda']
\n2025-08-03 21:13:12,122 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:13:12,122 - INFO - Hybrid mood board generation - Design ID: 6e002e9c-1919-4435-ac8f-57c3c99479f9 (type: <class 'str'>)
\n2025-08-03 21:13:12,123 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: preparing_prompt
\n2025-08-03 21:13:12,123 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: preparing_prompt
\n2025-08-03 21:13:12,123 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: optimizing_prompt
\n2025-08-03 21:13:12,123 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:12,124 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:13:12,124 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:12,124 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:13,153 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:13,154 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:14,656 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:16,157 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:17,659 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:19,160 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:20,661 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:22,162 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:22,631 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:22,631 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: generating_image
\n2025-08-03 21:13:22,920 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:13:22,921 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: processing_image
\n2025-08-03 21:13:22,921 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: processing_image
\n2025-08-03 21:13:22,933 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_211322_edf14d88.png
\n2025-08-03 21:13:22,934 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: finalizing
\n2025-08-03 21:13:22,935 - INFO - Hybrid mood board data structure for edf14d88-b827-4d63-b83a-c4947eaf4e56:
\n2025-08-03 21:13:22,935 - INFO -   - mood_board_id: edf14d88-b827-4d63-b83a-c4947eaf4e56
\n2025-08-03 21:13:22,935 - INFO -   - created_at: 2025-08-03T21:13:22.935365
\n2025-08-03 21:13:22,935 - INFO -   - image_data.created_at: 2025-08-03T21:13:22.935365
\n2025-08-03 21:13:22,936 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:13:22.935365
\n2025-08-03 21:13:22,936 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_211322_edf14d88.png
\n2025-08-03 21:13:23,360 - INFO - Mood board progress updated for 68fee06e-9c4f-460b-8541-dad54d3121c7: completed
\n2025-08-03 21:13:23,360 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 6e002e9c-1919-4435-ac8f-57c3c99479f9 (type: <class 'str'>)
\n2025-08-03 21:13:23,360 - INFO - Creating MoodBoard with:
\n2025-08-03 21:13:23,360 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:13:23,360 - INFO -   design_id: 6e002e9c-1919-4435-ac8f-57c3c99479f9 (type: <class 'str'>)
\n2025-08-03 21:13:23,361 - INFO -   mood_board_id: edf14d88-b827-4d63-b83a-c4947eaf4e56 (type: <class 'str'>)
\n2025-08-03 21:13:23,361 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_211322_edf14d88.png... (type: <class 'str'>)
\n2025-08-03 21:13:23,361 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-03 21:13:23,876 - INFO - Mood board edf14d88-b827-4d63-b83a-c4947eaf4e56 saved to database and linked to design 6e002e9c-1919-4435-ac8f-57c3c99479f9
\n2025-08-03 21:13:23,877 - INFO - Hybrid mood board generated successfully: edf14d88-b827-4d63-b83a-c4947eaf4e56 with 0 real + 8 fake products
\n2025-08-03 21:13:30,178 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:13:30,185 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:13:30,185 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:13:30,718 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:13:30,723 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:13:30,723 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:14:10,091 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:14:10,102 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:14:10,103 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:14:36,697 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:14:36,702 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:14:36,702 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:14:37,232 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:14:37,237 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:14:37,238 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:14:37,992 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:14:37,998 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:14:37,998 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:21:48,560 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 21:21:48,565 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 21:22:11,776 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:22:11,908 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:22:11,908 - INFO - HYBRID design request from suakbenli@gmail.com: yatak - modern
\n2025-08-03 21:22:11,909 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-03 21:22:11,909 - INFO - Added room dimensions to context: 400x600x300 cm
\n2025-08-03 21:22:11,909 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:22:11,909 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:22:20,083 - WARNING - Unknown function call: 
\n2025-08-03 21:22:20,084 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:22:20,086 - INFO - Searching products: category=yatak, style=modern, color=beyaz
\n2025-08-03 21:22:20,215 - INFO - Found 0 products for category=yatak
\n2025-08-03 21:22:20,215 - INFO - Product marked as fake: Modern Platform Yatak
\n2025-08-03 21:22:20,215 - INFO - Searching products: category=komodin, style=modern, color=beyaz
\n2025-08-03 21:22:20,279 - INFO - Found 0 products for category=komodin
\n2025-08-03 21:22:20,279 - INFO - Product marked as fake: Ã‡ekmeceli Komodin
\n2025-08-03 21:22:20,279 - INFO - Searching products: category=aydinlatma, style=modern, color=gri
\n2025-08-03 21:22:20,344 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:22:20,344 - INFO - Product marked as fake: Abajur Seti
\n2025-08-03 21:22:20,344 - INFO - Searching products: category=dolap, style=modern, color=venge
\n2025-08-03 21:22:20,409 - INFO - Found 0 products for category=dolap
\n2025-08-03 21:22:20,409 - INFO - Product marked as fake: SÃ¼rgÃ¼lÃ¼ GardÄ±rop
\n2025-08-03 21:22:20,409 - INFO - Searching products: category=halÄ±, style=modern, color=bej
\n2025-08-03 21:22:20,472 - INFO - Found 0 products for category=halÄ±
\n2025-08-03 21:22:20,472 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 21:22:20,472 - INFO - Searching products: category=perde, style=modern, color=krem
\n2025-08-03 21:22:20,536 - INFO - Found 0 products for category=perde
\n2025-08-03 21:22:20,536 - INFO - Product marked as fake: Stor Perde
\n2025-08-03 21:22:20,536 - INFO - Searching products: category=sehpa, style=modern, color=doÄŸal
\n2025-08-03 21:22:20,601 - INFO - Found 0 products for category=sehpa
\n2025-08-03 21:22:20,601 - INFO - Product marked as fake: Metal AyaklÄ± Yan Sehpa
\n2025-08-03 21:22:20,601 - INFO - Searching products: category=dekoratif_aksesuar, style=modern, color=Ã§ok renkli
\n2025-08-03 21:22:20,666 - INFO - Found 0 products for category=dekoratif_aksesuar
\n2025-08-03 21:22:20,666 - INFO - Product marked as fake: Duvar TablolarÄ± (2 adet)
\n2025-08-03 21:22:20,666 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 21:22:20,666 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:22:20,667 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Yatak OdasÄ± TasarÄ±mÄ±
\n2025-08-03 21:22:20,667 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 21:22:20,667 - INFO - Starting HYBRID background room visualization generation for connection: 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859
\n2025-08-03 21:22:20,667 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:22:20,991 - INFO - Design saved to database for suakbenli@gmail.com with ID: 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4
\n2025-08-03 21:22:20,992 - INFO - Hashtags from Gemini for design 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani'], 'unknown': []}
\n2025-08-03 21:22:20,992 - INFO - Saving hashtags for design 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani'], 'unknown': []}
\n2025-08-03 21:22:21,126 - INFO - Saved 10 hashtags for design 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4
\n2025-08-03 21:22:21,126 - INFO - Hashtags saved for design 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4: EN=[], TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani']
\n2025-08-03 21:22:21,126 - INFO - Hashtags saved for design 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4: EN=[] TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani'] DISPLAY=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#konforlu_yatak', '#fonksiyonel_mobilya', '#dogal_malzemeler', '#huzurlu_ortam', '#dinlenme_alani']
\n2025-08-03 21:22:21,128 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:22:21,128 - INFO - Hybrid mood board generation - Design ID: 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4 (type: <class 'str'>)
\n2025-08-03 21:22:21,128 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: preparing_prompt
\n2025-08-03 21:22:21,128 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: preparing_prompt
\n2025-08-03 21:22:21,129 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: optimizing_prompt
\n2025-08-03 21:22:21,129 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:21,129 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:22:21,129 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:21,130 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:22,161 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:22,162 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:22,716 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:22:22,724 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:22:22,724 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:22:23,276 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:22:23,281 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:22:23,282 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:22:23,665 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:25,166 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:26,668 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:28,169 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:29,670 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:31,112 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:31,112 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: generating_image
\n2025-08-03 21:22:31,421 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:22:31,421 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: processing_image
\n2025-08-03 21:22:31,422 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: processing_image
\n2025-08-03 21:22:31,434 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_212231_e0c0b39e.png
\n2025-08-03 21:22:31,434 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: finalizing
\n2025-08-03 21:22:31,435 - INFO - Hybrid mood board data structure for e0c0b39e-51dc-4d36-8faf-6d28f9915f71:
\n2025-08-03 21:22:31,435 - INFO -   - mood_board_id: e0c0b39e-51dc-4d36-8faf-6d28f9915f71
\n2025-08-03 21:22:31,435 - INFO -   - created_at: 2025-08-03T21:22:31.435021
\n2025-08-03 21:22:31,435 - INFO -   - image_data.created_at: 2025-08-03T21:22:31.435021
\n2025-08-03 21:22:31,435 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:22:31.435021
\n2025-08-03 21:22:31,435 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_212231_e0c0b39e.png
\n2025-08-03 21:22:32,003 - INFO - Mood board progress updated for 3aee2c5f-61dc-4bdd-b2e5-ea4f1ed04859: completed
\n2025-08-03 21:22:32,003 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4 (type: <class 'str'>)
\n2025-08-03 21:22:32,004 - INFO - Creating MoodBoard with:
\n2025-08-03 21:22:32,004 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:22:32,004 - INFO -   design_id: 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4 (type: <class 'str'>)
\n2025-08-03 21:22:32,004 - INFO -   mood_board_id: e0c0b39e-51dc-4d36-8faf-6d28f9915f71 (type: <class 'str'>)
\n2025-08-03 21:22:32,004 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_212231_e0c0b39e.png... (type: <class 'str'>)
\n2025-08-03 21:22:32,004 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-03 21:22:32,323 - INFO - Mood board e0c0b39e-51dc-4d36-8faf-6d28f9915f71 saved to database and linked to design 2b5487e2-13b7-4ea1-a924-5a6ecabd32b4
\n2025-08-03 21:22:32,323 - INFO - Hybrid mood board generated successfully: e0c0b39e-51dc-4d36-8faf-6d28f9915f71 with 0 real + 8 fake products
\n2025-08-03 21:22:34,236 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:22:34,241 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:22:34,241 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:22:34,806 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:22:34,811 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:22:34,811 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:23:44,481 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:23:44,485 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:23:44,485 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:25:11,596 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 21:25:11,672 - WARNING - HTTP Exception: 404 - Not Found
\n2025-08-03 21:25:41,461 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:25:41,588 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:25:41,589 - INFO - HYBRID design request from suakbenli@gmail.com: yatak - minimal
\n2025-08-03 21:25:41,589 - INFO - Generating HYBRID design suggestion: yatak - minimal
\n2025-08-03 21:25:41,589 - INFO - Added room dimensions to context: 500x600x400 cm
\n2025-08-03 21:25:41,589 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:25:41,589 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:25:47,937 - WARNING - Unknown function call: 
\n2025-08-03 21:25:47,937 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:25:47,937 - INFO - Searching products: category=yatak, style=minimal, color=beyaz
\n2025-08-03 21:25:48,065 - INFO - Found 0 products for category=yatak
\n2025-08-03 21:25:48,065 - INFO - Product marked as fake: Minimal Platform Yatak
\n2025-08-03 21:25:48,065 - INFO - Searching products: category=komodin, style=minimal, color=doÄŸal
\n2025-08-03 21:25:48,130 - INFO - Found 0 products for category=komodin
\n2025-08-03 21:25:48,130 - INFO - Product marked as fake: AhÅŸap Komodin
\n2025-08-03 21:25:48,131 - INFO - Searching products: category=aydinlatma, style=minimal, color=beyaz
\n2025-08-03 21:25:48,196 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:25:48,197 - INFO - Product marked as fake: Abajur
\n2025-08-03 21:25:48,197 - INFO - Searching products: category=dolap, style=minimal, color=beyaz
\n2025-08-03 21:25:48,264 - INFO - Found 0 products for category=dolap
\n2025-08-03 21:25:48,264 - INFO - Product marked as fake: GÃ¶mme Dolap
\n2025-08-03 21:25:48,265 - INFO - Searching products: category=perde, style=minimal, color=beyaz
\n2025-08-03 21:25:48,333 - INFO - Found 0 products for category=perde
\n2025-08-03 21:25:48,334 - INFO - Product marked as fake: TÃ¼l Perde
\n2025-08-03 21:25:48,334 - INFO - Searching products: category=halÄ±, style=minimal, color=gri
\n2025-08-03 21:25:48,401 - INFO - Found 0 products for category=halÄ±
\n2025-08-03 21:25:48,401 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 21:25:48,401 - INFO - Searching products: category=dekoratif_aksesuar, style=minimal, color=Ã§ok renkli
\n2025-08-03 21:25:48,466 - INFO - Found 0 products for category=dekoratif_aksesuar
\n2025-08-03 21:25:48,467 - INFO - Product marked as fake: Duvar Tablosu
\n2025-08-03 21:25:48,467 - INFO - Searching products: category=bitki, style=minimal, color=yeÅŸil
\n2025-08-03 21:25:48,532 - INFO - Found 0 products for category=bitki
\n2025-08-03 21:25:48,532 - INFO - Product marked as fake: SaksÄ± Bitkisi
\n2025-08-03 21:25:48,532 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 21:25:48,532 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:25:48,532 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Minimal Yatak OdasÄ± TasarÄ±mÄ±
\n2025-08-03 21:25:48,533 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 21:25:48,533 - INFO - Starting HYBRID background room visualization generation for connection: f335eb82-0a32-443c-8fc3-b12d2571f45c
\n2025-08-03 21:25:48,533 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:25:48,854 - INFO - Design saved to database for suakbenli@gmail.com with ID: 07f7ddd1-3d2c-4254-9089-a70459543991
\n2025-08-03 21:25:48,854 - INFO - Hashtags from Gemini for design 07f7ddd1-3d2c-4254-9089-a70459543991: {'en': [], 'tr': ['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama'], 'display': ['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama'], 'unknown': []}
\n2025-08-03 21:25:48,855 - INFO - Saving hashtags for design 07f7ddd1-3d2c-4254-9089-a70459543991: {'en': [], 'tr': ['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama'], 'display': ['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama'], 'unknown': []}
\n2025-08-03 21:25:48,984 - INFO - Saved 10 hashtags for design 07f7ddd1-3d2c-4254-9089-a70459543991
\n2025-08-03 21:25:48,984 - INFO - Hashtags saved for design 07f7ddd1-3d2c-4254-9089-a70459543991: EN=[], TR=['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama']
\n2025-08-03 21:25:48,984 - INFO - Hashtags saved for design 07f7ddd1-3d2c-4254-9089-a70459543991: EN=[] TR=['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama'] DISPLAY=['#ic_tasarim', '#yatak_odasi', '#minimalizm', '#notr_renkler', '#aile_dostu', '#sakin_ortam', '#fonksiyonel_tasarim', '#dogal_malzemeler', '#konforlu_yatak', '#duzenli_depolama']
\n2025-08-03 21:25:48,985 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:25:48,985 - INFO - Hybrid mood board generation - Design ID: 07f7ddd1-3d2c-4254-9089-a70459543991 (type: <class 'str'>)
\n2025-08-03 21:25:48,986 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: preparing_prompt
\n2025-08-03 21:25:48,986 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: preparing_prompt
\n2025-08-03 21:25:48,986 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: optimizing_prompt
\n2025-08-03 21:25:48,987 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:48,987 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:25:48,987 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:48,987 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:49,919 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:49,919 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:50,464 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:25:50,469 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:25:50,470 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:25:51,011 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:25:51,017 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:25:51,017 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:25:51,421 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:52,923 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:54,424 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:55,926 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:57,427 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:58,929 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:59,191 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:59,192 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: generating_image
\n2025-08-03 21:25:59,477 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:25:59,478 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: processing_image
\n2025-08-03 21:25:59,479 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: processing_image
\n2025-08-03 21:25:59,490 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_212559_f8277966.png
\n2025-08-03 21:25:59,492 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: finalizing
\n2025-08-03 21:25:59,492 - INFO - Hybrid mood board data structure for f8277966-b9d7-46d4-a9a4-629eb8c0d325:
\n2025-08-03 21:25:59,493 - INFO -   - mood_board_id: f8277966-b9d7-46d4-a9a4-629eb8c0d325
\n2025-08-03 21:25:59,493 - INFO -   - created_at: 2025-08-03T21:25:59.492817
\n2025-08-03 21:25:59,493 - INFO -   - image_data.created_at: 2025-08-03T21:25:59.492817
\n2025-08-03 21:25:59,493 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:25:59.492817
\n2025-08-03 21:25:59,494 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_212559_f8277966.png
\n2025-08-03 21:25:59,920 - INFO - Mood board progress updated for f335eb82-0a32-443c-8fc3-b12d2571f45c: completed
\n2025-08-03 21:25:59,921 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 07f7ddd1-3d2c-4254-9089-a70459543991 (type: <class 'str'>)
\n2025-08-03 21:25:59,921 - INFO - Creating MoodBoard with:
\n2025-08-03 21:25:59,921 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:25:59,921 - INFO -   design_id: 07f7ddd1-3d2c-4254-9089-a70459543991 (type: <class 'str'>)
\n2025-08-03 21:25:59,921 - INFO -   mood_board_id: f8277966-b9d7-46d4-a9a4-629eb8c0d325 (type: <class 'str'>)
\n2025-08-03 21:25:59,922 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_212559_f8277966.png... (type: <class 'str'>)
\n2025-08-03 21:25:59,922 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in minimal style.

IMPO... (type: <class 'str'>)
\n2025-08-03 21:26:00,247 - INFO - Mood board f8277966-b9d7-46d4-a9a4-629eb8c0d325 saved to database and linked to design 07f7ddd1-3d2c-4254-9089-a70459543991
\n2025-08-03 21:26:00,249 - INFO - Hybrid mood board generated successfully: f8277966-b9d7-46d4-a9a4-629eb8c0d325 with 0 real + 8 fake products
\n2025-08-03 21:26:19,069 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:19,077 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:19,077 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:19,614 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:19,618 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:19,619 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:26,713 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:26,720 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:26,720 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:29,024 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:29,029 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:29,029 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:29,479 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:29,485 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:29,485 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:47,290 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:47,295 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:47,295 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:48,143 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:48,151 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:48,151 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:52,722 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:52,726 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:52,727 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:53,634 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:53,638 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:53,639 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:55,940 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:55,945 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:55,945 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:26:56,533 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:26:56,538 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:26:56,538 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:29,474 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:29,478 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:29,478 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:29,881 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:29,885 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:29,885 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:33,146 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:33,152 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:33,152 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:33,786 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:33,791 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:33,791 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:36,869 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:36,874 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:36,874 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:37,458 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:37,463 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:37,463 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:40,071 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:40,076 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:40,076 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:40,678 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:40,684 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:40,684 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:44,487 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:44,491 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:44,492 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:45,093 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:45,100 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:45,100 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:45,710 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:45,715 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:45,715 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:46,349 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:46,353 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:46,354 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:49,632 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:49,637 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:49,637 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:28:50,254 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:28:50,258 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:28:50,259 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:29:55,260 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:30:06,114 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:30:06,170 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:30:06,176 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:30:06,176 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:30:06,360 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:30:54,658 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:30:58,695 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:30:58,731 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:30:58,736 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:30:58,736 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:30:58,873 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:31:00,184 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:31:04,198 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:31:04,234 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:31:04,239 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:31:04,239 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:31:04,376 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:32:18,312 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:32:22,559 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:32:22,596 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:32:22,601 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:32:22,601 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:32:22,736 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:32:28,172 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:32:32,238 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:32:32,276 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:32:32,281 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:32:32,281 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:32:32,417 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:32:43,018 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:32:43,023 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:32:43,023 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:32:43,838 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:32:43,843 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:32:43,843 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:32:44,468 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:32:44,472 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:32:44,473 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:33:02,568 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:33:02,706 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:33:02,706 - INFO - HYBRID design request from suakbenli@gmail.com: yatak - modern
\n2025-08-03 21:33:02,707 - INFO - COLOR_INFO DEBUG - Received from frontend: '' (length: 0)
\n2025-08-03 21:33:02,708 - INFO - Generating HYBRID design suggestion: yatak - modern
\n2025-08-03 21:33:02,708 - INFO - Added room dimensions to context: 600x500x300 cm
\n2025-08-03 21:33:02,709 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:33:02,709 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:33:10,953 - WARNING - Unknown function call: 
\n2025-08-03 21:33:10,953 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:33:10,954 - INFO - Searching products: category=yatak, style=modern, color=beyaz
\n2025-08-03 21:33:11,161 - INFO - Found 0 products for category=yatak
\n2025-08-03 21:33:11,161 - INFO - Product marked as fake: Modern Platform Yatak
\n2025-08-03 21:33:11,162 - INFO - Searching products: category=komodin, style=modern, color=beyaz
\n2025-08-03 21:33:11,232 - INFO - Found 0 products for category=komodin
\n2025-08-03 21:33:11,233 - INFO - Product marked as fake: Ã‡ekmeceli Komodin
\n2025-08-03 21:33:11,233 - INFO - Searching products: category=gardrop, style=modern, color=beyaz
\n2025-08-03 21:33:11,302 - INFO - Found 0 products for category=gardrop
\n2025-08-03 21:33:11,303 - INFO - Product marked as fake: SÃ¼rgÃ¼lÃ¼ KapaklÄ± Gardrop
\n2025-08-03 21:33:11,303 - INFO - Searching products: category=aydinlatma, style=modern, color=gri
\n2025-08-03 21:33:11,372 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:33:11,372 - INFO - Product marked as fake: Modern Abajur Seti
\n2025-08-03 21:33:11,372 - INFO - Searching products: category=halÄ±, style=modern, color=bej
\n2025-08-03 21:33:11,441 - INFO - Found 0 products for category=halÄ±
\n2025-08-03 21:33:11,441 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 21:33:11,442 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-03 21:33:11,510 - INFO - Found 0 products for category=perde
\n2025-08-03 21:33:11,511 - INFO - Product marked as fake: GÃ¼neÅŸlik Perde
\n2025-08-03 21:33:11,511 - INFO - Searching products: category=sehpa, style=modern, color=siyah
\n2025-08-03 21:33:11,579 - INFO - Found 0 products for category=sehpa
\n2025-08-03 21:33:11,580 - INFO - Product marked as fake: Yuvarlak Metal Sehpa
\n2025-08-03 21:33:11,580 - INFO - Searching products: category=dekoratif_yastik, style=modern, color=Ã§ok renkli
\n2025-08-03 21:33:11,650 - INFO - Found 0 products for category=dekoratif_yastik
\n2025-08-03 21:33:11,650 - INFO - Product marked as fake: Dekoratif YastÄ±k Seti
\n2025-08-03 21:33:11,650 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 21:33:11,650 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:33:11,651 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Yatak OdasÄ± TasarÄ±mÄ±
\n2025-08-03 21:33:11,651 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 21:33:11,651 - INFO - Starting HYBRID background room visualization generation for connection: 839f1931-abb7-4f86-af26-a68e2b8db99c
\n2025-08-03 21:33:11,651 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:33:11,651 - INFO - COLOR_INFO DEBUG - About to save to database: '' (length: 0)
\n2025-08-03 21:33:12,123 - INFO - Design saved to database for suakbenli@gmail.com with ID: e2d9f375-718c-4843-98bf-525225e80a7b
\n2025-08-03 21:33:12,123 - INFO - COLOR_INFO DEBUG - Saved to database: '' (length: 0)
\n2025-08-03 21:33:12,123 - INFO - Hashtags from Gemini for design e2d9f375-718c-4843-98bf-525225e80a7b: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon'], 'unknown': []}
\n2025-08-03 21:33:12,124 - INFO - Saving hashtags for design e2d9f375-718c-4843-98bf-525225e80a7b: {'en': [], 'tr': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon'], 'display': ['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon'], 'unknown': []}
\n2025-08-03 21:33:12,323 - INFO - Saved 10 hashtags for design e2d9f375-718c-4843-98bf-525225e80a7b
\n2025-08-03 21:33:12,324 - INFO - Hashtags saved for design e2d9f375-718c-4843-98bf-525225e80a7b: EN=[], TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon']
\n2025-08-03 21:33:12,324 - INFO - Hashtags saved for design e2d9f375-718c-4843-98bf-525225e80a7b: EN=[] TR=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon'] DISPLAY=['#ev_tasarimi', '#yatak_odasi', '#modern_tasarim', '#notr_renkler', '#aile_dostu', '#fonksiyonel_tasarim', '#rahat_yatak', '#dogal_malzemeler', '#huzurlu_ortam', '#minimalist_dekorasyon']
\n2025-08-03 21:33:12,325 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:33:12,325 - INFO - Hybrid mood board generation - Design ID: e2d9f375-718c-4843-98bf-525225e80a7b (type: <class 'str'>)
\n2025-08-03 21:33:12,326 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: preparing_prompt
\n2025-08-03 21:33:12,326 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: preparing_prompt
\n2025-08-03 21:33:12,326 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: optimizing_prompt
\n2025-08-03 21:33:12,326 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:12,340 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:33:12,341 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:12,341 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:13,449 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:13,450 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:14,019 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:33:14,025 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:33:14,025 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:33:14,638 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:33:14,644 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:33:14,645 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:33:14,953 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:16,455 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:17,957 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:19,459 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:20,960 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:22,313 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:22,314 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: generating_image
\n2025-08-03 21:33:22,675 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:33:22,676 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: processing_image
\n2025-08-03 21:33:22,676 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: processing_image
\n2025-08-03 21:33:22,688 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_213322_88737a98.png
\n2025-08-03 21:33:22,688 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: finalizing
\n2025-08-03 21:33:22,689 - INFO - Hybrid mood board data structure for 88737a98-4144-4548-bf7d-e66556cb1c29:
\n2025-08-03 21:33:22,689 - INFO -   - mood_board_id: 88737a98-4144-4548-bf7d-e66556cb1c29
\n2025-08-03 21:33:22,689 - INFO -   - created_at: 2025-08-03T21:33:22.689073
\n2025-08-03 21:33:22,689 - INFO -   - image_data.created_at: 2025-08-03T21:33:22.689073
\n2025-08-03 21:33:22,689 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:33:22.689073
\n2025-08-03 21:33:22,689 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_213322_88737a98.png
\n2025-08-03 21:33:23,226 - INFO - Mood board progress updated for 839f1931-abb7-4f86-af26-a68e2b8db99c: completed
\n2025-08-03 21:33:23,227 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: e2d9f375-718c-4843-98bf-525225e80a7b (type: <class 'str'>)
\n2025-08-03 21:33:23,227 - INFO - Creating MoodBoard with:
\n2025-08-03 21:33:23,227 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:33:23,227 - INFO -   design_id: e2d9f375-718c-4843-98bf-525225e80a7b (type: <class 'str'>)
\n2025-08-03 21:33:23,228 - INFO -   mood_board_id: 88737a98-4144-4548-bf7d-e66556cb1c29 (type: <class 'str'>)
\n2025-08-03 21:33:23,228 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_213322_88737a98.png... (type: <class 'str'>)
\n2025-08-03 21:33:23,228 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a bedroom in modern style.

IMPOR... (type: <class 'str'>)
\n2025-08-03 21:33:23,788 - INFO - Mood board 88737a98-4144-4548-bf7d-e66556cb1c29 saved to database and linked to design e2d9f375-718c-4843-98bf-525225e80a7b
\n2025-08-03 21:33:23,789 - INFO - Hybrid mood board generated successfully: 88737a98-4144-4548-bf7d-e66556cb1c29 with 0 real + 8 fake products
\n2025-08-03 21:33:27,033 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:33:27,038 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:33:27,038 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:33:27,714 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:33:27,721 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:33:27,722 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:37:18,183 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:37:24,675 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:37:24,720 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:37:24,725 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:37:24,725 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:37:24,878 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:38:30,281 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:38:34,411 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:38:34,446 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:38:34,451 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:38:34,451 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:38:34,585 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:39:16,341 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:39:16,471 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:39:16,471 - INFO - HYBRID design request from suakbenli@gmail.com: salon - minimal
\n2025-08-03 21:39:16,471 - INFO - FORM PARAMETERS DEBUG:
\n2025-08-03 21:39:16,471 - INFO -   - room_type: 'salon'
\n2025-08-03 21:39:16,472 - INFO -   - design_style: 'minimal'
\n2025-08-03 21:39:16,472 - INFO -   - notes: '' (length: 0)
\n2025-08-03 21:39:16,472 - INFO -   - color_info: '' (length: 0)
\n2025-08-03 21:39:16,472 - INFO -   - width: 500
\n2025-08-03 21:39:16,472 - INFO -   - length: 400
\n2025-08-03 21:39:16,472 - INFO -   - height: 300
\n2025-08-03 21:39:16,472 - INFO -   - product_categories: '' (length: 0)
\n2025-08-03 21:39:16,473 - INFO -   - price: None
\n2025-08-03 21:39:16,473 - INFO -   - connection_id: '96d627c3-adfa-4f8f-a94f-2c44e15804f0'
\n2025-08-03 21:39:16,473 - INFO - Generating HYBRID design suggestion: salon - minimal
\n2025-08-03 21:39:16,473 - INFO - Added room dimensions to context: 500x400x300 cm
\n2025-08-03 21:39:16,473 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:39:16,473 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:39:23,368 - WARNING - Unknown function call: 
\n2025-08-03 21:39:23,368 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:39:23,369 - INFO - Searching products: category=koltuk, style=minimal, color=gri
\n2025-08-03 21:39:23,569 - INFO - Found 0 products for category=koltuk
\n2025-08-03 21:39:23,570 - INFO - Product marked as fake: KÃ¶ÅŸe Koltuk TakÄ±mÄ±
\n2025-08-03 21:39:23,570 - INFO - Searching products: category=sehpa, style=minimal, color=doÄŸal
\n2025-08-03 21:39:23,636 - INFO - Found 0 products for category=sehpa
\n2025-08-03 21:39:23,636 - INFO - Product marked as fake: AhÅŸap Orta Sehpa
\n2025-08-03 21:39:23,636 - INFO - Searching products: category=kitaplik, style=minimal, color=beyaz
\n2025-08-03 21:39:23,702 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 21:39:23,702 - INFO - Product marked as fake: Duvara Monte KitaplÄ±k
\n2025-08-03 21:39:23,702 - INFO - Searching products: category=aydinlatma, style=minimal, color=siyah
\n2025-08-03 21:39:23,769 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:39:23,769 - INFO - Product marked as fake: AyaklÄ± Lambader
\n2025-08-03 21:39:23,769 - INFO - Searching products: category=Ev MobilyalarÄ±, style=minimal, color=beyaz
\n2025-08-03 21:39:23,835 - INFO - Found 0 products for category=Ev MobilyalarÄ±
\n2025-08-03 21:39:23,836 - INFO - Product marked as fake: TV Ãœnitesi
\n2025-08-03 21:39:23,836 - INFO - Searching products: category=Ev Tekstili, style=minimal, color=bej
\n2025-08-03 21:39:23,902 - INFO - Found 0 products for category=Ev Tekstili
\n2025-08-03 21:39:23,903 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 21:39:23,903 - INFO - Searching products: category=Ev Dekorasyon, style=minimal, color=gri
\n2025-08-03 21:39:23,969 - INFO - Found 0 products for category=Ev Dekorasyon
\n2025-08-03 21:39:23,969 - INFO - Product marked as fake: Dekoratif Bitki SaksÄ±sÄ±
\n2025-08-03 21:39:23,969 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-03 21:39:23,969 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:39:23,969 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Minimalist Salon TasarÄ±mÄ±: Huzurlu ve Ferah YaÅŸam AlanÄ±
\n2025-08-03 21:39:23,969 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-03 21:39:23,970 - INFO - Starting HYBRID background room visualization generation for connection: 96d627c3-adfa-4f8f-a94f-2c44e15804f0
\n2025-08-03 21:39:23,970 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:39:23,970 - INFO - COLOR_INFO DEBUG - About to save to database: '' (length: 0)
\n2025-08-03 21:39:24,432 - INFO - Design saved to database for suakbenli@gmail.com with ID: b550bc82-17b7-4d39-a1dd-55cf3f875907
\n2025-08-03 21:39:24,433 - INFO - COLOR_INFO DEBUG - Saved to database: '' (length: 0)
\n2025-08-03 21:39:24,433 - INFO - Hashtags from Gemini for design b550bc82-17b7-4d39-a1dd-55cf3f875907: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'unknown': []}
\n2025-08-03 21:39:24,434 - INFO - Saving hashtags for design b550bc82-17b7-4d39-a1dd-55cf3f875907: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'unknown': []}
\n2025-08-03 21:39:24,632 - INFO - Saved 10 hashtags for design b550bc82-17b7-4d39-a1dd-55cf3f875907
\n2025-08-03 21:39:24,632 - INFO - Hashtags saved for design b550bc82-17b7-4d39-a1dd-55cf3f875907: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik']
\n2025-08-03 21:39:24,632 - INFO - Hashtags saved for design b550bc82-17b7-4d39-a1dd-55cf3f875907: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#minimalist_dekorasyon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik']
\n2025-08-03 21:39:24,634 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:39:24,634 - INFO - Hybrid mood board generation - Design ID: b550bc82-17b7-4d39-a1dd-55cf3f875907 (type: <class 'str'>)
\n2025-08-03 21:39:24,634 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: preparing_prompt
\n2025-08-03 21:39:24,634 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: preparing_prompt
\n2025-08-03 21:39:24,635 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: optimizing_prompt
\n2025-08-03 21:39:24,635 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:24,645 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:39:24,645 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:24,646 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:25,756 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:25,756 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:26,532 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:39:26,537 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:39:26,537 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:39:26,556 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:39:26,563 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:39:26,564 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:39:27,259 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:28,760 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:30,261 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:31,763 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:33,264 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:34,336 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:34,336 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: generating_image
\n2025-08-03 21:39:34,699 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:39:34,700 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: processing_image
\n2025-08-03 21:39:34,701 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: processing_image
\n2025-08-03 21:39:34,711 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_213934_67c237ce.png
\n2025-08-03 21:39:34,712 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: finalizing
\n2025-08-03 21:39:34,713 - INFO - Hybrid mood board data structure for 67c237ce-a2ba-4bf3-ad55-11af72897834:
\n2025-08-03 21:39:34,713 - INFO -   - mood_board_id: 67c237ce-a2ba-4bf3-ad55-11af72897834
\n2025-08-03 21:39:34,714 - INFO -   - created_at: 2025-08-03T21:39:34.713601
\n2025-08-03 21:39:34,714 - INFO -   - image_data.created_at: 2025-08-03T21:39:34.713601
\n2025-08-03 21:39:34,714 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:39:34.713601
\n2025-08-03 21:39:34,715 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_213934_67c237ce.png
\n2025-08-03 21:39:35,099 - INFO - Mood board progress updated for 96d627c3-adfa-4f8f-a94f-2c44e15804f0: completed
\n2025-08-03 21:39:35,099 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: b550bc82-17b7-4d39-a1dd-55cf3f875907 (type: <class 'str'>)
\n2025-08-03 21:39:35,099 - INFO - Creating MoodBoard with:
\n2025-08-03 21:39:35,099 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:39:35,100 - INFO -   design_id: b550bc82-17b7-4d39-a1dd-55cf3f875907 (type: <class 'str'>)
\n2025-08-03 21:39:35,100 - INFO -   mood_board_id: 67c237ce-a2ba-4bf3-ad55-11af72897834 (type: <class 'str'>)
\n2025-08-03 21:39:35,100 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_213934_67c237ce.png... (type: <class 'str'>)
\n2025-08-03 21:39:35,100 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in minimal sty... (type: <class 'str'>)
\n2025-08-03 21:39:35,618 - INFO - Mood board 67c237ce-a2ba-4bf3-ad55-11af72897834 saved to database and linked to design b550bc82-17b7-4d39-a1dd-55cf3f875907
\n2025-08-03 21:39:35,618 - INFO - Hybrid mood board generated successfully: 67c237ce-a2ba-4bf3-ad55-11af72897834 with 0 real + 7 fake products
\n2025-08-03 21:52:08,062 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 21:52:08,067 - WARNING - HTTP Exception: 401 - Could not validate credentials
\n2025-08-03 21:53:45,468 - INFO - Shutting down Deko Assistant AI API...
\n2025-08-03 21:53:53,518 - INFO - Room Visualization Service initialized with Imagen 4 - Enhanced 19+ step progress tracking enabled
\n2025-08-03 21:53:53,570 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:53:53,575 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:53:53,575 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:53:53,777 - INFO - Starting Deko Assistant AI API...
\n2025-08-03 21:54:32,152 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:54:33,987 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:54:33,987 - INFO - HYBRID design request from suakbenli@gmail.com: salon - modern
\n2025-08-03 21:54:33,987 - INFO - Generating HYBRID design suggestion: salon - modern
\n2025-08-03 21:54:33,987 - INFO - Added room dimensions to context: 500x400x200 cm
\n2025-08-03 21:54:33,988 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:54:33,988 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:54:42,015 - WARNING - Unknown function call: 
\n2025-08-03 21:54:42,015 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:54:42,016 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-03 21:54:43,104 - INFO - Found 0 products for category=koltuk
\n2025-08-03 21:54:43,104 - INFO - Product marked as fake: KÃ¶ÅŸe Koltuk TakÄ±mÄ±
\n2025-08-03 21:54:43,105 - INFO - Searching products: category=sehpa, style=modern, color=doÄŸal
\n2025-08-03 21:54:43,171 - INFO - Found 0 products for category=sehpa
\n2025-08-03 21:54:43,172 - INFO - Product marked as fake: AhÅŸap Orta Sehpa
\n2025-08-03 21:54:43,172 - INFO - Searching products: category=kitaplik, style=modern, color=beyaz
\n2025-08-03 21:54:43,238 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 21:54:43,239 - INFO - Product marked as fake: Duvara Monte KitaplÄ±k
\n2025-08-03 21:54:43,239 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-03 21:54:43,305 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:54:43,305 - INFO - Product marked as fake: AyaklÄ± Lambader
\n2025-08-03 21:54:43,305 - INFO - Searching products: category=Ev MobilyalarÄ±, style=modern, color=beyaz
\n2025-08-03 21:54:43,372 - INFO - Found 0 products for category=Ev MobilyalarÄ±
\n2025-08-03 21:54:43,372 - INFO - Product marked as fake: TV Ãœnitesi
\n2025-08-03 21:54:43,373 - INFO - Searching products: category=dekorasyon, style=modern, color=Ã§ok renkli
\n2025-08-03 21:54:43,440 - INFO - Found 0 products for category=dekorasyon
\n2025-08-03 21:54:43,440 - INFO - Product marked as fake: Dekoratif YastÄ±klar
\n2025-08-03 21:54:43,440 - INFO - Searching products: category=dekorasyon, style=modern, color=bej
\n2025-08-03 21:54:43,506 - INFO - Found 0 products for category=dekorasyon
\n2025-08-03 21:54:43,506 - INFO - Product marked as fake: Salon HalÄ±sÄ±
\n2025-08-03 21:54:43,506 - INFO - Product enhancement complete: 0 real, 7 fake products
\n2025-08-03 21:54:43,507 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:54:43,507 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Salon TasarÄ±mÄ±: Aile Konforu ve ÅžÄ±klÄ±k
\n2025-08-03 21:54:43,507 - INFO - Product mix: 0 real + 7 fake = 7 total (0% real)
\n2025-08-03 21:54:43,507 - INFO - Starting HYBRID background room visualization generation for connection: d0086452-6c90-462e-b55f-e4206b217c90
\n2025-08-03 21:54:43,507 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:54:44,049 - INFO - Design saved to database for suakbenli@gmail.com with ID: e684af85-4a95-4139-bd34-c3529479ca3d
\n2025-08-03 21:54:44,049 - INFO - Hashtags from Gemini for design e684af85-4a95-4139-bd34-c3529479ca3d: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-03 21:54:44,049 - INFO - Saving hashtags for design e684af85-4a95-4139-bd34-c3529479ca3d: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-03 21:54:44,258 - INFO - Saved 10 hashtags for design e684af85-4a95-4139-bd34-c3529479ca3d
\n2025-08-03 21:54:44,259 - INFO - Hashtags saved for design e684af85-4a95-4139-bd34-c3529479ca3d: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer']
\n2025-08-03 21:54:44,259 - INFO - Hashtags saved for design e684af85-4a95-4139-bd34-c3529479ca3d: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#aile_dostu', '#konforlu_salon', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer']
\n2025-08-03 21:54:44,263 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:54:44,263 - INFO - Hybrid mood board generation - Design ID: e684af85-4a95-4139-bd34-c3529479ca3d (type: <class 'str'>)
\n2025-08-03 21:54:44,264 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: preparing_prompt
\n2025-08-03 21:54:44,264 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: preparing_prompt
\n2025-08-03 21:54:44,265 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: optimizing_prompt
\n2025-08-03 21:54:44,265 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:44,282 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:54:44,282 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:44,283 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:45,403 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:45,404 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:46,240 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:54:46,246 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:54:46,247 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:54:46,910 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:47,150 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:54:47,158 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:54:47,159 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:54:48,412 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:49,914 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:51,416 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:52,918 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:54,200 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:54,201 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:54:54,587 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:54:54,588 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: processing_image
\n2025-08-03 21:54:54,589 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: processing_image
\n2025-08-03 21:54:54,605 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_215454_1bf07b82.png
\n2025-08-03 21:54:54,607 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: finalizing
\n2025-08-03 21:54:54,607 - INFO - Hybrid mood board data structure for 1bf07b82-803b-49c3-9637-263b30f07313:
\n2025-08-03 21:54:54,607 - INFO -   - mood_board_id: 1bf07b82-803b-49c3-9637-263b30f07313
\n2025-08-03 21:54:54,608 - INFO -   - created_at: 2025-08-03T21:54:54.607595
\n2025-08-03 21:54:54,608 - INFO -   - image_data.created_at: 2025-08-03T21:54:54.607595
\n2025-08-03 21:54:54,608 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:54:54.607595
\n2025-08-03 21:54:54,608 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_215454_1bf07b82.png
\n2025-08-03 21:54:55,176 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: completed
\n2025-08-03 21:54:55,177 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: e684af85-4a95-4139-bd34-c3529479ca3d (type: <class 'str'>)
\n2025-08-03 21:54:55,178 - INFO - Creating MoodBoard with:
\n2025-08-03 21:54:55,178 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:54:55,178 - INFO -   design_id: e684af85-4a95-4139-bd34-c3529479ca3d (type: <class 'str'>)
\n2025-08-03 21:54:55,179 - INFO -   mood_board_id: 1bf07b82-803b-49c3-9637-263b30f07313 (type: <class 'str'>)
\n2025-08-03 21:54:55,179 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_215454_1bf07b82.png... (type: <class 'str'>)
\n2025-08-03 21:54:55,179 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in modern styl... (type: <class 'str'>)
\n2025-08-03 21:54:55,740 - INFO - Mood board 1bf07b82-803b-49c3-9637-263b30f07313 saved to database and linked to design e684af85-4a95-4139-bd34-c3529479ca3d
\n2025-08-03 21:54:55,741 - INFO - Hybrid mood board generated successfully: 1bf07b82-803b-49c3-9637-263b30f07313 with 0 real + 7 fake products
\n2025-08-03 21:54:55,790 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:54:55,797 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:54:55,797 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:54:56,103 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:54:56,112 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:54:56,112 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:57:30,454 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:57:30,458 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:57:30,458 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:57:30,489 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:57:30,493 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:57:30,494 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:57:35,352 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:57:35,364 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:57:35,364 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:58:31,339 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 21:58:31,468 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:58:31,469 - INFO - HYBRID design request from suakbenli@gmail.com: salon - modern
\n2025-08-03 21:58:31,469 - INFO - Generating HYBRID design suggestion: salon - modern
\n2025-08-03 21:58:31,469 - INFO - Added room dimensions to context: 500x400x200 cm
\n2025-08-03 21:58:31,469 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 21:58:31,469 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 21:58:39,270 - WARNING - Unknown function call: 
\n2025-08-03 21:58:39,270 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 21:58:39,270 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-03 21:58:39,474 - INFO - Found 0 products for category=koltuk
\n2025-08-03 21:58:39,475 - INFO - Product marked as fake: KÃ¶ÅŸe Koltuk TakÄ±mÄ±
\n2025-08-03 21:58:39,475 - INFO - Searching products: category=sehpa, style=modern, color=doÄŸal
\n2025-08-03 21:58:39,553 - INFO - Found 0 products for category=sehpa
\n2025-08-03 21:58:39,554 - INFO - Product marked as fake: Cam ve AhÅŸap Sehpa
\n2025-08-03 21:58:39,554 - INFO - Searching products: category=kitaplik, style=modern, color=beyaz
\n2025-08-03 21:58:39,627 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 21:58:39,627 - INFO - Product marked as fake: Duvara Monte KitaplÄ±k
\n2025-08-03 21:58:39,627 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-03 21:58:39,694 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 21:58:39,695 - INFO - Product marked as fake: AyaklÄ± Lambader
\n2025-08-03 21:58:39,695 - INFO - Searching products: category=Ev Tekstili, style=modern, color=bej
\n2025-08-03 21:58:39,763 - INFO - Found 0 products for category=Ev Tekstili
\n2025-08-03 21:58:39,763 - INFO - Product marked as fake: YÃ¼n HalÄ±
\n2025-08-03 21:58:39,764 - INFO - Searching products: category=aksesuar, style=modern, color=Ã§eÅŸitli
\n2025-08-03 21:58:39,834 - INFO - Found 0 products for category=aksesuar
\n2025-08-03 21:58:39,835 - INFO - Product marked as fake: Dekoratif YastÄ±klar
\n2025-08-03 21:58:39,835 - INFO - Searching products: category=tv_unitesi, style=modern, color=beyaz
\n2025-08-03 21:58:39,905 - INFO - Found 0 products for category=tv_unitesi
\n2025-08-03 21:58:39,906 - INFO - Product marked as fake: Asimetrik TV Ãœnitesi
\n2025-08-03 21:58:39,906 - INFO - Searching products: category=perde, style=modern, color=beyaz
\n2025-08-03 21:58:39,975 - INFO - Found 0 products for category=perde
\n2025-08-03 21:58:39,976 - INFO - Product marked as fake: TÃ¼l Perde
\n2025-08-03 21:58:39,976 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 21:58:39,976 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 21:58:39,976 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Salon TasarÄ±mÄ±: Aile Konforu ve ÅžÄ±klÄ±k
\n2025-08-03 21:58:39,976 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 21:58:39,976 - INFO - Starting HYBRID background room visualization generation for connection: d0086452-6c90-462e-b55f-e4206b217c90
\n2025-08-03 21:58:39,977 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 21:58:40,458 - INFO - Design saved to database for suakbenli@gmail.com with ID: 4598470b-79a7-4128-9d4d-0fa9f25b2ca4
\n2025-08-03 21:58:40,458 - INFO - Hashtags from Gemini for design 4598470b-79a7-4128-9d4d-0fa9f25b2ca4: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-03 21:58:40,458 - INFO - Saving hashtags for design 4598470b-79a7-4128-9d4d-0fa9f25b2ca4: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'], 'unknown': []}
\n2025-08-03 21:58:40,669 - INFO - Saved 10 hashtags for design 4598470b-79a7-4128-9d4d-0fa9f25b2ca4
\n2025-08-03 21:58:40,670 - INFO - Hashtags saved for design 4598470b-79a7-4128-9d4d-0fa9f25b2ca4: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer']
\n2025-08-03 21:58:40,670 - INFO - Hashtags saved for design 4598470b-79a7-4128-9d4d-0fa9f25b2ca4: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#oturma_odasi', '#modern_salon', '#aile_dostu', '#konforlu_ev', '#dogal_isik', '#notr_renkler', '#fonksiyonel_tasarim', '#sicak_atmosfer']
\n2025-08-03 21:58:40,671 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 21:58:40,671 - INFO - Hybrid mood board generation - Design ID: 4598470b-79a7-4128-9d4d-0fa9f25b2ca4 (type: <class 'str'>)
\n2025-08-03 21:58:40,671 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: preparing_prompt
\n2025-08-03 21:58:40,672 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: preparing_prompt
\n2025-08-03 21:58:40,672 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: optimizing_prompt
\n2025-08-03 21:58:40,672 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:40,673 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 21:58:40,673 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:40,673 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:41,593 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:41,595 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:42,212 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:58:42,228 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:58:42,228 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:58:42,265 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:58:42,274 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:58:42,274 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 21:58:43,099 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:44,601 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:46,102 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:47,603 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:49,104 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:50,416 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:50,416 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: generating_image
\n2025-08-03 21:58:50,675 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 21:58:50,676 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: processing_image
\n2025-08-03 21:58:50,676 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: processing_image
\n2025-08-03 21:58:50,689 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_215850_d23ee8f4.png
\n2025-08-03 21:58:50,690 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: finalizing
\n2025-08-03 21:58:50,690 - INFO - Hybrid mood board data structure for d23ee8f4-62b5-45b7-9f0b-9a06638071e8:
\n2025-08-03 21:58:50,690 - INFO -   - mood_board_id: d23ee8f4-62b5-45b7-9f0b-9a06638071e8
\n2025-08-03 21:58:50,690 - INFO -   - created_at: 2025-08-03T21:58:50.690601
\n2025-08-03 21:58:50,691 - INFO -   - image_data.created_at: 2025-08-03T21:58:50.690601
\n2025-08-03 21:58:50,691 - INFO -   - generation_metadata.generated_at: 2025-08-03T21:58:50.690601
\n2025-08-03 21:58:50,691 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_215850_d23ee8f4.png
\n2025-08-03 21:58:51,186 - INFO - Mood board progress updated for d0086452-6c90-462e-b55f-e4206b217c90: completed
\n2025-08-03 21:58:51,186 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 4598470b-79a7-4128-9d4d-0fa9f25b2ca4 (type: <class 'str'>)
\n2025-08-03 21:58:51,187 - INFO - Creating MoodBoard with:
\n2025-08-03 21:58:51,187 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 21:58:51,187 - INFO -   design_id: 4598470b-79a7-4128-9d4d-0fa9f25b2ca4 (type: <class 'str'>)
\n2025-08-03 21:58:51,187 - INFO -   mood_board_id: d23ee8f4-62b5-45b7-9f0b-9a06638071e8 (type: <class 'str'>)
\n2025-08-03 21:58:51,187 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_215850_d23ee8f4.png... (type: <class 'str'>)
\n2025-08-03 21:58:51,187 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in modern styl... (type: <class 'str'>)
\n2025-08-03 21:58:51,748 - INFO - Mood board d23ee8f4-62b5-45b7-9f0b-9a06638071e8 saved to database and linked to design 4598470b-79a7-4128-9d4d-0fa9f25b2ca4
\n2025-08-03 21:58:51,749 - INFO - Hybrid mood board generated successfully: d23ee8f4-62b5-45b7-9f0b-9a06638071e8 with 0 real + 8 fake products
\n2025-08-03 21:59:32,180 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 21:59:32,185 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 21:59:32,185 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:01:56,603 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 22:01:56,744 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 22:01:56,744 - INFO - HYBRID design request from suakbenli@gmail.com: salon - modern
\n2025-08-03 22:01:56,744 - INFO - Generating HYBRID design suggestion: salon - modern
\n2025-08-03 22:01:56,744 - INFO - Added room dimensions to context: 500x500x300 cm
\n2025-08-03 22:01:56,745 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 22:01:56,745 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 22:02:04,397 - WARNING - Unknown function call: 
\n2025-08-03 22:02:04,397 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 22:02:04,398 - INFO - Searching products: category=koltuk, style=modern, color=gri
\n2025-08-03 22:02:04,536 - INFO - Found 0 products for category=koltuk
\n2025-08-03 22:02:04,537 - INFO - Product marked as fake: KÃ¶ÅŸe Koltuk TakÄ±mÄ±
\n2025-08-03 22:02:04,537 - INFO - Searching products: category=sehpa, style=modern, color=doÄŸal
\n2025-08-03 22:02:04,607 - INFO - Found 0 products for category=sehpa
\n2025-08-03 22:02:04,608 - INFO - Product marked as fake: Orta Sehpa
\n2025-08-03 22:02:04,609 - INFO - Searching products: category=kitaplik, style=modern, color=beyaz
\n2025-08-03 22:02:04,678 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 22:02:04,678 - INFO - Product marked as fake: Duvara Monte KitaplÄ±k
\n2025-08-03 22:02:04,678 - INFO - Searching products: category=aydinlatma, style=modern, color=siyah
\n2025-08-03 22:02:04,746 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 22:02:04,746 - INFO - Product marked as fake: AyaklÄ± Lambader
\n2025-08-03 22:02:04,746 - INFO - Searching products: category=Ev MobilyalarÄ±, style=modern, color=beyaz
\n2025-08-03 22:02:04,814 - INFO - Found 0 products for category=Ev MobilyalarÄ±
\n2025-08-03 22:02:04,814 - INFO - Product marked as fake: TV Ãœnitesi
\n2025-08-03 22:02:04,815 - INFO - Searching products: category=dekorasyon, style=modern, color=gÃ¼mÃ¼ÅŸ
\n2025-08-03 22:02:04,883 - INFO - Found 0 products for category=dekorasyon
\n2025-08-03 22:02:04,883 - INFO - Product marked as fake: Dekoratif Aynalar
\n2025-08-03 22:02:04,884 - INFO - Searching products: category=Ev Tekstili, style=modern, color=gri
\n2025-08-03 22:02:04,951 - INFO - Found 0 products for category=Ev Tekstili
\n2025-08-03 22:02:04,951 - INFO - Product marked as fake: Salon HalÄ±sÄ±
\n2025-08-03 22:02:04,951 - INFO - Searching products: category=dekorasyon, style=modern, color=beyaz
\n2025-08-03 22:02:05,019 - INFO - Found 0 products for category=dekorasyon
\n2025-08-03 22:02:05,020 - INFO - Product marked as fake: Bitki SaksÄ±larÄ±
\n2025-08-03 22:02:05,020 - INFO - Product enhancement complete: 0 real, 8 fake products
\n2025-08-03 22:02:05,020 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 22:02:05,020 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Modern Salon TasarÄ±mÄ±: Huzurlu ve AydÄ±nlÄ±k
\n2025-08-03 22:02:05,020 - INFO - Product mix: 0 real + 8 fake = 8 total (0% real)
\n2025-08-03 22:02:05,020 - INFO - Starting HYBRID background room visualization generation for connection: 971f5c24-0ca2-4ca9-8e8e-10874f036e22
\n2025-08-03 22:02:05,021 - INFO - Mood board will use 0 real product images for visual reference
\n2025-08-03 22:02:05,348 - INFO - Design saved to database for suakbenli@gmail.com with ID: b1bd3c13-4e38-481b-a86f-2e5f2423b097
\n2025-08-03 22:02:05,349 - INFO - Hashtags from Gemini for design b1bd3c13-4e38-481b-a86f-2e5f2423b097: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'unknown': []}
\n2025-08-03 22:02:05,349 - INFO - Saving hashtags for design b1bd3c13-4e38-481b-a86f-2e5f2423b097: {'en': [], 'tr': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'display': ['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'], 'unknown': []}
\n2025-08-03 22:02:05,544 - INFO - Saved 10 hashtags for design b1bd3c13-4e38-481b-a86f-2e5f2423b097
\n2025-08-03 22:02:05,544 - INFO - Hashtags saved for design b1bd3c13-4e38-481b-a86f-2e5f2423b097: EN=[], TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik']
\n2025-08-03 22:02:05,545 - INFO - Hashtags saved for design b1bd3c13-4e38-481b-a86f-2e5f2423b097: EN=[] TR=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik'] DISPLAY=['#ic_tasarim', '#ev_tasarimi', '#salon_dekorasyonu', '#modern_salon', '#oturma_odasi', '#notr_renkler', '#aile_dostu', '#rahat', '#fonksiyonel', '#dogal_isik']
\n2025-08-03 22:02:05,546 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 22:02:05,546 - INFO - Hybrid mood board generation - Design ID: b1bd3c13-4e38-481b-a86f-2e5f2423b097 (type: <class 'str'>)
\n2025-08-03 22:02:05,546 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: preparing_prompt
\n2025-08-03 22:02:05,547 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: preparing_prompt
\n2025-08-03 22:02:05,547 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: optimizing_prompt
\n2025-08-03 22:02:05,547 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:05,547 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 22:02:05,548 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:05,548 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:06,612 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:06,613 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:07,143 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:02:07,151 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:02:07,151 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:02:07,271 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:02:07,276 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:02:07,276 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:02:08,122 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:09,625 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:11,141 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:12,642 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:14,144 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:15,647 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:16,162 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:16,163 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: generating_image
\n2025-08-03 22:02:16,448 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 22:02:16,449 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: processing_image
\n2025-08-03 22:02:16,450 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: processing_image
\n2025-08-03 22:02:16,462 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_220216_81f8f41e.png
\n2025-08-03 22:02:16,462 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: finalizing
\n2025-08-03 22:02:16,463 - INFO - Hybrid mood board data structure for 81f8f41e-f833-45dc-bd02-1b5793c9e512:
\n2025-08-03 22:02:16,463 - INFO -   - mood_board_id: 81f8f41e-f833-45dc-bd02-1b5793c9e512
\n2025-08-03 22:02:16,463 - INFO -   - created_at: 2025-08-03T22:02:16.463156
\n2025-08-03 22:02:16,463 - INFO -   - image_data.created_at: 2025-08-03T22:02:16.463156
\n2025-08-03 22:02:16,463 - INFO -   - generation_metadata.generated_at: 2025-08-03T22:02:16.463156
\n2025-08-03 22:02:16,463 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_220216_81f8f41e.png
\n2025-08-03 22:02:16,962 - INFO - Mood board progress updated for 971f5c24-0ca2-4ca9-8e8e-10874f036e22: completed
\n2025-08-03 22:02:16,962 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: b1bd3c13-4e38-481b-a86f-2e5f2423b097 (type: <class 'str'>)
\n2025-08-03 22:02:16,962 - INFO - Creating MoodBoard with:
\n2025-08-03 22:02:16,962 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 22:02:16,963 - INFO -   design_id: b1bd3c13-4e38-481b-a86f-2e5f2423b097 (type: <class 'str'>)
\n2025-08-03 22:02:16,963 - INFO -   mood_board_id: 81f8f41e-f833-45dc-bd02-1b5793c9e512 (type: <class 'str'>)
\n2025-08-03 22:02:16,963 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_220216_81f8f41e.png... (type: <class 'str'>)
\n2025-08-03 22:02:16,963 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home living room in modern styl... (type: <class 'str'>)
\n2025-08-03 22:02:17,476 - INFO - Mood board 81f8f41e-f833-45dc-bd02-1b5793c9e512 saved to database and linked to design b1bd3c13-4e38-481b-a86f-2e5f2423b097
\n2025-08-03 22:02:17,476 - INFO - Hybrid mood board generated successfully: 81f8f41e-f833-45dc-bd02-1b5793c9e512 with 0 real + 8 fake products
\n2025-08-03 22:03:22,852 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:03:22,858 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:03:22,858 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:03:22,881 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:03:22,887 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:03:22,887 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:05:29,990 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:05:29,995 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:05:29,995 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:06:42,769 - INFO - Auth middleware - user_id from token: 1 (type: <class 'int'>)
\n2025-08-03 22:06:42,908 - INFO - User ID: 1 (type: <class 'int'>)
\n2025-08-03 22:06:42,909 - INFO - HYBRID design request from suakbenli@gmail.com: Ã§ocuk - modern
\n2025-08-03 22:06:42,909 - INFO - Generating HYBRID design suggestion: Ã§ocuk - modern
\n2025-08-03 22:06:42,909 - INFO - Added room dimensions to context: 400x400x250 cm
\n2025-08-03 22:06:42,909 - INFO - Starting Function Calling session with Gemini
\n2025-08-03 22:06:42,909 - INFO - FunctionCallHandler initialized with price limit: None
\n2025-08-03 22:06:50,957 - WARNING - Unknown function call: 
\n2025-08-03 22:06:50,958 - INFO - Successfully completed Function Calling session in 1 iterations
\n2025-08-03 22:06:50,958 - INFO - Searching products: category=kitaplik, style=modern, color=beyaz
\n2025-08-03 22:06:51,151 - INFO - Found 0 products for category=kitaplik
\n2025-08-03 22:06:51,152 - INFO - Product marked as fake: Modern Beyaz KitaplÄ±k
\n2025-08-03 22:06:51,152 - INFO - Searching products: category=yatak, style=modern, color=aÃ§Ä±k gri
\n2025-08-03 22:06:51,219 - INFO - Found 0 products for category=yatak
\n2025-08-03 22:06:51,219 - INFO - Product marked as fake: Ã‡ocuk OdasÄ± YataÄŸÄ±
\n2025-08-03 22:06:51,220 - INFO - Searching products: category=sehpa, style=modern, color=beyaz
\n2025-08-03 22:06:51,284 - INFO - Found 0 products for category=sehpa
\n2025-08-03 22:06:51,285 - INFO - Product marked as fake: Ã‡ocuk OdasÄ± Sehpa
\n2025-08-03 22:06:51,285 - INFO - Searching products: category=aydinlatma, style=modern, color=pembe
\n2025-08-03 22:06:51,350 - INFO - Found 0 products for category=aydinlatma
\n2025-08-03 22:06:51,351 - INFO - Product marked as fake: Ã‡ocuk OdasÄ± Abajur
\n2025-08-03 22:06:51,351 - INFO - Searching products: category=koltuk, style=modern, color=mavi
\n2025-08-03 22:06:51,417 - INFO - Found 0 products for category=koltuk
\n2025-08-03 22:06:51,417 - INFO - Product marked as fake: Ã‡ocuk OdasÄ± Puf Koltuk
\n2025-08-03 22:06:51,417 - INFO - Searching products: category=HalÄ±, style=modern, color=Ã§ok renkli
\n2025-08-03 22:06:51,482 - INFO - Product TIPHEDE bÃ¼yÃ¼k halÄ±, naturel/kÄ±rÄ±k beyaz: original_path=/data/products/hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg -> relative_path=hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg -> image_url=http://localhost:8000/static/products/hali/tiphede-naturel-kirik-beyaz-120x180-cm-buyuk-hali.jpg
\n2025-08-03 22:06:51,482 - INFO - Found 1 products for category=HalÄ±
\n2025-08-03 22:06:51,482 - INFO - Enhanced product with real data: TIPHEDE bÃ¼yÃ¼k halÄ±, naturel/kÄ±rÄ±k beyaz
\n2025-08-03 22:06:51,482 - INFO - Searching products: category=Perde, style=modern, color=bej
\n2025-08-03 22:06:51,547 - INFO - Found 0 products for category=Perde
\n2025-08-03 22:06:51,547 - INFO - Product marked as fake: GÃ¼neÅŸlik Perde
\n2025-08-03 22:06:51,547 - INFO - Searching products: category=Duvar Dekoru, style=modern, color=Ã§eÅŸitli
\n2025-08-03 22:06:51,612 - INFO - Found 0 products for category=Duvar Dekoru
\n2025-08-03 22:06:51,612 - INFO - Product marked as fake: Duvar Sticker Seti
\n2025-08-03 22:06:51,612 - INFO - Product enhancement complete: 1 real, 7 fake products
\n2025-08-03 22:06:51,612 - INFO - Hybrid design suggestion generated successfully
\n2025-08-03 22:06:51,613 - INFO - HYBRID design suggestion created successfully for suakbenli@gmail.com: Ã‡ocuk OdasÄ± Modern TasarÄ±m
\n2025-08-03 22:06:51,613 - INFO - Product mix: 1 real + 7 fake = 8 total (12% real)
\n2025-08-03 22:06:51,613 - INFO - Starting HYBRID background room visualization generation for connection: 4561d665-e8cb-4746-9d94-862fd7e3790b
\n2025-08-03 22:06:51,613 - INFO - Mood board will use 1 real product images for visual reference
\n2025-08-03 22:06:52,004 - INFO - Design saved to database for suakbenli@gmail.com with ID: 12e8361c-d50a-4959-a560-fa65bd6e18ab
\n2025-08-03 22:06:52,005 - INFO - Hashtags from Gemini for design 12e8361c-d50a-4959-a560-fa65bd6e18ab: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu'], 'unknown': []}
\n2025-08-03 22:06:52,005 - INFO - Saving hashtags for design 12e8361c-d50a-4959-a560-fa65bd6e18ab: {'en': [], 'tr': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu'], 'display': ['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu'], 'unknown': []}
\n2025-08-03 22:06:52,138 - INFO - Saved 10 hashtags for design 12e8361c-d50a-4959-a560-fa65bd6e18ab
\n2025-08-03 22:06:52,138 - INFO - Hashtags saved for design 12e8361c-d50a-4959-a560-fa65bd6e18ab: EN=[], TR=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu']
\n2025-08-03 22:06:52,139 - INFO - Hashtags saved for design 12e8361c-d50a-4959-a560-fa65bd6e18ab: EN=[] TR=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu'] DISPLAY=['#ic_tasarim', '#cocuk_odasi', '#modern_tasarim', '#fonksiyonel_mobilya', '#notr_renkler', '#oyun_alani', '#calisma_masasi', '#depolama_cozumleri', '#ergonomik_tasarim', '#aile_dostu']
\n2025-08-03 22:06:52,140 - INFO - Hybrid mood board generation - User ID: 1 (type: <class 'int'>)
\n2025-08-03 22:06:52,140 - INFO - Hybrid mood board generation - Design ID: 12e8361c-d50a-4959-a560-fa65bd6e18ab (type: <class 'str'>)
\n2025-08-03 22:06:52,140 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: preparing_prompt
\n2025-08-03 22:06:52,141 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: preparing_prompt
\n2025-08-03 22:06:52,141 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: optimizing_prompt
\n2025-08-03 22:06:52,141 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:52,141 - INFO - ðŸŽ¨ Generating room visualization with Vertex AI...
\n2025-08-03 22:06:52,142 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:52,142 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:53,068 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:53,070 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:53,643 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:06:53,648 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:06:53,649 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:06:53,692 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:06:53,698 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:06:53,698 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:06:54,577 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:56,080 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:57,587 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:06:59,102 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:07:00,617 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:07:02,131 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:07:02,164 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:07:02,165 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: generating_image
\n2025-08-03 22:07:02,434 - INFO - âœ… Vertex AI room visualization generated successfully
\n2025-08-03 22:07:02,435 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: processing_image
\n2025-08-03 22:07:02,435 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: processing_image
\n2025-08-03 22:07:02,449 - INFO - Room visualization image saved: data\mood_boards\room_visual_20250803_220702_88fe55c5.png
\n2025-08-03 22:07:02,450 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: finalizing
\n2025-08-03 22:07:02,450 - INFO - Hybrid mood board data structure for 88fe55c5-0f30-4733-bda9-62e39c2266fc:
\n2025-08-03 22:07:02,450 - INFO -   - mood_board_id: 88fe55c5-0f30-4733-bda9-62e39c2266fc
\n2025-08-03 22:07:02,451 - INFO -   - created_at: 2025-08-03T22:07:02.450789
\n2025-08-03 22:07:02,451 - INFO -   - image_data.created_at: 2025-08-03T22:07:02.450789
\n2025-08-03 22:07:02,451 - INFO -   - generation_metadata.generated_at: 2025-08-03T22:07:02.450789
\n2025-08-03 22:07:02,451 - INFO - Sending completed message - status: success, has_base64: True, file_path: data\mood_boards\room_visual_20250803_220702_88fe55c5.png
\n2025-08-03 22:07:02,893 - INFO - Mood board progress updated for 4561d665-e8cb-4746-9d94-862fd7e3790b: completed
\n2025-08-03 22:07:02,893 - INFO - Saving mood board to database - user_id: 1 (type: <class 'int'>), design_id: 12e8361c-d50a-4959-a560-fa65bd6e18ab (type: <class 'str'>)
\n2025-08-03 22:07:02,893 - INFO - Creating MoodBoard with:
\n2025-08-03 22:07:02,893 - INFO -   user_id: 1 (type: <class 'int'>)
\n2025-08-03 22:07:02,893 - INFO -   design_id: 12e8361c-d50a-4959-a560-fa65bd6e18ab (type: <class 'str'>)
\n2025-08-03 22:07:02,894 - INFO -   mood_board_id: 88fe55c5-0f30-4733-bda9-62e39c2266fc (type: <class 'str'>)
\n2025-08-03 22:07:02,894 - INFO -   image_file_path: data\mood_boards\room_visual_20250803_220702_88fe55c5.png... (type: <class 'str'>)
\n2025-08-03 22:07:02,894 - INFO -   prompt_used: 
Create a photorealistic residential home interior design image of a home Ã§ocuk in modern style.

IM... (type: <class 'str'>)
\n2025-08-03 22:07:03,215 - INFO - Mood board 88fe55c5-0f30-4733-bda9-62e39c2266fc saved to database and linked to design 12e8361c-d50a-4959-a560-fa65bd6e18ab
\n2025-08-03 22:07:03,216 - INFO - Hybrid mood board generated successfully: 88fe55c5-0f30-4733-bda9-62e39c2266fc with 1 real + 7 fake products
\n2025-08-03 22:07:39,799 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:07:39,805 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:07:39,806 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:07:39,857 - INFO - GeminiClient: Gemini client initialized with Function Calling support
\n2025-08-03 22:07:39,863 - INFO - ProductService: ProductService initialized for Function Calling
\n2025-08-03 22:07:39,864 - INFO - GeminiService: GeminiService initialized with Function Calling support
\n2025-08-03 22:09:54,346 - WARNING - HTTP Exception: 404 - Not Found
